(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function has(a){return has.cache[a]}function configureDetectionTools(){if(!navigator)return log("error: configureDetectionTools: configuration failed"),null;var a=navigator,i=a.userAgent,s=a.appVersion,e=parseFloat(s);if(has.add("air",i.indexOf("AdobeAIR")>=0),has.add("khtml",s.indexOf("Konqueror")>=0?e:void 0),has.add("webkit",parseFloat(i.split("WebKit/")[1])||void 0),has.add("chrome",parseFloat(i.split("Chrome/")[1])||void 0),has.add("safari",s.indexOf("Safari")>=0&&!has("chrome")?parseFloat(s.split("Version/")[1]):void 0),has.add("mac",s.indexOf("Macintosh")>=0),has.add("quirks","BackCompat"==document.compatMode),has.add("ios",/iPhone|iPod|iPad/.test(i)),has.add("android",parseFloat(i.split("Android ")[1])||void 0),!has("webkit")){if(i.indexOf("Opera")>=0&&has.add("opera",e>=9.8?parseFloat(i.split("Version/")[1])||e:e),i.indexOf("Gecko")>=0&&!has("khtml")&&!has("webkit")&&has.add("mozilla",e),has("mozilla")&&has.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0),document.all&&!has("opera")){var o=parseFloat(s.split("MSIE ")[1])||void 0,d=document.documentMode;d&&5!=d&&Math.floor(o)!=d&&(o=d),has.add("ie",o)}has.add("wii","undefined"!=typeof opera&&opera.wiiremote)}var r={isFF:has("ff"),isIE:has("ie"),isKhtml:has("khtml"),isWebKit:has("webkit"),isMozilla:has("mozilla"),isMoz:has("mozilla"),isOpera:has("opera"),isSafari:has("safari"),isChrome:has("chrome"),isMac:has("mac"),isIos:has("ios"),isAndroid:has("android"),isWii:has("wii"),isQuirks:has("quirks"),isAir:has("air")};return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=configureDetectionTools,has.cache={},has.add=function(a,i){has.cache[a]=i};

},{}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function getElementsByProperty(t,e){var i=[];t.getAttribute(e)&&i.push(t);for(var n=0;n<t.childNodes.length;++n)if(1==t.childNodes[n].nodeType){var a=getElementsByProperty(t.childNodes[n],e);i=i.concat(a)}return i}function onKeyDown(t){t||(t=window.event);var e=t.keyCode||t.charCode;return!processingEffect&&keyCodeDictionary[currentMode]&&keyCodeDictionary[currentMode][e]?keyCodeDictionary[currentMode][e]():(document.onkeypress=onKeyPress,null)}function onKeyPress(t){document.onkeypress=null,t||(t=window.event);var e=String.fromCharCode(t.keyCode||t.charCode);return!processingEffect&&charCodeDictionary[currentMode]&&charCodeDictionary[currentMode][e]?charCodeDictionary[currentMode][e]():null}function getDefaultKeyCodeDictionary(){var t={};return t[SLIDE_MODE]={},t[INDEX_MODE]={},t[SLIDE_MODE][LEFT_KEY]=function(){return aSlideShow.rewindEffect()},t[SLIDE_MODE][RIGHT_KEY]=function(){return dispatchEffects(1)},t[SLIDE_MODE][UP_KEY]=function(){return aSlideShow.rewindEffect()},t[SLIDE_MODE][DOWN_KEY]=function(){return skipEffects(1)},t[SLIDE_MODE][PAGE_UP_KEY]=function(){return aSlideShow.rewindAllEffects()},t[SLIDE_MODE][PAGE_DOWN_KEY]=function(){return skipAllEffects()},t[SLIDE_MODE][HOME_KEY]=function(){return aSlideShow.displaySlide(0,!0)},t[SLIDE_MODE][END_KEY]=function(){return aSlideShow.displaySlide(theMetaDoc.nNumberOfSlides-1,!0)},t[SLIDE_MODE][SPACE_KEY]=function(){return dispatchEffects(1)},t[INDEX_MODE][LEFT_KEY]=function(){return indexSetPageSlide(theSlideIndexPage.selectedSlideIndex-1)},t[INDEX_MODE][RIGHT_KEY]=function(){return indexSetPageSlide(theSlideIndexPage.selectedSlideIndex+1)},t[INDEX_MODE][UP_KEY]=function(){return indexSetPageSlide(theSlideIndexPage.selectedSlideIndex-theSlideIndexPage.indexColumns)},t[INDEX_MODE][DOWN_KEY]=function(){return indexSetPageSlide(theSlideIndexPage.selectedSlideIndex+theSlideIndexPage.indexColumns)},t[INDEX_MODE][PAGE_UP_KEY]=function(){return indexSetPageSlide(theSlideIndexPage.selectedSlideIndex-theSlideIndexPage.getTotalThumbnails())},t[INDEX_MODE][PAGE_DOWN_KEY]=function(){return indexSetPageSlide(theSlideIndexPage.selectedSlideIndex+theSlideIndexPage.getTotalThumbnails())},t[INDEX_MODE][HOME_KEY]=function(){return indexSetPageSlide(0)},t[INDEX_MODE][END_KEY]=function(){return indexSetPageSlide(theMetaDoc.nNumberOfSlides-1)},t[INDEX_MODE][ENTER_KEY]=function(){return toggleSlideIndex()},t[INDEX_MODE][SPACE_KEY]=function(){return toggleSlideIndex()},t[INDEX_MODE][ESCAPE_KEY]=function(){return abandonIndexMode()},t}function getDefaultCharCodeDictionary(){var t={};return t[SLIDE_MODE]={},t[INDEX_MODE]={},t[SLIDE_MODE].i=function(){return toggleSlideIndex()},t[INDEX_MODE].i=function(){return toggleSlideIndex()},t[INDEX_MODE]["-"]=function(){return theSlideIndexPage.decreaseNumberOfColumns()},t[INDEX_MODE]["="]=function(){return theSlideIndexPage.increaseNumberOfColumns()},t[INDEX_MODE]["+"]=function(){return theSlideIndexPage.increaseNumberOfColumns()},t[INDEX_MODE][0]=function(){return theSlideIndexPage.resetNumberOfColumns()},t}function slideOnMouseUp(t){t||(t=window.event);var e=0;return 0==t.button?e=1:2==t.button&&(e=-1),0!=e&&dispatchEffects(e),!0}function slideOnMouseWheel(t){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e>0?skipEffects(-1):0>e&&skipEffects(1),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function mouseHandlerDispatch(t,e){t||(t=window.event);var i=!0;if(mouseHandlerDictionary[currentMode]&&mouseHandlerDictionary[currentMode][e]){var n=mouseHandlerDictionary[currentMode][e](t);null!=n&&void 0!=n&&(i=n)}return t.preventDefault&&!i&&t.preventDefault(),t.returnValue=i,i}function mouseClickHelper(t){if(!Detect.isMozilla){var e=document.defaultView;if(e){var i=e.getSelection(),n=i.toString();if(n)return DBGLOG("text selection: "+n),sLastSelectedText!==n?(bTextHasBeenSelected=!0,sLastSelectedText=n):bTextHasBeenSelected=!1,null;if(bTextHasBeenSelected)return bTextHasBeenSelected=!1,sLastSelectedText="",null}else log("error: HyperlinkElement.handleClick: invalid window object.")}var a=theMetaDoc.aMetaSlideSet[nCurSlide].aSlideAnimationsHandler;if(a){var r=a.aEventMultiplexer;if(r&&r.hasRegisteredMouseClickHandlers())return r.notifyMouseClick(t)}return slideOnMouseUp(t)}function getDefaultMouseHandlerDictionary(){var t={};return t[SLIDE_MODE]={},t[INDEX_MODE]={},t[SLIDE_MODE][MOUSE_UP]=mouseClickHelper,t[SLIDE_MODE][MOUSE_WHEEL]=function(t){return slideOnMouseWheel(t)},t[INDEX_MODE][MOUSE_UP]=function(){return toggleSlideIndex()},t}function indexSetPageSlide(t){var e=theMetaDoc.aMetaSlideSet;t=getSafeIndex(t,0,e.length-1);var i=t%theSlideIndexPage.getTotalThumbnails(),n=t-i;0>n&&(n=0),n!=INDEX_OFFSET&&(INDEX_OFFSET=n,displayIndex(INDEX_OFFSET)),theSlideIndexPage.setSelection(i)}function object(t){var e=function(){};return e.prototype=t,new e}function extend(t,e){e&&t||alert("extend failed, verify dependencies");var i=Object.prototype,n=e.prototype,a=object(n);return t.prototype=a,a.constructor=t,t.superclass=n,e!=Object&&n.constructor==i.constructor&&(n.constructor=e),t}function instantiate(t,e){t.instanceSet||(t.instanceSet=[]);for(var i=t.instanceSet.length,n=0;i>n;++n)if(t.instanceSet[n].base===e)return t.instanceSet[n].instance;return t.instanceSet[i]={},t.instanceSet[i].base=e,t.instanceSet[i].instance=t(e),t.instanceSet[i].instance}function Rectangle(t){var e=parseInt(t.getAttribute("x")),i=parseInt(t.getAttribute("y")),n=parseInt(t.getAttribute("width")),a=parseInt(t.getAttribute("height"));this.left=e,this.right=e+n,this.top=i,this.bottom=i+a}function getKeyByValue(t,e){for(var i in t)if(t[i]==e)return i;return null}function log(t){"object"==("undefined"==typeof console?"undefined":_typeof(console))?console.log(t):"object"==("undefined"==typeof opera?"undefined":_typeof(opera))?opera.postError(t):"object"==("undefined"==typeof java?"undefined":_typeof(java))&&"object"==_typeof(java.lang)&&java.lang.System.out.println(t)}function getNSAttribute(t,e,i){return e?"getAttributeNS"in e?e.getAttributeNS(NSS[t],i):e.getAttribute(t+":"+i):null}function getOOOAttribute(t,e){return getNSAttribute("ooo",t,e)}function setNSAttribute(t,e,i,n){return e?"setAttributeNS"in e?(e.setAttributeNS(NSS[t],i,n),!0):(e.setAttribute(t+":"+i,n),!0):!1}function getElementsByClassName(t,e){var i=[];if("getElementsByClassName"in t)i=t.getElementsByClassName(e);else for(var n=getElementsByProperty(t,"class"),a=0;a<n.length;++a){var r=n[a].getAttribute("class");r==e&&i.push(n[a])}return i}function getElementByClassName(t,e){var i=getElementsByClassName(t,e);return 1==i.length?i[0]:null}function getClassAttribute(t){return t?t.getAttribute("class"):""}function createElementGroup(t,e,i,n,a,r){var s=i+n;if(1>n||e.length<s)return void log("createElementGroup: not enough elements available.");var o=e[i];if(!o)return void log("createElementGroup: element not found.");var l=document.createElementNS(NSS.svg,"g");r&&l.setAttribute("id",r),a&&l.setAttribute("class",a),t.insertBefore(l,o);for(var E=i;s>E;++E)t.removeChild(e[E]),l.appendChild(e[E])}function initVisibilityProperty(t){var e=VISIBLE,i=t.getAttribute("visibility");return i&&(e=aVisibilityValue[i]),e}function getSafeIndex(t,e,i){return e>t?e:t>i?i:t}function getRandomInt(t){return Math.floor(Math.random()*t)}function DebugPrinter(){this.bEnabled=!1}function MetaDocument(){var t=document.getElementById(aOOOElemMetaSlides);assert(t,"MetaDocument: the svg element with id:"+aOOOElemMetaSlides+"is not valid."),this.nNumberOfSlides=parseInt(t.getAttributeNS(NSS.ooo,aOOOAttrNumberOfSlides)),assert("number"==typeof this.nNumberOfSlides&&this.nNumberOfSlides>0,"MetaDocument: number of slides is zero or undefined."),this.nStartSlideNumber=parseInt(t.getAttributeNS(NSS.ooo,aOOOAttrStartSlideNumber))||0,this.sPageNumberingType=t.getAttributeNS(NSS.ooo,aOOOAttrNumberingType)||"arabic",this.bIsUsePositionedChars="true"===t.getAttributeNS(NSS.ooo,aOOOAttrUsePositionedChars),this.aClipPathGroup=getElementByClassName(ROOT_NODE,aClipPathGroupClassName),assert(this.aClipPathGroup,"MetaDocument: the clip path group element is not valid."),this.aPresentationClipPath=document.getElementById(aPresentationClipPathId),assert(this.aPresentationClipPath,"MetaDocument: the presentation clip path element element is not valid."),this.aMetaSlideSet=[],this.aMasterPageSet={},this.aTextFieldHandlerSet={},this.aTextFieldContentProviderSet=[],this.aSlideNumberProvider=new SlideNumberProvider(this.nStartSlideNumber+1,this.sPageNumberingType),this.bIsAnimated=!1,this.aSlideAnimationsMap={},this.initSlideAnimationsMap(),this.theMetaDummySlide=new MetaSlide("ooo:meta_dummy_slide",this);for(var e=0;e<this.nNumberOfSlides;++e){var i=aOOOElemMetaSlide+"_"+e;this.aMetaSlideSet.push(new MetaSlide(i,this))}assert(this.aMetaSlideSet.length==this.nNumberOfSlides,"MetaDocument: aMetaSlideSet.length != nNumberOfSlides.")}function MetaSlide(t,e){this.theDocument=document,this.id=t,this.theMetaDoc=e,this.element=this.theDocument.getElementById(this.id),assert(this.element,"MetaSlide: meta_slide element <"+this.id+"> not found."),this.slideId=this.element.getAttributeNS(NSS.ooo,aOOOAttrSlide),this.slideElement=this.theDocument.getElementById(this.slideId),assert(this.slideElement,"MetaSlide: slide element <"+this.slideId+"> not found."),"dummy_slide"!==this.slideId?this.nSlideNumber=parseInt(this.slideId.substr(2)):this.nSlideNumber=-1,this.aContainerElement=this.slideElement.parentNode,this.slideContainerId=this.aContainerElement.getAttribute("id"),this.aVisibilityStatusElement=this.aContainerElement.parentNode,this.pageElement=getElementByClassName(this.slideElement,aPageClassName),assert(this.pageElement,"MetaSlide: page element <"+this.slideId+"> not found."),this.masterPage=this.initMasterPage(),this.nAreMasterObjectsVisible=this.initVisibilityProperty(aOOOAttrMasterObjectsVisibility,VISIBLE),this.nIsBackgroundVisible=this.initVisibilityProperty(aOOOAttrBackgroundVisibility,VISIBLE),this.nIsPageNumberVisible=this.initVisibilityProperty(aOOOAttrPageNumberVisibility,HIDDEN),this.nIsDateTimeVisible=this.initVisibilityProperty(aOOOAttrDateTimeVisibility,VISIBLE),this.nIsFooterVisible=this.initVisibilityProperty(aOOOAttrFooterVisibility,VISIBLE),this.nIsHeaderVisible=this.initVisibilityProperty(aOOOAttrHeaderVisibility,VISIBLE),this.bIsDateTimeVariable=void 0,this.aTextFieldContentProviderSet={},this.aTextFieldContentProviderSet[aSlideNumberClassName]=this.initSlideNumberFieldContentProvider(),this.aTextFieldContentProviderSet[aDateTimeClassName]=this.initDateTimeFieldContentProvider(aOOOAttrDateTimeField),this.aTextFieldContentProviderSet[aFooterClassName]=this.initFixedTextFieldContentProvider(aOOOAttrFooterField),this.aTextFieldContentProviderSet[aHeaderClassName]=this.initFixedTextFieldContentProvider(aOOOAttrHeaderField),this.aTransitionHandler=null,this.bHasTransition=this.initHasTransition()||!0,this.bHasTransition&&(this.aTransitionHandler=new SlideTransition(this.getSlideAnimationsRoot(),this.slideId)),this.aSlideAnimationsHandler=new SlideAnimations(aSlideShow.getContext()),this.aSlideAnimationsHandler.importAnimations(this.getSlideAnimationsRoot()),this.aSlideAnimationsHandler.parseElements(),this.aTextShapeSet=this.collectTextShapes(),this.aHyperlinkSet=this.initHyperlinks()}function MasterPage(t,e){if(this.id=t,this.metaSlide=e,this.element=document.getElementById(this.id),assert(this.element,"MasterPage: master page element <"+this.id+"> not found."),this.background=getElementByClassName(this.element,"Background"),this.background?(this.backgroundId=this.background.getAttribute("id"),this.backgroundVisibility=initVisibilityProperty(this.background)):(this.backgroundId="",log("MasterPage: the background element is not valid.")),this.backgroundObjects=getElementByClassName(this.element,"BackgroundObjects"),this.backgroundObjects){if(this.backgroundObjectsId=this.backgroundObjects.getAttribute("id"),this.backgroundObjectsVisibility=initVisibilityProperty(this.backgroundObjects),this.backgroundObjectsVisibility!=HIDDEN){var i,n=getElementChildren(this.backgroundObjects),a=0,r=0,s=1,o="";this.aBackgroundObjectSubGroupIdList=[];for(var l=0;l<n.length;++l)i=n[l].getAttribute("class"),!i||i!==aDateTimeClassName&&i!==aFooterClassName&&i!==aHeaderClassName&&i!==aSlideNumberClassName?(0===r&&(a=l,o=this.backgroundObjectsId+"."+s,++s,this.aBackgroundObjectSubGroupIdList.push(o)),++r):(this.aBackgroundObjectSubGroupIdList.push(i),0!==r&&(createElementGroup(this.backgroundObjects,n,a,r,"BackgroundObjectSubgroup",o),r=0));0!==r&&createElementGroup(this.backgroundObjects,n,a,r,"BackgroundObjectSubgroup",o)}}else this.backgroundObjectsId="",log("MasterPage: the background objects element is not valid.");this.aPlaceholderShapeSet={},this.initPlaceholderShapes()}function PlaceholderShape(t,e){this.masterPage=t,this.className=e,this.element=null,this.textElement=null,this.init()}function MasterPageView(t){this.aMetaSlide=t,this.aSlideElement=t.slideElement,this.aPageElement=t.pageElement,this.aMasterPage=t.masterPage,this.aMPVElement=this.createElement(),this.bIsAttached=!1}function TextFieldHandler(t,e){this.aPlaceHolderShape=t,this.aTextContentProvider=e,assert(this.aTextContentProvider,"TextFieldHandler: text content provider not defined."),this.sId="tf"+String(TextFieldHandler.getUniqueId()),this.aTextFieldElement=null,this.aTextPlaceholderElement=null,this.cloneElement()}function SlideNumberFieldHandler(t,e){SlideNumberFieldHandler.superclass.constructor.call(this,t,e)}function TextFieldContentProvider(t){t&&(this.sId=t.getAttribute("id"))}function FixedTextProvider(t){FixedTextProvider.superclass.constructor.call(this,t),this.text=t.textContent}function CurrentDateTimeProvider(t){CurrentDateTimeProvider.superclass.constructor.call(this,t),this.dateTimeFormat=getOOOAttribute(t,aOOOAttrDateTimeFormat)}function SlideNumberProvider(t,e){SlideNumberProvider.superclass.constructor.call(this,null),this.nInitialSlideNumber=t,this.pageNumberingType=e}function SlideIndexPage(){this.pageElementId="slide_index",this.pageBgColor="rgb(252,252,252)",this.pageElement=this.createPageElement(),assert(this.pageElement,"SlideIndexPage: pageElement is not valid"),this.indexColumns=INDEX_COLUMNS_DEFAULT,this.totalThumbnails=this.indexColumns*this.indexColumns,this.selectedSlideIndex=void 0,this.xSpacingFactor=600/28e3,this.ySpacingFactor=450/21e3,this.xSpacing=WIDTH*this.xSpacingFactor,this.ySpacing=HEIGHT*this.ySpacingFactor,this.halfBorderWidthFactor=300/28e3*(this.indexColumns/3),this.halfBorderWidth=WIDTH*this.halfBorderWidthFactor,this.borderWidth=2*this.halfBorderWidth,this.scaleFactor=(1-(this.indexColumns+1)*this.xSpacingFactor)/(this.indexColumns*(1+2*this.halfBorderWidthFactor)),this.thumbnailMouseAreaTemplateId="thumbnail_mouse_area",this.thumbnailMouseAreaTemplateElement=null,this.thumbnailBorderTemplateId="thumbnail_border",this.thumbnailBorderTemplateElement=null,this.createTemplateElements(),this.aThumbnailSet=new Array(this.totalThumbnails);for(var t=0;t<this.totalThumbnails;++t)this.aThumbnailSet[t]=new Thumbnail(this,t),this.aThumbnailSet[t].updateView();this.curThumbnailIndex=0}function Thumbnail(t,e){this.container=t,this.index=e,this.pageElement=this.container.pageElement,this.thumbnailId="thumbnail"+this.index,this.thumbnailElement=this.createThumbnailElement(),this.slideElement=getElementByClassName(this.thumbnailElement,"Slide"),this.borderElement=getElementByClassName(this.thumbnailElement,"Border"),this.mouseAreaElement=getElementByClassName(this.thumbnailElement,"MouseArea"),this.aTransformSet=new Array(3),this.visibility=VISIBLE,this.isSelected=!1}function init(){var t=ROOT_NODE.getAttribute("viewBox");t&&(WIDTH=ROOT_NODE.viewBox.animVal.width,HEIGHT=ROOT_NODE.viewBox.animVal.height),aSlideShow=new SlideShow,theMetaDoc=new MetaDocument,aSlideShow.bIsEnabled=theMetaDoc.bIsAnimated,theSlideIndexPage=new SlideIndexPage,aSlideShow.displaySlide(theMetaDoc.nStartSlideNumber,!1)}function presentationEngineStop(){alert("We are sorry! An unexpected error occurred.\nThe presentation engine will be stopped"),document.onkeydown=null,document.onkeypress=null,document.onclick=null,window.onmousewheel=null}function assert(t,e){if(!t)throw presentationEngineStop(),"object"==("undefined"==typeof console?"undefined":_typeof(console))&&console.trace(),new Error(e)}function dispatchEffects(t){if(1==t){var e=aSlideShow.nextEffect();e||switchSlide(1,!1)}else switchSlide(t,!1)}function skipAllEffects(){var t=aSlideShow.skipAllEffects();t||switchSlide(1,!0)}function skipEffects(t){if(1==t){var e=aSlideShow.skipPlayingOrNextEffect();e||switchSlide(1,!0)}else switchSlide(t,!0)}function switchSlide(t,e){var i=nCurSlide+t;aSlideShow.displaySlide(i,e)}function displayIndex(t){var e=theMetaDoc.aMetaSlideSet;t=getSafeIndex(t,0,e.length-1);for(var i=theSlideIndexPage.getTotalThumbnails(),n=Math.min(t+i,e.length),a=theSlideIndexPage.aThumbnailSet,r=0,s=t;n>s;++s,++r)a[r].update(s),a[r].show();for(;i>r;++r)a[r].hide();INDEX_OFFSET!=t&&(INDEX_OFFSET=t)}function toggleSlideIndex(){if(currentMode==SLIDE_MODE)theMetaDoc.getCurrentSlide().hide(),INDEX_OFFSET=-1,indexSetPageSlide(nCurSlide),theSlideIndexPage.show(),currentMode=INDEX_MODE;else if(currentMode==INDEX_MODE){theSlideIndexPage.hide();var t=theSlideIndexPage.selectedSlideIndex;aSlideShow.displaySlide(t,!0),currentMode=SLIDE_MODE}}function abandonIndexMode(){theSlideIndexPage.selectedSlideIndex=nCurSlide,toggleSlideIndex()}function getUniqueId(){return++CURR_UNIQUE_ID,CURR_UNIQUE_ID}function mem_fn(t){return function(e){var i=e[t];i?i.call(e):log("method sMethodName not found")}}function bind(t,e){return function(){return e.call(t,arguments[0])}}function bind2(t){t||log("bind2: passed function is not valid.");var e=arguments,i=null;switch(e.length){case 1:i=function(){return t.call(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])};break;case 2:i=function(){return t.call(e[1],arguments[0],arguments[1],arguments[2],arguments[3])};break;case 3:i=function(){return t.call(e[1],e[2],arguments[0],arguments[1],arguments[2])};break;case 4:i=function(){return t.call(e[1],e[2],e[3],arguments[0],arguments[1])};break;case 5:i=function(){return t.call(e[1],e[2],e[3],e[4],arguments[0])};break;default:log("bind2: arity not handled.")}return i}function getCurrentSystemTime(){return Date.now&&Date.now()||(new Date).getTime()}function getElementChildren(t){for(var e=[],i=t.childNodes.length,n=0;i>n;++n)1==t.childNodes[n].nodeType&&e.push(t.childNodes[n]);return e}function removeWhiteSpaces(t){if(!t)return"";var e=/ */,i=t.split(e);return i.join("")}function clamp(t,e,i){return e>t?e:t>i?i:t}function makeMatrixString(t,e,i,n,a,r){var s="matrix(";return s+=t+", ",s+=e+", ",s+=i+", ",s+=n+", ",s+=a+", ",s+=r+")"}function booleanParser(t){return t=t.toLowerCase(),"true"===t?!0:"false"===t?!1:void 0}function colorParser(sValue){var sCommaPattern=" *[,] *",sIntegerPattern="[+-]?[0-9]+",sHexDigitPattern="[0-9A-Fa-f]",sHexColorPattern="#("+sHexDigitPattern+"{2})("+sHexDigitPattern+"{2})("+sHexDigitPattern+"{2})",sRGBIntegerPattern="rgb[(] *"+sIntegerPattern+sCommaPattern+sIntegerPattern+sCommaPattern+sIntegerPattern+" *[)]",sRGBPercentPattern="rgb[(] *"+sIntegerPattern+"%"+sCommaPattern+sIntegerPattern+"%"+sCommaPattern+sIntegerPattern+"% *[)]",sHSLPercentPattern="hsl[(] *"+sIntegerPattern+sCommaPattern+sIntegerPattern+"%"+sCommaPattern+sIntegerPattern+"% *[)]",reHexColor=new RegExp(sHexColorPattern),reRGBInteger=new RegExp(sRGBIntegerPattern),reRGBPercent=new RegExp(sRGBPercentPattern),reHSLPercent=new RegExp(sHSLPercentPattern);if(reHexColor.test(sValue)){var aRGBTriple=reHexColor.exec(sValue),nRed=parseInt(aRGBTriple[1],16)/255,nGreen=parseInt(aRGBTriple[2],16)/255,nBlue=parseInt(aRGBTriple[3],16)/255;return new RGBColor(nRed,nGreen,nBlue)}return reHSLPercent.test(sValue)?(sValue=sValue.replace("%","").replace("%",""),eval(sValue)):reRGBInteger.test(sValue)?eval(sValue):reRGBPercent.test(sValue)?(sValue="p"+sValue.replace("%","").replace("%","").replace("%",""),eval(sValue)):null}function RGBColor(t,e,i){this.eColorSpace=COLOR_SPACE_RGB,this.nRed=t,this.nGreen=e,this.nBlue=i}function HSLColor(t,e,i){this.eColorSpace=COLOR_SPACE_HSL,this.nHue=t,this.nSaturation=e,this.nLuminance=i,this.normalizeHue()}function flipOnYAxis(t){var e=t.cloneNode(!0),i=document.documentElement.createSVGMatrix();return i.a=-1,i.e=1,e.matrixTransform(i),e}function flipOnXAxis(t){var e=t.cloneNode(!0),i=document.documentElement.createSVGMatrix();return i.d=-1,i.f=1,e.matrixTransform(i),e}function SVGPathMatrixTransform(t,e){var i=t.x;t.x=e.a*i+e.c*t.y+e.e,t.y=e.b*i+e.d*t.y+e.f}function PriorityQueue(t){this.aSequence=[],this.aCompareFunc=t}function getAnimationElementType(t){var e=t.localName.toLowerCase();return e&&aAnimationNodeTypeInMap[e]?aAnimationNodeTypeInMap[e]:ANIMATION_NODE_CUSTOM}function getNodeStateName(t){switch(t){case INVALID_NODE:return"INVALID";case UNRESOLVED_NODE:return"UNRESOLVED";case RESOLVED_NODE:return"RESOLVED";case ACTIVE_NODE:return"ACTIVE";case FROZEN_NODE:return"FROZEN";case ENDED_NODE:return"ENDED";default:return"UNKNOWN"}}function createStateTransitionTable(){var t={};t[RESTART_MODE_NEVER]={},t[RESTART_MODE_WHEN_NOT_ACTIVE]={},t[RESTART_MODE_ALWAYS]={};var e=t[RESTART_MODE_NEVER][FILL_MODE_REMOVE]={};return e[INVALID_NODE]=INVALID_NODE,e[UNRESOLVED_NODE]=RESOLVED_NODE|ENDED_NODE,e[RESOLVED_NODE]=ACTIVE_NODE|ENDED_NODE,e[ACTIVE_NODE]=ENDED_NODE,e[FROZEN_NODE]=INVALID_NODE,e[ENDED_NODE]=ENDED_NODE,e=t[RESTART_MODE_NEVER][FILL_MODE_FREEZE]=t[RESTART_MODE_NEVER][FILL_MODE_HOLD]=t[RESTART_MODE_NEVER][FILL_MODE_TRANSITION]={},e[INVALID_NODE]=INVALID_NODE,e[UNRESOLVED_NODE]=RESOLVED_NODE|ENDED_NODE,e[RESOLVED_NODE]=ACTIVE_NODE|ENDED_NODE,e[ACTIVE_NODE]=FROZEN_NODE|ENDED_NODE,e[FROZEN_NODE]=ENDED_NODE,e[ENDED_NODE]=ENDED_NODE,e=t[RESTART_MODE_WHEN_NOT_ACTIVE][FILL_MODE_REMOVE]={},e[INVALID_NODE]=INVALID_NODE,e[UNRESOLVED_NODE]=RESOLVED_NODE|ENDED_NODE,e[RESOLVED_NODE]=ACTIVE_NODE|ENDED_NODE,e[ACTIVE_NODE]=ENDED_NODE,e[FROZEN_NODE]=INVALID_NODE,e[ENDED_NODE]=RESOLVED_NODE|ACTIVE_NODE|ENDED_NODE,e=t[RESTART_MODE_WHEN_NOT_ACTIVE][FILL_MODE_FREEZE]=t[RESTART_MODE_WHEN_NOT_ACTIVE][FILL_MODE_HOLD]=t[RESTART_MODE_WHEN_NOT_ACTIVE][FILL_MODE_TRANSITION]={},e[INVALID_NODE]=INVALID_NODE,e[UNRESOLVED_NODE]=RESOLVED_NODE|ENDED_NODE,e[RESOLVED_NODE]=ACTIVE_NODE|ENDED_NODE,e[ACTIVE_NODE]=FROZEN_NODE|ENDED_NODE,e[FROZEN_NODE]=RESOLVED_NODE|ACTIVE_NODE|ENDED_NODE,e[ENDED_NODE]=RESOLVED_NODE|ACTIVE_NODE|ENDED_NODE,e=t[RESTART_MODE_ALWAYS][FILL_MODE_REMOVE]={},e[INVALID_NODE]=INVALID_NODE,e[UNRESOLVED_NODE]=RESOLVED_NODE|ENDED_NODE,e[RESOLVED_NODE]=ACTIVE_NODE|ENDED_NODE,e[ACTIVE_NODE]=RESOLVED_NODE|ACTIVE_NODE|ENDED_NODE,e[FROZEN_NODE]=INVALID_NODE,e[ENDED_NODE]=RESOLVED_NODE|ACTIVE_NODE|ENDED_NODE,e=t[RESTART_MODE_ALWAYS][FILL_MODE_FREEZE]=t[RESTART_MODE_ALWAYS][FILL_MODE_HOLD]=t[RESTART_MODE_ALWAYS][FILL_MODE_TRANSITION]={},e[INVALID_NODE]=INVALID_NODE,e[UNRESOLVED_NODE]=RESOLVED_NODE|ENDED_NODE,e[RESOLVED_NODE]=ACTIVE_NODE|ENDED_NODE,e[ACTIVE_NODE]=RESOLVED_NODE|ACTIVE_NODE|FROZEN_NODE|ENDED_NODE,e[FROZEN_NODE]=RESOLVED_NODE|ACTIVE_NODE|ENDED_NODE,e[ENDED_NODE]=RESOLVED_NODE|ACTIVE_NODE|ENDED_NODE,t}function getTransitionTable(t,e){return t==RESTART_MODE_DEFAULT&&(log("getTransitionTable: unexpected restart mode: "+t+". Used NEVER instead."),t=RESTART_MODE_NEVER),(e==FILL_MODE_DEFAULT||e==FILL_MODE_AUTO)&&(e=FILL_MODE_REMOVE),aStateTransitionTable[t][e]}function getEventTriggerType(t){return"begin"==t?EVENT_TRIGGER_BEGIN_EVENT:"end"==t?EVENT_TRIGGER_END_EVENT:"next"==t?EVENT_TRIGGER_ON_NEXT_EFFECT:"prev"==t?EVENT_TRIGGER_ON_PREV_EFFECT:"click"==t?EVENT_TRIGGER_ON_CLICK:EVENT_TRIGGER_UNKNOWN}function Timing(t,e){this.aAnimationNode=t,this.sTimingDescription=removeWhiteSpaces(e),this.eTimingType=UNKNOWN_TIMING,this.nOffset=0,this.sEventBaseElementId="",this.eEventType=EVENT_TRIGGER_UNKNOWN}function Duration(t){this.bIndefinite=!1,this.bMedia=!1,this.nValue=void 0,this.bDefined=!1,t&&("indefinite"==t?this.bIndefinite=!0:"media"==t?this.bMedia=!0:(this.nValue=Timing.parseClockValue(t),this.nValue<=0&&(this.nValue=.001)),this.bDefined=!0)}function AnimationNode(){}function NodeContext(t){this.aContext=t,this.aAnimationNodeMap=null,this.aAnimatedElementMap=null,this.aSourceEventElementMap=null,this.nStartDelay=0,this.bFirstRun=void 0,this.aSlideHeight=HEIGHT,this.aSlideWidth=WIDTH}function StateTransition(t){this.aNode=t,this.eToState=INVALID_NODE}function BaseNode(t,e,i){this.nId=getUniqueId(),this.sClassName="BaseNode",t||log("BaseNode(id:"+this.nId+") constructor: aAnimElem is not valid"),i||log("BaseNode(id:"+this.nId+") constructor: aNodeContext is not valid"),i.aContext||log("BaseNode(id:"+this.nId+") constructor: aNodeContext.aContext is not valid"),this.bIsContainer=!1,this.aElement=t,this.aParentNode=e,this.aNodeContext=i,this.aContext=i.aContext,this.nStartDelay=i.nStartDelay,this.eCurrentState=UNRESOLVED_NODE,this.nCurrentStateTransition=0,this.aDeactivatingListenerArray=[],this.aActivationEvent=null,this.aDeactivationEvent=null,this.aBegin=null,this.aDuration=null,this.aEnd=null,this.bMainSequenceRootNode=!1,this.bInteractiveSequenceRootNode=!1,this.eFillMode=FILL_MODE_FREEZE,this.eRestartMode=RESTART_MODE_NEVER,this.nReapeatCount=void 0,this.nAccelerate=0,this.nDecelerate=0,this.bAutoReverse=!1}function AnimationBaseNode(t,e,i){AnimationBaseNode.superclass.constructor.call(this,t,e,i),this.sClassName="AnimationBaseNode",this.bIsContainer=!1,this.aTargetElement=null,this.bIsTargetTextElement=!1,this.aAnimatedElement=null,this.aActivity=null,this.nMinFrameCount=void 0,this.eAdditiveMode=void 0}function AnimationBaseNode2(t,e,i){AnimationBaseNode2.superclass.constructor.call(this,t,e,i),this.sAttributeName="",this.aToValue=null}function AnimationBaseNode3(t,e,i){AnimationBaseNode3.superclass.constructor.call(this,t,e,i),this.eAccumulate=void 0,this.eCalcMode=void 0,this.aFromValue=null,this.aByValue=null,this.aKeyTimes=null,this.aValues=null,this.aFormula=null}function BaseContainerNode(t,e,i){BaseContainerNode.superclass.constructor.call(this,t,e,i),this.sClassName="BaseContainerNode",this.bIsContainer=!0,this.aChildrenArray=[],this.nFinishedChildren=0,this.bDurationIndefinite=!1,this.nLeftIterations=1,this.eImpressNodeType=void 0,this.ePresetClass=void 0,this.ePresetId=void 0}function ParallelTimeContainer(t,e,i){ParallelTimeContainer.superclass.constructor.call(this,t,e,i),this.sClassName="ParallelTimeContainer"}function SequentialTimeContainer(t,e,i){SequentialTimeContainer.superclass.constructor.call(this,t,e,i),this.sClassName="SequentialTimeContainer",this.bIsRewinding=!1,this.aCurrentSkipEvent=null,this.aRewindCurrentEffectEvent=null,this.aRewindLastEffectEvent=null}function PropertyAnimationNode(t,e,i){PropertyAnimationNode.superclass.constructor.call(this,t,e,i),this.sClassName="PropertyAnimationNode"}function AnimationSetNode(t,e,i){AnimationSetNode.superclass.constructor.call(this,t,e,i),this.sClassName="AnimationSetNode"}function AnimationColorNode(t,e,i){AnimationColorNode.superclass.constructor.call(this,t,e,i),this.sClassName="AnimationColorNode",this.eColorInterpolation=void 0,this.eColorInterpolationDirection=void 0}function AnimationTransitionFilterNode(t,e,i){AnimationTransitionFilterNode.superclass.constructor.call(this,t,e,i),this.sClassName="AnimationTransitionFilterNode",this.eTransitionType=void 0,this.eTransitionSubType=void 0,this.bReverseDirection=void 0,this.eTransitionMode=void 0}function createAnimationTree(t,e){return createAnimationNode(t,null,e)}function createAnimationNode(t,e,i){assert(t,"createAnimationNode: invalid animation element");var n=getAnimationElementType(t),a=null,r=null;switch(n){case ANIMATION_NODE_PAR:a=r=new ParallelTimeContainer(t,e,i);break;case ANIMATION_NODE_ITERATE:a=r=new ParallelTimeContainer(t,e,i);break;case ANIMATION_NODE_SEQ:a=r=new SequentialTimeContainer(t,e,i);break;case ANIMATION_NODE_ANIMATE:a=new PropertyAnimationNode(t,e,i);break;case ANIMATION_NODE_SET:a=new AnimationSetNode(t,e,i);break;case ANIMATION_NODE_ANIMATEMOTION:return log("createAnimationNode: ANIMATEMOTION not implemented"),null;case ANIMATION_NODE_ANIMATECOLOR:a=new AnimationColorNode(t,e,i);break;case ANIMATION_NODE_ANIMATETRANSFORM:return log("createAnimationNode: ANIMATETRANSFORM not implemented"),null;case ANIMATION_NODE_TRANSITIONFILTER:a=new AnimationTransitionFilterNode(t,e,i);break;case ANIMATION_NODE_AUDIO:return log("createAnimationNode: AUDIO not implemented"),null;case ANIMATION_NODE_COMMAND:return log("createAnimationNode: COMMAND not implemented"),null;default:return log("createAnimationNode: invalid Animation Node Type: "+n),null}if(r)if(n==ANIMATION_NODE_ITERATE)createIteratedNodes(t,r,i);else for(var s=getElementChildren(t),o=0;o<s.length;++o)if(!createChildNode(s[o],r,i)){r.removeAllChildrenNodes();break}return a}function createChildNode(t,e,i){var n=createAnimationNode(t,e,i);return n?(e.appendChildNode(n),!0):(log("createChildNode: child node creation failed"),!1)}function createIteratedNodes(){}function makeScaler(t){return("undefined"==typeof t?"undefined":_typeof(t))===_typeof(0)&&isFinite(t)?function(e){return t*e}:(log("makeScaler: not valid param passed: "+t),null)}function createPropertyAnimation(t,e){if(!aAttributeMap[t])return log("createPropertyAnimation: attribute is unknown"),null;var i=aAttributeMap[t],n=i.get,a=i.set;if(!n||!a)return log("createPropertyAnimation: attribute is not handled"),null;var r=i.getmod,s=i.setmod;return new GenericAnimation(bind(e,e[n]),bind(e,e[a]),r,s)}function createShapeTransition(t,e,i,n,a){if(!a)return log("createShapeTransition: the animated transition filter node is not valid."),null;var r=a.getTransitionType(),s=a.getTransitionSubType(),o=!a.getReverseDirection(),l=a.getTransitionMode()==FORWARD,E=aTransitionInfoTable[r][s],h=E["class"];switch(h){default:case TRANSITION_INVALID:return log("createShapeTransition: transition class: TRANSITION_INVALID"),null;case TRANSITION_CLIP_POLYPOLYGON:var u=createClipPolyPolygon(r,s),c=new ClippingAnimation(u,E,o,l);return new SimpleActivity(t,c,!0);case TRANSITION_SPECIAL:switch(r){default:var d=createPropertyAnimation("opacity",e,i,n);return new SimpleActivity(t,d,l)}}}function ClippingAnimation(t,e,i,n){this.aClippingFunctor=new ClippingFunctor(t,e,i,n),this.bAnimationStarted=!1}function GenericAnimation(t,e,i,n){assert(t&&e,"GenericAnimation constructor: get value functor and/or set value functor are not valid"),this.aGetValueFunc=t,this.aSetValueFunc=e,this.aGetModifier=i,this.aSetModifier=n,this.aAnimatableElement=null,this.bAnimationStarted=!1}function HSLAnimationWrapper(t){assert(t,"HSLAnimationWrapper constructor: invalid color animation delegate"),this.aAnimation=t}function SlideChangeBase(t,e){this.aLeavingSlide=t,this.aEnteringSlide=e,this.bIsFinished=!1}function FadingSlideChange(t,e){FadingSlideChange.superclass.constructor.call(this,t,e),this.bFirstRun=!0}function FadingOverColorSlideChange(t,e,i){FadingSlideChange.superclass.constructor.call(this,t,e),this.sFadeColor=i,this.sFadeColor||(log("FadingOverColorSlideChange: sFadeColor not valid."),this.sFadeColor="#000000"),this.aColorPlaneElement=this.createColorPlaneElement()}function MovingSlideChange(t,e,i,n){MovingSlideChange.superclass.constructor.call(this,t,e),this.aLeavingDirection=i,this.aEnteringDirection=n}function ClippedSlideChange(t,e,i,n,a){ClippedSlideChange.superclass.constructor.call(this,t,e);var r=!0;this.aClippingFunctor=new ClippingFunctor(i,n,a,r)}function ClippingFunctor(t,e,i,n){if(this.aParametricPolyPolygon=t,this.aStaticTransformation=null,this.bForwardParameterSweep=!0,this.bSubtractPolygon=!1,this.bScaleIsotropically=e.scaleIsotropically,this.bFlip=!1,assert(this.aParametricPolyPolygon,"ClippingFunctor: parametric polygon is not valid"),0!=e.rotationAngle||1!=e.scaleX||1!=e.scaleY?(this.aStaticTransformation=SVGIdentityMatrix.translate(.5,.5),
(1!=e.scaleX||1!=e.scaleY)&&(this.aStaticTransformation=this.aStaticTransformation.scaleNonUniform(e.scaleX,e.scaleY)),0!=e.rotationAngle&&(this.aStaticTransformation=this.aStaticTransformation.rotate(e.rotationAngle)),this.aStaticTransformation=this.aStaticTransformation.translate(-.5,-.5)):this.aStaticTransformation=document.documentElement.createSVGMatrix(),!i){var a=null;switch(e.reverseMethod){default:log("ClippingFunctor: unexpected reverse method.");break;case REVERSEMETHOD_IGNORE:break;case REVERSEMETHOD_INVERT_SWEEP:this.bForwardParameterSweep=!this.bForwardParameterSweep;break;case REVERSEMETHOD_SUBTRACT_POLYGON:this.bSubtractPolygon=!this.bSubtractPolygon;break;case REVERSEMETHOD_SUBTRACT_AND_INVERT:this.bForwardParameterSweep=!this.bForwardParameterSweep,this.bSubtractPolygon=!this.bSubtractPolygon;break;case REVERSEMETHOD_ROTATE_180:a=document.documentElement.createSVGMatrix(),a.setToRotationAroundPoint(.5,.5,180),this.aStaticTransformation=a.multiply(this.aStaticTransformation);break;case REVERSEMETHOD_FLIP_X:a=document.documentElement.createSVGMatrix(),a.a=-1,a.e=1,this.aStaticTransformation=a.multiply(this.aStaticTransformation),this.bFlip=!0;break;case REVERSEMETHOD_FLIP_Y:a=document.documentElement.createSVGMatrix(),a.d=-1,a.f=1,this.aStaticTransformation=a.multiply(this.aStaticTransformation),this.bFlip=!0}}n||(e.outInvertsSweep?this.bForwardParameterSweep=!this.bForwardParameterSweep:this.bSubtractPolygon=!this.bSubtractPolygon)}function createClipPolyPolygon(t,e){switch(t){default:return log("createClipPolyPolygon: unknown transition type: "+t),null;case BARWIPE_TRANSITION:return new BarWipePath(1);case FOURBOXWIPE_TRANSITION:return new FourBoxWipePath(e===CORNERSOUT_TRANS_SUBTYPE);case BOXWIPE_TRANSITION:return new BoxWipePath(e==LEFTCENTER_TRANS_SUBTYPE||e==TOPCENTER_TRANS_SUBTYPE||e==RIGHTCENTER_TRANS_SUBTYPE||e==BOTTOMCENTER_TRANS_SUBTYPE);case ELLIPSEWIPE_TRANSITION:return new EllipseWipePath(e);case FANWIPE_TRANSITION:return new FanWipePath(e==CENTERTOP_TRANS_SUBTYPE||e==CENTERRIGHT_TRANS_SUBTYPE,!0,!1);case PINWHEELWIPE_TRANSITION:var i;switch(e){case ONEBLADE_TRANS_SUBTYPE:i=1;break;case DEFAULT_TRANS_SUBTYPE:case TWOBLADEVERTICAL_TRANS_SUBTYPE:i=2;break;case TWOBLADEHORIZONTAL_TRANS_SUBTYPE:i=2;break;case THREEBLADE_TRANS_SUBTYPE:i=3;break;case FOURBLADE_TRANS_SUBTYPE:i=4;break;case EIGHTBLADE_TRANS_SUBTYPE:i=8;break;default:return log("createClipPolyPolygon: unknown subtype: "+e),null}return new PinWheelWipePath(i);case CLOCKWIPE_TRANSITION:return new ClockWipePath;case RANDOMBARWIPE_TRANSITION:return new RandomWipePath(128,!0);case CHECKERBOARDWIPE_TRANSITION:return new CheckerBoardWipePath(10);case ZIGZAGWIPE_TRANSITION:return new ZigZagWipePath(5);case BARNZIGZAGWIPE_TRANSITION:return new BarnZigZagWipePath(5);case IRISWIPE_TRANSITION:switch(e){case RECTANGLE_TRANS_SUBTYPE:return new IrisWipePath(0);case DIAMOND_TRANS_SUBTYPE:return new IrisWipePath(1);default:return log("createClipPolyPolygon: unknown subtype: "+e),null}case BARNDOORWIPE_TRANSITION:return new BarnDoorWipePath(!1);case SINGLESWEEPWIPE_TRANSITION:return new SweepWipePath(e==CLOCKWISETOP_TRANS_SUBTYPE||e==CLOCKWISERIGHT_TRANS_SUBTYPE||e==CLOCKWISEBOTTOM_TRANS_SUBTYPE||e==CLOCKWISELEFT_TRANS_SUBTYPE,!0,!1,e==COUNTERCLOCKWISEBOTTOMLEFT_TRANS_SUBTYPE||e==COUNTERCLOCKWISETOPRIGHT_TRANS_SUBTYPE);case WATERFALLWIPE_TRANSITION:return new WaterfallWipePath(128,e==VERTICALRIGHT_TRANS_SUBTYPE||e==HORIZONTALLEFT_TRANS_SUBTYPE);case MISCDIAGONALWIPE_TRANSITION:switch(e){case DOUBLEBARNDOOR_TRANS_SUBTYPE:return new BarnDoorWipePath(!0);case DOUBLEDIAMOND_TRANS_SUBTYPE:return new DoubleDiamondWipePath;default:return log("createClipPolyPolygon: unhandled subtype: "+e),null}case DISSOLVE_TRANSITION:return new RandomWipePath(256,!1);case VEEWIPE_TRANSITION:return new VeeWipePath;case SNAKEWIPE_TRANSITION:return new SnakeWipePath(64,e==TOPLEFTDIAGONAL_TRANS_SUBTYPE||e==TOPRIGHTDIAGONAL_TRANS_SUBTYPE||e==BOTTOMRIGHTDIAGONAL_TRANS_SUBTYPE||e==BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE,e==TOPLEFTVERTICAL_TRANS_SUBTYPE||e==TOPRIGHTDIAGONAL_TRANS_SUBTYPE||e==BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE);case PARALLELSNAKESWIPE_TRANSITION:return new ParallelSnakesWipePath(64,e==DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE||e==DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE,e==VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE||e==HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE||e==DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE,e==VERTICALTOPLEFTOPPOSITE_TRANS_SUBTYPE||e==VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE||e==HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE||e==HORIZONTALTOPRIGHTOPPOSITE_TRANS_SUBTYPE||e==DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE||e==DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE);case SPIRALWIPE_TRANSITION:return new SpiralWipePath(64,e==TOPLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE||e==TOPRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE||e==BOTTOMRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE||e==BOTTOMLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE);case BOXSNAKESWIPE_TRANSITION:return new BoxSnakesWipePath(64,e==FOURBOXVERTICAL_TRANS_SUBTYPE||e==FOURBOXHORIZONTAL_TRANS_SUBTYPE)}}function createUnitSquarePath(){var t=document.createElementNS(NSS.svg,"path"),e="M 0 0 L 1 0 L 1 1 L 0 1 L 0 0";return t.setAttribute("d",e),t}function createEmptyPath(){var t=document.createElementNS(NSS.svg,"path"),e="M 0 0 L 0 0";return t.setAttribute("d",e),t}function pruneScaleValue(t){return 0>t?-1e-5>t?t:-1e-5:t>1e-5?t:1e-5}function BarWipePath(t){this.nBars=t,(void 0===this.nBars||this.nBars<1)&&(this.nBars=1),this.aBasePath=createUnitSquarePath()}function BoxWipePath(t){this.bIsTopCentered=t,this.aBasePath=createUnitSquarePath()}function SweepWipePath(t,e,i,n){this.bCenter=t,this.bSingle=e,this.bOppositeVertical=i,this.bFlipOnYAxis=n,this.aBasePath=createUnitSquarePath()}function FourBoxWipePath(t){this.bCornersOut=t,this.aBasePath=createUnitSquarePath()}function EllipseWipePath(t){this.eSubtype=t;var e="M 0.5 -0.207107 C 0.687536 -0.207107 0.867392 -0.132608 1 0 C 1.13261 0.132608 1.20711 0.312464 1.20711 0.5 C 1.20711 0.687536 1.13261 0.867392 1 1 C 0.867392 1.13261 0.687536 1.20711 0.5 1.20711 C 0.312464 1.20711 0.132608 1.13261 0 1 C -0.132608 0.867392 -0.207107 0.687536 -0.207107 0.5 C -0.207107 0.312464 -0.132608 0.132608 0 0 C 0.132608 -0.132608 0.312464 -0.207107 0.5 -0.207107";this.aBasePath=document.createElementNS(NSS.svg,"path"),this.aBasePath.setAttribute("d",e)}function FanWipePath(t,e,i){this.bCenter=t,this.bSingle=e,this.bFanIn=i,this.aBasePath=createUnitSquarePath()}function ClockWipePath(){}function PinWheelWipePath(t){this.nBlades=t,(!this.nBlades||this.nBlades<1)&&(this.nBlades=1)}function BarnDoorWipePath(t){this.aBasePath=createUnitSquarePath(),this.doubled=t}function WaterfallWipePath(t,e){this.bFlipOnYAxis=e;for(var i=Math.floor(Math.sqrt(t)),n=1/i,a="M 0 -1 ",r=i;r--;){var s=i-r-1,o=pruneScaleValue((r+1)*n-1);a+="L "+pruneScaleValue(s*n)+" "+o+" ",a+="L "+pruneScaleValue((s+1)*n)+" "+o+" "}a+="L 1 -1 ",a+="L 0 -1 ",this.aBasePath=document.createElementNS(NSS.svg,"path"),this.aBasePath.setAttribute("d",a)}function DoubleDiamondWipePath(){}function IrisWipePath(t){this.unitRect=t,this.aBasePath=createUnitSquarePath()}function ZigZagWipePath(t){this.zigEdge=1/t;var e=this.zigEdge,i=e/2;this.aBasePath="M "+(-1-e)+" "+-e+" ",this.aBasePath+="L "+(-1-e)+" "+(1+e)+" ",this.aBasePath+="L "+-e+" "+(1+e)+" ";for(var n=t+2;n--;)this.aBasePath+="L 0 "+((n-1)*e+i)+" ",this.aBasePath+="L "+-e+" "+(n-1)*e+" ";this.aBasePath+="L "+(-1-e)+" "+-e+" "}function BarnZigZagWipePath(t){ZigZagWipePath.call(this,t)}function CheckerBoardWipePath(t){this.unitsPerEdge=t,(void 0===this.unitsPerEdge||this.unitsPerEdge<1)&&(this.unitsPerEdge=10),this.aBasePath=createUnitSquarePath()}function RandomWipePath(t,e){this.nElements=t,this.aBasePath=createUnitSquarePath(),this.aPositionArray=new Array(t),this.aClipPath=createEmptyPath(),this.nAlreadyAppendedElements=0;var i,n,a;if(e){for(i=1/t,n=0;t>n;++n)this.aPositionArray[n]={x:0,y:pruneScaleValue(n*i)};a=SVGIdentityMatrix.scaleNonUniform(1,pruneScaleValue(i))}else{var r=Math.round(Math.sqrt(t));for(i=1/r,n=0;t>n;++n)this.aPositionArray[n]={x:pruneScaleValue(n%r*i),y:pruneScaleValue(n/r*i)};a=SVGIdentityMatrix.scale(pruneScaleValue(i))}this.aBasePath.matrixTransform(a);var s,o,l;for(s=t-1;s>0;--s)o=getRandomInt(s+1),l=this.aPositionArray[s],this.aPositionArray[s]=this.aPositionArray[o],this.aPositionArray[o]=l}function SnakeWipePath(t,e,i){this.sqrtElements=Math.floor(Math.sqrt(t)),this.elementEdge=1/this.sqrtElements,this.diagonal=e,this.flipOnYAxis=i,this.aBasePath=createUnitSquarePath()}function ParallelSnakesWipePath(t,e,i,n){SnakeWipePath.call(this,t,e,i),this.bOpposite=n}function SpiralWipePath(t,e){this.nElements=t,this.sqrtElements=Math.floor(Math.sqrt(t)),this.bFlipOnYAxis=e}function BoxSnakesWipePath(t,e){SpiralWipePath.call(this,t),this.bFourBox=e}function VeeWipePath(){}function AnimatedSlide(t){t||log("AnimatedSlide constructor: meta slide is not valid"),this.aMetaSlide=t,this.aSlideElement=this.aMetaSlide.slideElement,this.sSlideId=this.aMetaSlide.slideId,this.aUsedAttributeSet=[],this.aClipPathElement=null,this.aClipPathContent=null,this.bIsClipped=!1}function AnimatedElement(t){t||log("AnimatedElement constructor: element is not valid"),this.aSlideShowContext=null,this.aBaseElement=t.cloneNode(!0),this.aActiveElement=t,this.sElementId=this.aActiveElement.getAttribute("id"),this.aBaseBBox=this.aActiveElement.getBBox(),this.nBaseCenterX=this.aBaseBBox.x+this.aBaseBBox.width/2,this.nBaseCenterY=this.aBaseBBox.y+this.aBaseBBox.height/2,this.aClipPathElement=null,this.aClipPathContent=null,this.aPreviousElement=null,this.aStateSet={},this.eAdditiveMode=ADDITIVE_MODE_REPLACE,this.bIsUpdated=!0,this.aTMatrix=document.documentElement.createSVGMatrix(),this.aCTM=document.documentElement.createSVGMatrix(),this.aICTM=document.documentElement.createSVGMatrix(),this.initElement()}function AnimatedTextElement(t,e){var i=document,n=t.getAttribute("class"),a="ListItem"===n;if("TextParagraph"!==n&&!a)return void log("AnimatedTextElement: passed element is not a paragraph.");var r=t.parentNode;if(n=r.getAttribute("class"),"TextShape"!==n)return void log("AnimatedTextElement: element parent is not a text shape.");var s=r.parentNode,o=getElementByClassName(s,"AnimatedElements");o||(o=i.createElementNS(NSS.svg,"g"),o.setAttribute("class","AnimatedElements"),s.appendChild(o));var l=i.createElementNS(NSS.svg,"g"),E=i.createElementNS(NSS.svg,"text"),h=t.cloneNode(!0);this.aGraphicGroupElement=i.createElementNS(NSS.svg,"g"),this.aGraphicGroupElement.setAttribute("class","GraphicGroup");var u=null,c=null,d="bullet-style"===t.getAttributeNS(NSS.ooo,aOOOAttrListItemNumberingType);if(d){var T=getElementByClassName(s,"BulletChars");if(T){var S=getElementByClassName(t,"BulletPlaceholder");if(S){var p=S.getAttribute("id");p="bullet-char("+p+")",c=i.getElementById(p),c?u=c.cloneNode(!0):log("AnimatedTextElement: "+p+" not found.")}else log("AnimatedTextElement: no bullet placeholder found")}else log("AnimatedTextElement: no bullet char group found")}var A,I=[],N=[],m=getElementsByClassName(t,"BitmapPlaceholder");if(m)for(A=0;A<m.length;++A){p=m[A].getAttribute("id");var f=p.substring("bitmap-placeholder".length+1,p.length-1);p="embedded-bitmap("+f+")",I[A]=i.getElementById(p),I[A]?N[A]=I[A].cloneNode(!0):log("AnimatedTextElement: "+p+" not found.")}for(this.sParagraphId=p=h.getAttribute("id"),h.removeAttribute("id"),l.setAttribute("id",p+".a"),u&&u.removeAttribute("id"),A=0;A<N.length;++A)N[A]&&N[A].removeAttribute("id");var O=t.getAttribute("visibility");for(O||(O="inherit"),l.setAttribute("visibility",O),h.setAttribute("visibility","inherit"),this.aGraphicGroupElement.setAttribute("visibility","inherit"),c&&c.setAttribute("visibility","hidden"),A=0;A<N.length;++A)I[A]&&I[A].setAttribute("visibility","hidden");for(E.appendChild(h),l.appendChild(E),u&&this.aGraphicGroupElement.appendChild(u),A=0;A<N.length;++A)N[A]&&this.aGraphicGroupElement.appendChild(N[A]);l.appendChild(this.aGraphicGroupElement),o.appendChild(l),this.aParentTextElement=t.parentNode,this.aParagraphElement=t,this.aAnimatedElementGroup=o,this.nRunningAnimations=0,this.aHyperlinkIdSet=[];var v,R=getElementsByClassName(this.aParagraphElement,"UrlField");for(A=0;A<R.length;++A)v=R[A].getAttribute("id"),v?this.aHyperlinkIdSet.push(v):log("error: AnimatedTextElement constructor: hyperlink element has no id");AnimatedTextElement.superclass.constructor.call(this,l,e)}function SlideTransition(t,e){if(this.sSlideId=e,this.bIsValid=!1,this.eTransitionType=void 0,this.eTransitionSubType=void 0,this.bReverseDirection=!1,this.eTransitionMode=TRANSITION_MODE_IN,this.sFadeColor=null,this.aDuration=null,this.nMinFrameCount=void 0,t&&t.firstElementChild&&t.firstElementChild.getAttributeNS(NSS.smil,"begin")===this.sSlideId+".begin"){var i=t.firstElementChild.firstElementChild;i&&"transitionFilter"===i.localName&&(this.aElement=i,this.parseElement()),t.removeChild(t.firstElementChild)}}function SlideAnimations(t){this.aContext=new NodeContext(t),this.aAnimationNodeMap={},this.aAnimatedElementMap={},this.aSourceEventElementMap={},this.aNextEffectEventArray=new NextEffectEventArray,this.aInteractiveAnimationSequenceMap={},this.aEventMultiplexer=new EventMultiplexer(t.aTimerEventQueue),this.aRootNode=null,this.bElementsParsed=!1,this.aContext.aAnimationNodeMap=this.aAnimationNodeMap,this.aContext.aAnimatedElementMap=this.aAnimatedElementMap,this.aContext.aSourceEventElementMap=this.aSourceEventElementMap,this.aEventMultiplexer.registerMouseClickHandler(document,100)}function Event(){this.nId=Event.getUniqueId()}function DelayEvent(t,e){DelayEvent.superclass.constructor.call(this),this.aFunctor=t,this.nTimeout=e,this.bWasFired=!1}function WakeupEvent(t,e){WakeupEvent.superclass.constructor.call(this),this.aTimer=new ElapsedTime(t),this.nNextTime=0,this.aActivity=null,this.aActivityQueue=e}function makeEvent(t){return new DelayEvent(t,0)}function makeDelay(t,e){return new DelayEvent(t,e)}function registerEvent(t,e,i,n){var a=n.aContext,r=e.getType();if(registerEvent.DBG(e),r==OFFSET_TIMING)a.aTimerEventQueue.addEvent(i);else if(n.bFirstRun){var s=a.aEventMultiplexer;if(!s)return void log("registerEvent: event multiplexer not initialized");var o=a.aNextEffectEventArray;if(!o)return void log("registerEvent: next effect event array not initialized");var l=a.aInteractiveAnimationSequenceMap;if(!l)return void log("registerEvent: interactive animation sequence map not initialized");switch(r){case EVENT_TIMING:var E=e.getEventType(),h=e.getEventBaseElementId();if(h){var u=document.getElementById(h);if(!u)return void log("generateEvent: EVENT_TIMING: event base element not found: "+h);var c=n.makeSourceEventElement(h,u);l[t]||(l[t]=new InteractiveAnimationSequence(t));var d=!1;switch(E){case EVENT_TRIGGER_ON_CLICK:s.registerEvent(E,c.getId(),i),s.registerRewindedEffectHandler(c.getId(),bind2(c.charge,c)),d=!0;break;default:log("generateEvent: not handled event type: "+E)}if(d){var T=l[t].getStartEvent(),S=l[t].getEndEvent();s.registerEvent(E,c.getId(),T),s.registerEvent(EVENT_TRIGGER_END_EVENT,t,S),s.registerRewindedEffectHandler(t,bind2(InteractiveAnimationSequence.prototype.chargeEvents,l[t]))}}else switch(E){case EVENT_TRIGGER_ON_NEXT_EFFECT:o.appendEvent(i);break;default:log("generateEvent: not handled event type: "+E)}break;case SYNCBASE_TIMING:if(E=e.getEventType(),h=e.getEventBaseElementId()){var p=n.aAnimationNodeMap[h];if(!p)return void log("generateEvent: SYNCBASE_TIMING: event base element not found: "+h);s.registerEvent(E,p.getId(),i)}else log("generateEvent: SYNCBASE_TIMING: event base element not specified");break;default:log("generateEvent: not handled timing type: "+r)}}}function SourceEventElement(t,e,i){this.sId=t,this.aElement=e,this.aEventMultiplexer=i,this.aEventMultiplexer.registerMouseClickHandler(this,1e3),this.bClickHandled=!1,this.bIsPointerOver=!1,this.aElement.addEventListener("mouseover",bind2(SourceEventElement.prototype.onMouseEnter,this),!1),this.aElement.addEventListener("mouseout",bind2(SourceEventElement.prototype.onMouseLeave,this),!1)}function HyperlinkElement(t,e){var i=document.getElementById(t);if(!i)return void log("error: HyperlinkElement: no element with id: <"+t+"> found");if(e||log("AnimatedElement constructor: event multiplexer is not valid"),this.sId=t,this.aElement=i,this.aEventMultiplexer=e,this.nTargetSlideIndex=void 0,this.sURL=getNSAttribute("xlink",this.aElement,"href"),this.sURL){if("#"===this.sURL[0]&&"Slide"===this.sURL.substr(1,5)){var n=this.sURL.split(" ")[1];this.nTargetSlideIndex=parseInt(n)-1}this.aEventMultiplexer.registerElementChangedHandler(this.sId,bind2(HyperlinkElement.prototype.onElementChanged,this)),this.aEventMultiplexer.registerMouseClickHandler(this,1100),this.bIsPointerOver=!1,this.mouseEnterHandler=bind2(HyperlinkElement.prototype.onMouseEnter,this),this.mouseLeaveHandler=bind2(HyperlinkElement.prototype.onMouseLeave,this),this.aElement.addEventListener("mouseover",this.mouseEnterHandler,!1),this.aElement.addEventListener("mouseout",this.mouseLeaveHandler,!1)}else log("warning: HyperlinkElement("+this.sId+"): url is empty")}function InteractiveAnimationSequence(t){this.nId=t,this.bIsRunning=!1,this.aStartEvent=null,this.aEndEvent=null}function PriorityEntry(t,e){this.aValue=t,this.nPriority=e}function EventMultiplexer(t){this.nId=EventMultiplexer.getUniqueId(),this.aTimerEventQueue=t,this.aEventMap={},this.aSkipEffectEndHandlerSet=[],this.aMouseClickHandlerSet=new PriorityQueue(PriorityEntry.compare),this.aSkipEffectEvent=null,this.aRewindCurrentEffectEvent=null,this.aRewindLastEffectEvent=null,this.aSkipInteractiveEffectEventSet={},this.aRewindRunningInteractiveEffectEventSet={},this.aRewindEndedInteractiveEffectEventSet={},this.aRewindedEffectHandlerSet={},this.aElementChangedHandlerSet={}}function KeyStopLerp(t){KeyStopLerp.validateInput(t),this.aKeyStopList=[],this.nLastIndex=0,this.nKeyStopDistance=t[1]-t[0],this.nKeyStopDistance<=0&&(this.nKeyStopDistance=.001);for(var e=0;e<t.length;++e)this.aKeyStopList.push(t[e]);this.nUpperBoundIndex=this.aKeyStopList.length-2}function ActivityParamSet(){this.aEndEvent=null,this.aWakeupEvent=null,this.aTimerEventQueue=null,this.aActivityQueue=null,this.nMinDuration=void 0,this.nMinNumberOfFrames=MINIMUM_FRAMES_PER_SECONDS,this.bAutoReverse=!1,this.nRepeatCount=1,this.nAccelerationFraction=0,this.nDecelerationFraction=0,this.nSlideWidth=void 0,this.nSlideHeight=void 0,this.aFormula=null,this.aDiscreteTimes=[]}function AnimationActivity(){this.nId=AnimationActivity.getUniqueId()}function SetActivity(t,e,i){SetActivity.superclass.constructor.call(this),this.aAnimation=e,this.aTargetElement=null,this.aEndEvent=t.aEndEvent,this.aTimerEventQueue=t.aTimerEventQueue,this.aToAttr=i,this.bIsActive=!0}function ActivityBase(t){ActivityBase.superclass.constructor.call(this),this.aTargetElement=null,this.aEndEvent=t.aEndEvent,this.aTimerEventQueue=t.aTimerEventQueue,this.nRepeats=t.nRepeatCount,this.nAccelerationFraction=t.nAccelerationFraction,this.nDecelerationFraction=t.nDecelerationFraction,this.bAutoReverse=t.bAutoReverse,this.bFirstPerformCall=!0,this.bIsActive=!0}function DiscreteActivityBase(t){DiscreteActivityBase.superclass.constructor.call(this,t),this.aOriginalWakeupEvent=t.aWakeupEvent,this.aOriginalWakeupEvent.setActivity(this),this.aWakeupEvent=this.aOriginalWakeupEvent,this.aWakeupEvent=t.aWakeupEvent,this.aDiscreteTimes=t.aDiscreteTimes,this.nMinSimpleDuration=t.nMinDuration,this.nCurrPerformCalls=0}function SimpleContinuousActivityBase(t){SimpleContinuousActivityBase.superclass.constructor.call(this,t),this.aTimer=new ElapsedTime(t.aActivityQueue.getTimer()),this.nMinSimpleDuration=t.nMinDuration,this.nMinNumberOfFrames=t.nMinNumberOfFrames,this.nCurrPerformCalls=0}function ContinuousKeyTimeActivityBase(t){var e=t.aDiscreteTimes.length;assert(e>1,"ContinuousKeyTimeActivityBase constructor: assertion (aDiscreteTimes.length > 1) failed"),assert(0==t.aDiscreteTimes[0],"ContinuousKeyTimeActivityBase constructor: assertion (aDiscreteTimes.front() == 0.0) failed"),assert(t.aDiscreteTimes[e-1]<=1,"ContinuousKeyTimeActivityBase constructor: assertion (aDiscreteTimes.back() <= 1.0) failed"),ContinuousKeyTimeActivityBase.superclass.constructor.call(this,t),this.aLerper=new KeyStopLerp(t.aDiscreteTimes)}function ContinuousActivityBase(t){ContinuousActivityBase.superclass.constructor.call(this,t)}function SimpleActivity(t,e,i){assert(i==BACKWARD||i==FORWARD,"SimpleActivity constructor: animation direction is not valid"),assert(e,"SimpleActivity constructor: animation object is not valid"),SimpleActivity.superclass.constructor.call(this,t),this.aAnimation=e,this.nDirection=i==FORWARD?1:0}function FromToByActivityTemplate(t){function e(t,i,n,a,r,s,o,l){assert(r,"FromToByActivity constructor: invalid animation object"),assert(void 0!=i||void 0!=n,"FromToByActivity constructor: one of aToValue or aByValue must be valid"),e.superclass.constructor.call(this,a),this.aFrom=t,this.aTo=i,this.aBy=n,this.aStartValue=null,this.aEndValue=null,this.aPreviousValue=null,this.aStartInterpolationValue=null,this.aAnimation=r,this.aInterpolator=s,this.equal=o.equal,this.add=o.add,this.scale=o.scale,this.bDynamicStartValue=!1,this.nIteration=0,this.bCumulative=l,this.aFormula=a.aFormula}return extend(e,t),e.prototype.initAnimatedElement=function(){if(this.aAnimation&&this.aFrom){var t=this.aFormula?this.aFormula(this.aFrom):this.aFrom;this.aAnimation.perform(t)}},e.prototype.startAnimation=function(){if(this.isDisposed()||!this.aAnimation)return void log("FromToByActivity.startAnimation: activity disposed or not valid animation");e.superclass.startAnimation.call(this),this.aAnimation.start(this.getTargetElement());var t=this.aAnimation.getUnderlyingValue();this.aFrom?this.aTo?(this.aStartValue=this.aFrom,this.aEndValue=this.aTo):this.aBy&&(this.aStartValue=this.aFrom,this.aEndValue=this.add(this.aStartValue,this.aBy)):(this.aStartValue=t,this.aStartInterpolationValue=this.aStartValue,this.aTo?(this.bDynamicStartValue=!0,this.aPreviousValue=this.aStartValue,this.aEndValue=this.aTo):this.aBy&&(this.aStartValue=t,this.aEndValue=this.add(this.aStartValue,this.aBy))),ANIMDBG.print("FromToByActivity.startAnimation: aStartValue = "+this.aStartValue+", aEndValue = "+this.aEndValue)},e.prototype.endAnimation=function(){this.aAnimation&&this.aAnimation.end()},e.prototype.performContinuousHook=function(t,e){if(this.isDisposed()||!this.aAnimation)return void log("FromToByActivity.performContinuousHook: activity disposed or not valid animation");if(this.bDynamicStartValue)if(this.nIteration!=e)this.nIteration=e,this.aStartInterpolationValue=this.aStartValue;else{var i=this.aAnimation.getUnderlyingValue();this.equal(i,this.aPreviousValue)||(this.aStartInterpolationValue=i)}var n=this.aInterpolator(this.aStartInterpolationValue,this.aEndValue,t);this.bCumulative&&!this.bDynamicStartValue&&(n=this.add(this.scale(e,this.aEndValue),n)),n=this.aFormula?this.aFormula(n):n,this.aAnimation.perform(n),this.bDynamicStartValue&&(this.aPreviousValue=this.aAnimation.getUnderlyingValue())},e.prototype.performDiscreteHook=function(){return this.isDisposed()||!this.aAnimation?void log("FromToByActivity.performDiscreteHook: activity disposed or not valid animation"):void 0},e.prototype.performEnd=function(){if(this.aAnimation){var t=this.isAutoReverse()?this.aStartValue:this.aEndValue;t=this.aFormula?this.aFormula(t):t,this.aAnimation.perform(t)}},e.prototype.dispose=function(){e.superclass.dispose.call(this)},e}function ValueListActivityTemplate(t){function e(t,i,n,a,r,s){assert(n,"ValueListActivity constructor: invalid animation object"),assert(0!=t.length,"ValueListActivity: value list is empty"),e.superclass.constructor.call(this,i),this.aValueList=t,this.aAnimation=n,this.aInterpolator=a,this.add=r.add,this.scale=r.scale,this.bCumulative=s,this.aLastValue=this.aValueList[this.aValueList.length-1],this.aFormula=i.aFormula}return extend(e,t),e.prototype.activate=function(t){e.superclass.activate.call(this,t);for(var i=0;i<this.aValueList.length;++i)ANIMDBG.print("createValueListActivity: value["+i+"] = "+this.aValueList[i])},e.prototype.initAnimatedElement=function(){if(this.aAnimation){var t=this.aValueList[0];t=this.aFormula?this.aFormula(t):t,this.aAnimation.perform(t)}},e.prototype.startAnimation=function(){return this.isDisposed()||!this.aAnimation?void log("ValueListActivity.startAnimation: activity disposed or not valid animation"):(e.superclass.startAnimation.call(this),void this.aAnimation.start(this.getTargetElement()))},e.prototype.endAnimation=function(){this.aAnimation&&this.aAnimation.end()},e.prototype.performContinuousHook=function(t,e,i){if(this.isDisposed()||!this.aAnimation)return void log("ValueListActivity.performContinuousHook: activity disposed or not valid animation");assert(t+1<this.aValueList.length,"ValueListActivity.performContinuousHook: assertion (nIndex + 1 < this.aValueList.length) failed");var n=this.aInterpolator(this.aValueList[t],this.aValueList[t+1],e);this.bCumulative&&(n=this.add(n,this.scale(i,this.aLastValue))),n=this.aFormula?this.aFormula(n):n,this.aAnimation.perform(n)},e.prototype.performDiscreteHook=function(t,e){if(this.isDisposed()||!this.aAnimation)return void log("ValueListActivity.performDiscreteHook: activity disposed or not valid animation");assert(t<this.aValueList.length,"ValueListActivity.performDiscreteHook: assertion ( nFrame < this.aValueList.length) failed");var i=this.aValueList[t];this.bCumulative&&(i=this.add(i,this.scale(e,this.aLastValue))),i=this.aFormula?this.aFormula(i):i,this.aAnimation.perform(i)},e.prototype.performEnd=function(){if(this.aAnimation){var t=this.aFormula?this.aFormula(this.aLastValue):this.aLastValue;this.aAnimation.perform(t)}},e.prototype.dispose=function(){e.superclass.dispose.call(this)},e}function createActivity(aActivityParamSet,aAnimationNode,aAnimation,aInterpolator){var eCalcMode=aAnimationNode.getCalcMode(),sAttributeName=aAnimationNode.getAttributeName(),aAttributeProp=aAttributeMap[sAttributeName],eValueType=aAttributeProp.type,eValueSubtype=aAttributeProp.subtype;aInterpolator||(aInterpolator=aInterpolatorHandler.getInterpolator(eCalcMode,eValueType,eValueSubtype));var bAccumulate=aAnimationNode.getAccumulate()===ACCUMULATE_MODE_SUM&&!(eValueType===BOOL_PROPERTY||eValueType===STRING_PROPERTY||eValueType===ENUM_PROPERTY);if(aAnimationNode.getFormula()){var sFormula=aAnimationNode.getFormula(),reMath=/abs|sqrt|asin|acos|atan|sin|cos|tan|exp|log|min|max/g;sFormula=sFormula.replace(reMath,"Math.$&"),sFormula=sFormula.replace(/pi(?!\w)/g,"Math.PI"),sFormula=sFormula.replace(/e(?!\w)/g,"Math.E"),sFormula=sFormula.replace(/\$/g,"__PARAM0__"),aActivityParamSet.aFormula=function(){return eval(sFormula)}}aActivityParamSet.aDiscreteTimes=aAnimationNode.getKeyTimes();var aValueSet=aAnimationNode.getValues(),nValueSetSize=aValueSet.length;if(0!=nValueSetSize){if(0==aActivityParamSet.aDiscreteTimes.length)for(var i=0;nValueSetSize>i;++i)aActivityParamSet.aDiscreteTimes[i].push(i/nValueSetSize);switch(eCalcMode){case CALC_MODE_DISCRETE:return aActivityParamSet.aWakeupEvent=new WakeupEvent(aActivityParamSet.aTimerEventQueue.getTimer(),aActivityParamSet.aActivityQueue),createValueListActivity(aActivityParamSet,aAnimationNode,aAnimation,aInterpolator,DiscreteValueListActivity,bAccumulate,eValueType);default:log("createActivity: unexpected calculation mode: "+eCalcMode);case CALC_MODE_PACED:case CALC_MODE_SPLINE:case CALC_MODE_LINEAR:return createValueListActivity(aActivityParamSet,aAnimationNode,aAnimation,aInterpolator,LinearValueListActivity,bAccumulate,eValueType)}}else switch(eCalcMode){case CALC_MODE_DISCRETE:return log("createActivity: discrete calculation case not yet implemented"),aActivityParamSet.aWakeupEvent=new WakeupEvent(aActivityParamSet.aTimerEventQueue.getTimer(),aActivityParamSet.aActivityQueue),createFromToByActivity(aActivityParamSet,aAnimationNode,aAnimation,aInterpolator,DiscreteFromToByActivity,bAccumulate,eValueType);default:log("createActivity: unexpected calculation mode: "+eCalcMode);case CALC_MODE_PACED:case CALC_MODE_SPLINE:case CALC_MODE_LINEAR:return createFromToByActivity(aActivityParamSet,aAnimationNode,aAnimation,aInterpolator,LinearFromToByActivity,bAccumulate,eValueType)}}function createValueListActivity(t,e,i,n,a,r,s){var o=e.getAnimatedElement(),l=aOperatorSetMap[s];assert(l,"createValueListActivity: no operator set found");var E=e.getValues(),h=[];extractAttributeValues(s,h,E,o.getBaseBBox(),t.nSlideWidth,t.nSlideHeight);for(var u=0;u<h.length;++u)ANIMDBG.print("createValueListActivity: value["+u+"] = "+h[u]);return new a(h,t,i,n,l,r)}function createFromToByActivity(t,e,i,n,a,r,s){var o=e.getAnimatedElement(),l=aOperatorSetMap[s];assert(l,"createFromToByActivity: no operator set found");var E=[];E[0]=e.getFromValue(),E[1]=e.getToValue(),E[2]=e.getByValue(),ANIMDBG.print("createFromToByActivity: value type: "+aValueTypeOutMap[s]+", aFrom = "+E[0]+", aTo = "+E[1]+", aBy = "+E[2]);var h=[];return extractAttributeValues(s,h,E,o.getBaseBBox(),t.nSlideWidth,t.nSlideHeight),ANIMDBG.print("createFromToByActivity: , aFrom = "+h[0]+", aTo = "+h[1]+", aBy = "+h[2]),new a(h[0],h[1],h[2],t,i,n,l,r)}function extractAttributeValues(t,e,i,n,a,r){var s;switch(t){case NUMBER_PROPERTY:evalValuesAttribute(e,i,n,a,r);break;case BOOL_PROPERTY:for(s=0;s<i.length;++s){var o=booleanParser(i[s]);e.push(o)}break;case STRING_PROPERTY:for(s=0;s<i.length;++s)e.push(i[s]);break;case ENUM_PROPERTY:for(s=0;s<i.length;++s)e.push(i[s]);break;case COLOR_PROPERTY:for(s=0;s<i.length;++s)o=colorParser(i[s]),e.push(o);break;default:log("createValueListActivity: unexpected value type: "+t)}}function evalValuesAttribute(aValueList,aValueSet){for(var reMath=/abs|sqrt|asin|acos|atan|sin|cos|tan|exp|log|min|max/g,i=0;i<aValueSet.length;++i){var sValue=aValueSet[i];sValue=sValue.replace(reMath,"Math.$&"),sValue=sValue.replace(/pi(?!\w)/g,"Math.PI"),sValue=sValue.replace(/e(?!\w)/g,"Math.E");var aValue=eval(sValue);aValueList.push(aValue)}}function Effect(t){this.nId=("undefined"==typeof t?"undefined":_typeof(t))===_typeof(1)?t:-1,this.eState=Effect.NOT_STARTED}function SlideShow(){this.aTimer=new ElapsedTime,this.aFrameSynchronization=new FrameSynchronization(PREFERRED_FRAME_RATE),this.aTimerEventQueue=new TimerEventQueue(this.aTimer),this.aActivityQueue=new ActivityQueue(this.aTimer),this.aNextEffectEventArray=null,this.aInteractiveAnimationSequenceMap=null,this.aEventMultiplexer=null,this.aContext=new SlideShowContext(this.aTimerEventQueue,this.aEventMultiplexer,this.aNextEffectEventArray,this.aInteractiveAnimationSequenceMap,this.aActivityQueue),this.bIsIdle=!0,this.bIsEnabled=!0,this.bNoSlideTransition=!1,this.bIsTransitionRunning=!1,this.nCurrentEffect=0,this.bIsNextEffectRunning=!1,this.bIsRewinding=!1,this.bIsSkipping=!1,this.bIsSkippingAll=!1,this.nTotalInteractivePlayingEffects=0,this.aStartedEffectList=[],this.aStartedEffectIndexMap={},this.aStartedEffectIndexMap[-1]=void 0}function SlideShowContext(t,e,i,n,a){this.aTimerEventQueue=t,this.aEventMultiplexer=e,this.aNextEffectEventArray=i,this.aInteractiveAnimationSequenceMap=n,this.aActivityQueue=a,this.bIsSkipping=!1}function FrameSynchronization(t){this.nFrameDuration=t,this.aTimer=new ElapsedTime,this.nNextFrameTargetTime=0,this.bIsActive=!1,this.markCurrentFrame()}function NextEffectEventArray(){this.aEventArray=[]}function TimerEventQueue(t){this.aTimer=t,this.aEventSet=new PriorityQueue(EventEntry.compare)}function EventEntry(t,e){this.aEvent=t,this.nActivationTime=e}function ActivityQueue(t){this.aTimer=t,this.aCurrentActivityWaitingSet=[],this.aCurrentActivityReinsertSet=[],this.aDequeuedActivitySet=[]}function ElapsedTime(t){this.aTimeBase=t,this.nLastQueriedTime=0,this.nStartTime=this.getCurrentTime(),this.nFrozenTime=0,this.bInPauseMode=!1,this.bInHoldMode=!1}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t;
}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_dojo_sniffer=require("./dojo_sniffer.js"),_dojo_sniffer2=_interopRequireDefault(_dojo_sniffer);require("./svgPath.js"),document.onkeydown=onKeyDown,document.handleClick=slideOnMouseUp,window.addEventListener&&window.addEventListener("DOMMouseScroll",function(t){return mouseHandlerDispatch(t,MOUSE_WHEEL)},!1),window.onmousewheel=function(t){return mouseHandlerDispatch(t,MOUSE_WHEEL)},document.onmouseup=function(t){return mouseHandlerDispatch(t,MOUSE_UP)},window.onload=init;var aOOOElemMetaSlides="ooo:meta_slides",aOOOElemMetaSlide="ooo:meta_slide",aOOOElemTextField="ooo:text_field",aPresentationClipPathId="presentation_clip_path",aPresentationClipPathShrinkId="presentation_clip_path_shrink",aOOOAttrNumberOfSlides="number-of-slides",aOOOAttrStartSlideNumber="start-slide-number",aOOOAttrNumberingType="page-numbering-type",aOOOAttrListItemNumberingType="numbering-type",aOOOAttrUsePositionedChars="use-positioned-chars",aOOOAttrSlide="slide",aOOOAttrMaster="master",aOOOAttrHasTransition="has-transition",aOOOAttrBackgroundVisibility="background-visibility",aOOOAttrMasterObjectsVisibility="master-objects-visibility",aOOOAttrPageNumberVisibility="page-number-visibility",aOOOAttrDateTimeVisibility="date-time-visibility",aOOOAttrFooterVisibility="footer-visibility",aOOOAttrHeaderVisibility="header-visibility",aOOOAttrDateTimeField="date-time-field",aOOOAttrFooterField="footer-field",aOOOAttrHeaderField="header-field",aOOOAttrDateTimeFormat="date-time-format",aOOOAttrTextAdjust="text-adjust",aClipPathGroupClassName="ClipPathGroup",aPageClassName="Page",aSlideNumberClassName="Slide_Number",aDateTimeClassName="Date/Time",aFooterClassName="Footer",aHeaderClassName="Header",NSS={};NSS.svg="http://www.w3.org/2000/svg",NSS.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",NSS.xlink="http://www.w3.org/1999/xlink",NSS.xml="http://www.w3.org/XML/1998/namespace",NSS.ooo="http://xml.openoffice.org/svg/export",NSS.presentation="http://sun.com/xmlns/staroffice/presentation",NSS.smil="http://www.w3.org/2001/SMIL20/",NSS.anim="urn:oasis:names:tc:opendocument:xmlns:animation:1.0";var SLIDE_MODE=1,INDEX_MODE=2,MOUSE_UP=1,MOUSE_DOWN=2,MOUSE_MOVE=3,MOUSE_WHEEL=4,LEFT_KEY=37,UP_KEY=38,RIGHT_KEY=39,DOWN_KEY=40,PAGE_UP_KEY=33,PAGE_DOWN_KEY=34,HOME_KEY=36,END_KEY=35,ENTER_KEY=13,SPACE_KEY=32,ESCAPE_KEY=27,HIDDEN=0,VISIBLE=1,INHERIT=2,aVisibilityValue={hidden:HIDDEN,visible:VISIBLE,inherit:INHERIT},ROOT_NODE=document.getElementsByTagNameNS(NSS.svg,"svg")[0],WIDTH=0,HEIGHT=0,INDEX_COLUMNS_DEFAULT=3,INDEX_OFFSET=0,Detect=_dojo_sniffer2["default"](),theMetaDoc,theSlideIndexPage,currentMode=SLIDE_MODE,processingEffect=!1,nCurSlide=void 0,bTextHasBeenSelected=!1,sLastSelectedText="",charCodeDictionary=getDefaultCharCodeDictionary(),keyCodeDictionary=getDefaultKeyCodeDictionary(),mouseHandlerDictionary=getDefaultMouseHandlerDictionary();DebugPrinter.prototype.on=function(){this.bEnabled=!0},DebugPrinter.prototype.off=function(){this.bEnabled=!1},DebugPrinter.prototype.isEnabled=function(){return this.bEnabled},DebugPrinter.prototype.print=function(t,e){if(this.isEnabled()){var i="DBG: "+t;e&&(i+=" (at: "+String(e/1e3)+"s)"),log(i)}};var aGenericDebugPrinter=new DebugPrinter;aGenericDebugPrinter.on();var DBGLOG=bind2(DebugPrinter.prototype.print,aGenericDebugPrinter),NAVDBG=new DebugPrinter;NAVDBG.off();var ANIMDBG=new DebugPrinter;ANIMDBG.off();var aRegisterEventDebugPrinter=new DebugPrinter;aRegisterEventDebugPrinter.off();var aTimerEventQueueDebugPrinter=new DebugPrinter;aTimerEventQueueDebugPrinter.off();var aEventMultiplexerDebugPrinter=new DebugPrinter;aEventMultiplexerDebugPrinter.off();var aNextEffectEventArrayDebugPrinter=new DebugPrinter;aNextEffectEventArrayDebugPrinter.off();var aActivityQueueDebugPrinter=new DebugPrinter;aActivityQueueDebugPrinter.off();var aAnimatedElementDebugPrinter=new DebugPrinter;aAnimatedElementDebugPrinter.off(),MetaDocument.prototype={getCurrentSlide:function(){return this.aMetaSlideSet[nCurSlide]},setCurrentSlide:function(t){t>=0&&t<this.nNumberOfSlides?(void 0!==nCurSlide&&this.aMetaSlideSet[nCurSlide].hide(),this.aMetaSlideSet[t].show(),nCurSlide=t):log("MetaDocument.setCurrentSlide: slide index out of range: "+t)},initSlideAnimationsMap:function(){var t=document.getElementById("presentation-animations");if(t){var e=t.getElementsByTagName("defs");this.bIsAnimated="number"==typeof e.length&&e.length>0;for(var i=0;i<e.length;++i){var n=e[i].getAttributeNS(NSS.ooo,aOOOAttrSlide),a=getElementChildren(e[i]);n&&1===a.length&&(this.aSlideAnimationsMap[n]=a[0])}}}},MetaSlide.prototype={show:function(){this.updateMasterPageView(),this.aVisibilityStatusElement.setAttribute("visibility","inherit")},hide:function(){this.aVisibilityStatusElement.setAttribute("visibility","hidden")},updateMasterPageView:function(){this.aMasterPageView||(this.aMasterPageView=new MasterPageView(this),this.aMasterPageView.attachToSlide()),this.aMasterPageView.update()},initMasterPage:function(){var t=this.element.getAttributeNS(NSS.ooo,aOOOAttrMaster);return this.theMetaDoc.aMasterPageSet.hasOwnProperty(t)||(this.theMetaDoc.aMasterPageSet[t]=new MasterPage(t,this),this.theMetaDoc.aTextFieldHandlerSet[t]={}),this.theMetaDoc.aMasterPageSet[t]},initHasTransition:function(){var t=this.element.getAttributeNS(NSS.ooo,aOOOAttrHasTransition);return"true"===t},initVisibilityProperty:function(t,e){var i=e,n=getOOOAttribute(this.element,t);return n&&(i=aVisibilityValue[n]),i},initSlideNumberFieldContentProvider:function(){return this.theMetaDoc.aSlideNumberProvider},initDateTimeFieldContentProvider:function(t){var e=getOOOAttribute(this.element,t);if(!e)return null;var i=aOOOElemTextField.length+1,n=parseInt(e.substring(i));if("number"!=typeof n)return null;if(!this.theMetaDoc.aTextFieldContentProviderSet[n]){var a,r=document.getElementById(e),s=getClassAttribute(r);"FixedDateTimeField"==s?(a=new FixedTextProvider(r),this.bIsDateTimeVariable=!1):"VariableDateTimeField"==s?(a=new CurrentDateTimeProvider(r),this.bIsDateTimeVariable=!0):a=null,this.theMetaDoc.aTextFieldContentProviderSet[n]=a}return this.theMetaDoc.aTextFieldContentProviderSet[n]},initFixedTextFieldContentProvider:function(t){var e=getOOOAttribute(this.element,t);if(!e)return null;var i=aOOOElemTextField.length+1,n=parseInt(e.substring(i));if("number"!=typeof n)return null;if(!this.theMetaDoc.aTextFieldContentProviderSet[n]){var a=document.getElementById(e);this.theMetaDoc.aTextFieldContentProviderSet[n]=new FixedTextProvider(a)}return this.theMetaDoc.aTextFieldContentProviderSet[n]},collectTextShapes:function(){var t=[],e=getElementByClassName(document,"TextShapeIndex");if(e){var i,n=getElementChildren(e);for(i=0;i<n.length;++i){var a=getOOOAttribute(n[i],"slide");if(a===this.slideId){var r=getOOOAttribute(n[i],"id-list");if(r){var s,o=r.split(" ");for(s=0;s<o.length;++s){var l=document.getElementById(o[s]);l?t.push(l):log("warning: MetaSlide.collectTextShapes: text shape with id <"+o[s]+"> is not valid.")}}break}}}return t},initHyperlinks:function(){var t,e={};for(t=0;t<this.aTextShapeSet.length;++t)if(this.aTextShapeSet[t]){var i=getElementByClassName(this.aTextShapeSet[t],"HyperlinkIdList");if(i){var n=i.textContent;if(n){var a,r=n.trim().split(" ");for(a=0;a<r.length;++a){var s=r[a];e[s]=new HyperlinkElement(s,this.aSlideAnimationsHandler.aEventMultiplexer)}}}}return e},getSlideAnimationsRoot:function(){return this.theMetaDoc.aSlideAnimationsMap[this.slideId]}},MasterPage.prototype={initPlaceholderShapes:function(){this.aPlaceholderShapeSet[aSlideNumberClassName]=new PlaceholderShape(this,aSlideNumberClassName),this.aPlaceholderShapeSet[aDateTimeClassName]=new PlaceholderShape(this,aDateTimeClassName),this.aPlaceholderShapeSet[aFooterClassName]=new PlaceholderShape(this,aFooterClassName),this.aPlaceholderShapeSet[aHeaderClassName]=new PlaceholderShape(this,aHeaderClassName)}},PlaceholderShape.prototype.isValid=function(){return this.element&&this.textElement},PlaceholderShape.prototype.init=function(){var t=getElementByClassName(this.masterPage.backgroundObjects,this.className);if(t){var e=getElementByClassName(t,"PlaceholderText");if(e){var i=getElementByClassName(t,"BoundingBox");if(i){var n,a,r=new Rectangle(i),s=getOOOAttribute(t,aOOOAttrTextAdjust)||"left";if("left"==s)n="start",a=String(r.left);else if("right"==s)n="end",a=String(r.right);else if("center"==s){n="middle";var o=(r.left+r.right)/2;a=String(parseInt(String(o)))}n&&e.setAttribute("text-anchor",n),a&&e.setAttribute("x",a)}if(this.masterPage.metaSlide.theMetaDoc.bIsUsePositionedChars){var l=e.parentNode.parentNode;if(l){var E=l.getAttribute("font-family");if(E){var h=getElementChildren(l);if(h.length>1)var u=1;for(;u<h.length;++u)l.removeChild(h[u])}}}this.element=t,this.textElement=e}}},MasterPageView.prototype.attachToSlide=function(){if(!this.bIsAttached){var t=this.aSlideElement.insertBefore(this.aMPVElement,this.aPageElement);assert(t===this.aMPVElement,"MasterPageView.attachToSlide: aInsertedElement != this.aMPVElement"),this.bIsAttached=!0}},MasterPageView.prototype.detachFromSlide=function(){this.bIsAttached&&(this.aSlideElement.removeChild(this.aMPVElement),this.bIsAttached=!1)},MasterPageView.prototype.update=function(){this.aDateTimeFieldHandler&&this.aMetaSlide.bIsDateTimeVariable&&this.aDateTimeFieldHandler.update()},MasterPageView.prototype.createElement=function(){var t=document,e=t.createElementNS(NSS.svg,"g");assert(e,"MasterPageView.createElement: failed to create a master page view element."),e.setAttribute("class","MasterPageView");var i=t.createElementNS(NSS.svg,"rect"),n=WIDTH/1e3,a=HEIGHT/1e3;if(i.setAttribute("x",String(-n/2)),i.setAttribute("y",String(-a/2)),i.setAttribute("width",String(WIDTH+n)),i.setAttribute("height",String(HEIGHT+a)),i.setAttribute("fill","#FFFFFF"),e.appendChild(i),this.aMetaSlide.nIsBackgroundVisible&&(this.aBackgroundElement=t.createElementNS(NSS.svg,"use"),this.aBackgroundElement.setAttribute("class","Background"),setNSAttribute("xlink",this.aBackgroundElement,"href","#"+this.aMasterPage.backgroundId),e.appendChild(this.aBackgroundElement)),this.aMetaSlide.nAreMasterObjectsVisible){this.aBackgroundObjectsElement=t.createElementNS(NSS.svg,"g"),this.aBackgroundObjectsElement.setAttribute("class","BackgroundObjects");var r=this.aMasterPage.aBackgroundObjectSubGroupIdList;this.aBackgroundSubGroupElementSet=[];for(var s,o=this.aMasterPage.aPlaceholderShapeSet,l=this.aMetaSlide.aTextFieldContentProviderSet,E=this.aMetaSlide.element.parentNode,h=this.aMetaSlide.theMetaDoc.aTextFieldHandlerSet,u=this.aMasterPage.id,c=0;c<r.length;++c)if(s=r[c],s===aSlideNumberClassName)o[aSlideNumberClassName]&&o[aSlideNumberClassName].isValid()&&this.aMetaSlide.nIsPageNumberVisible&&l[aSlideNumberClassName]&&(this.aSlideNumberFieldHandler=new SlideNumberFieldHandler(o[aSlideNumberClassName],l[aSlideNumberClassName]),this.aSlideNumberFieldHandler.update(this.aMetaSlide.nSlideNumber),this.aSlideNumberFieldHandler.appendTo(this.aBackgroundObjectsElement));else if(s===aDateTimeClassName)this.aMetaSlide.nIsDateTimeVisible&&(this.aDateTimeFieldHandler=this.initTextFieldHandler(aDateTimeClassName,o,l,E,h,u));else if(s===aFooterClassName)this.aMetaSlide.nIsFooterVisible&&(this.aFooterFieldHandler=this.initTextFieldHandler(aFooterClassName,o,l,E,h,u));else if(s===aHeaderClassName)this.aMetaSlide.nIsHeaderVisible&&(this.aHeaderFieldHandler=this.initTextFieldHandler(aHeaderClassName,o,l,E,h,u));else{var d=t.createElementNS(NSS.svg,"use");d.setAttribute("class","BackgroundObjectSubGroup"),setNSAttribute("xlink",d,"href","#"+s),this.aBackgroundSubGroupElementSet.push(d),this.aBackgroundObjectsElement.appendChild(d)}e.appendChild(this.aBackgroundObjectsElement)}return e},MasterPageView.prototype.initTextFieldHandler=function(t,e,i,n,a,r){var s=null;if(e[t]&&e[t].isValid()&&i[t]){var o=i[t].sId;a[r][o]?s=a[r][o]:(a[r][o]=new TextFieldHandler(e[t],i[t]),s=a[r][o],s.update(),s.appendTo(n));var l=document.createElementNS(NSS.svg,"use");l.setAttribute("class",t),setNSAttribute("xlink",l,"href","#"+s.sId),this.aBackgroundObjectsElement.appendChild(l)}return s},TextFieldHandler.CURR_UNIQUE_ID=0,TextFieldHandler.getUniqueId=function(){return++TextFieldHandler.CURR_UNIQUE_ID,TextFieldHandler.CURR_UNIQUE_ID},TextFieldHandler.prototype.cloneElement=function(){assert(this.aPlaceHolderShape&&this.aPlaceHolderShape.isValid(),"TextFieldHandler.cloneElement: placeholder shape is not valid."),this.aTextFieldElement=this.aPlaceHolderShape.element.cloneNode(!0),assert(this.aTextFieldElement,"TextFieldHandler.cloneElement: aTextFieldElement is not defined"),this.aTextFieldElement.setAttribute("id",this.sId),this.aTextFieldElement.removeAttribute("visibility"),this.aTextPlaceholderElement=getElementByClassName(this.aTextFieldElement,"PlaceholderText"),assert(this.aTextPlaceholderElement,"TextFieldHandler.cloneElement: aTextPlaceholderElement is not defined")},TextFieldHandler.prototype.appendTo=function(t){return this.aTextFieldElement?t?void t.appendChild(this.aTextFieldElement):void log("TextFieldHandler.appendTo: parent node is not defined"):void log("TextFieldHandler.appendTo: aTextFieldElement is not defined")},TextFieldHandler.prototype.setTextContent=function(t){return this.aTextPlaceholderElement?void(this.aTextPlaceholderElement.textContent=t):void log("PlaceholderShape.setTextContent: text element is not valid in placeholder of type "+this.className+" that belongs to master slide "+this.masterPage.id)},TextFieldHandler.prototype.update=function(){this.aTextContentProvider?this.aTextContentProvider.update(this):log("TextFieldHandler.update: text content provider not defined.")},extend(SlideNumberFieldHandler,TextFieldHandler),SlideNumberFieldHandler.prototype.update=function(t){this.aTextContentProvider?this.aTextContentProvider.update(this,t):log("TextFieldHandler.update: text content provider not defined.")},extend(FixedTextProvider,TextFieldContentProvider),FixedTextProvider.prototype.update=function(t){t.setTextContent(this.text)},extend(CurrentDateTimeProvider,TextFieldContentProvider),CurrentDateTimeProvider.prototype.update=function(t){var e=this.createDateTimeText(this.dateTimeFormat);t.setTextContent(e)},CurrentDateTimeProvider.prototype.createDateTimeText=function(){var t=new Date,e=t.toLocaleString();return e},extend(SlideNumberProvider,TextFieldContentProvider),SlideNumberProvider.prototype.getNumberingType=function(){return this.pageNumberingType},SlideNumberProvider.prototype.update=function(t,e){void 0===e&&(e=void 0===nCurSlide?this.nInitialSlideNumber:nCurSlide+1);var i=this.createSlideNumberText(e,this.getNumberingType());t.setTextContent(i)},SlideNumberProvider.prototype.createSlideNumberText=function(t){return String(t)},SlideIndexPage.prototype.getTotalThumbnails=function(){return this.totalThumbnails},SlideIndexPage.prototype.show=function(){this.pageElement.setAttribute("display","inherit")},SlideIndexPage.prototype.hide=function(){this.pageElement.setAttribute("display","none")},SlideIndexPage.prototype.setSelection=function(t){t=getSafeIndex(t,0,this.getTotalThumbnails()-1),this.curThumbnailIndex!=t&&(this.aThumbnailSet[this.curThumbnailIndex].unselect(),this.aThumbnailSet[t].select(),this.curThumbnailIndex=t),this.selectedSlideIndex=this.aThumbnailSet[t].slideIndex},SlideIndexPage.prototype.createPageElement=function(){var t=document.createElementNS(NSS.svg,"g");t.setAttribute("id",this.pageElementId),t.setAttribute("display","none"),t.setAttribute("visibility","visible");var e=this.pageBgColor+";",i=document.createElementNS(NSS.svg,"rect");return i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("width",WIDTH),i.setAttribute("height",HEIGHT),i.setAttribute("style","stroke:none;fill:"+e),t.appendChild(i),ROOT_NODE.appendChild(t),document.getElementById(this.pageElementId)},SlideIndexPage.prototype.createTemplateElements=function(){var t=document.createElementNS(NSS.svg,"defs"),e=document.createElementNS(NSS.svg,"rect");e.setAttribute("id",this.thumbnailBorderTemplateId),e.setAttribute("x",-this.halfBorderWidth),e.setAttribute("y",-this.halfBorderWidth),e.setAttribute("rx",this.halfBorderWidth),e.setAttribute("ry",this.halfBorderWidth),e.setAttribute("width",WIDTH+this.halfBorderWidth),e.setAttribute("height",HEIGHT+this.halfBorderWidth),e.setAttribute("stroke-width",this.borderWidth),e.setAttribute("fill","none"),t.appendChild(e),e=document.createElementNS(NSS.svg,"rect"),e.setAttribute("id",this.thumbnailMouseAreaTemplateId),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",WIDTH),e.setAttribute("height",HEIGHT),e.setAttribute("fill",this.pageBgColor),t.appendChild(e),this.pageElement.appendChild(t),this.thumbnailMouseAreaTemplateElement=document.getElementById(this.thumbnailMouseAreaTemplateId),this.thumbnailBorderTemplateElement=document.getElementById(this.thumbnailBorderTemplateId)},SlideIndexPage.prototype.decreaseNumberOfColumns=function(){this.setNumberOfColumns(this.indexColumns-1)},SlideIndexPage.prototype.increaseNumberOfColumns=function(){this.setNumberOfColumns(this.indexColumns+1)},SlideIndexPage.prototype.resetNumberOfColumns=function(){this.setNumberOfColumns(INDEX_COLUMNS_DEFAULT)},SlideIndexPage.prototype.setNumberOfColumns=function(t){if(this.indexColumns!=t&&!(2>t||t>6)){var e=ROOT_NODE.suspendRedraw(500),i=this.totalThumbnails;this.indexColumns=t,this.totalThumbnails=t*t,this.aThumbnailSet[this.curThumbnailIndex].unselect();var n;for(n=this.totalThumbnails;i>n;++n)this.aThumbnailSet[n].removeElement();for(n=i;n<this.totalThumbnails;++n)this.aThumbnailSet[n]=new Thumbnail(this,n);this.halfBorderWidthFactor=300/28e3*(this.indexColumns/3),this.halfBorderWidth=WIDTH*this.halfBorderWidthFactor,this.borderWidth=2*this.halfBorderWidth,this.scaleFactor=(1-(this.indexColumns+1)*this.xSpacingFactor)/(this.indexColumns*(1+2*this.halfBorderWidthFactor));var a=this.thumbnailBorderTemplateElement;for(a.setAttribute("x",-this.halfBorderWidth),a.setAttribute("y",-this.halfBorderWidth),a.setAttribute("rx",this.halfBorderWidth),a.setAttribute("ry",this.halfBorderWidth),a.setAttribute("width",WIDTH+this.halfBorderWidth),a.setAttribute("height",HEIGHT+this.halfBorderWidth),a.setAttribute("stroke-width",this.borderWidth),n=0;n<this.totalThumbnails;++n)this.aThumbnailSet[n].updateView();this.curThumbnailIndex=this.selectedSlideIndex%this.totalThumbnails,this.aThumbnailSet[this.curThumbnailIndex].select(),INDEX_OFFSET=-1,indexSetPageSlide(this.selectedSlideIndex),ROOT_NODE.unsuspendRedraw(e),ROOT_NODE.forceRedraw()}},Thumbnail.prototype.sNormalBorderColor="rgb(216,216,216)",Thumbnail.prototype.sSelectionBorderColor="rgb(92,92,255)",Thumbnail.prototype.removeElement=function(){this.thumbnailElement&&this.container.pageElement.removeChild(this.thumbnailElement)},Thumbnail.prototype.show=function(){this.visibility==HIDDEN&&(this.thumbnailElement.setAttribute("display","inherit"),this.visibility=VISIBLE)},Thumbnail.prototype.hide=function(){this.visibility==VISIBLE&&(this.thumbnailElement.setAttribute("display","none"),this.visibility=HIDDEN)},Thumbnail.prototype.select=function(){this.isSelected||(this.borderElement.setAttribute("stroke",this.sSelectionBorderColor),this.isSelected=!0)},Thumbnail.prototype.unselect=function(){this.isSelected&&(this.borderElement.setAttribute("stroke",this.sNormalBorderColor),this.isSelected=!1)},Thumbnail.prototype.updateView=function(){this.column=this.index%this.container.indexColumns,this.row=(this.index-this.column)/this.container.indexColumns,this.halfBorderWidth=this.container.halfBorderWidth,this.borderWidth=this.container.borderWidth,this.width=(WIDTH+this.borderWidth)*this.container.scaleFactor,this.height=(HEIGHT+this.borderWidth)*this.container.scaleFactor,this.aTransformSet[2]="translate("+this.halfBorderWidth+" "+this.halfBorderWidth+")",this.aTransformSet[1]="scale("+this.container.scaleFactor+")";var t=this.computeTransform();this.thumbnailElement.setAttribute("transform",t),this.mouseAreaElement.setAttribute("onmouseover","theSlideIndexPage.aThumbnailSet["+this.index+"].onMouseOver()")},Thumbnail.prototype.update=function(t){if(this.slideIndex!=t){var e=theMetaDoc.aMetaSlideSet[t];e.updateMasterPageView(),setNSAttribute("xlink",this.slideElement,"href","#"+e.slideId),this.slideIndex=t}},Thumbnail.prototype.clear=function(){setNSAttribute("xlink",this.slideElement,"href","")},Thumbnail.prototype.createThumbnailElement=function(){var t=document.createElementNS(NSS.svg,"g");t.setAttribute("id",this.thumbnailId),t.setAttribute("display","inherit");var e=document.createElementNS(NSS.svg,"use");setNSAttribute("xlink",e,"href",""),e.setAttribute("class","Slide"),t.appendChild(e);var i=document.createElementNS(NSS.svg,"use");setNSAttribute("xlink",i,"href","#"+this.container.thumbnailMouseAreaTemplateId),i.setAttribute("class","MouseArea"),i.setAttribute("opacity",0),t.appendChild(i);var n=document.createElementNS(NSS.svg,"use");return setNSAttribute("xlink",n,"href","#"+this.container.thumbnailBorderTemplateId),n.setAttribute("stroke",this.sNormalBorderColor),n.setAttribute("class","Border"),t.appendChild(n),this.container.pageElement.appendChild(t),document.getElementById(this.thumbnailId)},Thumbnail.prototype.computeTransform=function(){var t=this.container.xSpacing,e=this.container.ySpacing,i=t+(this.width+t)*this.column,n=e+(this.height+e)*this.row;this.aTransformSet[0]="translate("+i+" "+n+")";var a=this.aTransformSet.join(" ");return a},Thumbnail.prototype.onMouseOver=function(){currentMode==INDEX_MODE&&this.container.curThumbnailIndex!=this.index&&this.container.setSelection(this.index)};var CURR_UNIQUE_ID=0;RGBColor.prototype.clone=function(){return new RGBColor(this.nRed,this.nGreen,this.nBlue)},RGBColor.prototype.equal=function(t){return this.nRed==t.nRed&&this.nGreen==t.nGreen&&this.nBlue==t.nBlue},RGBColor.prototype.add=function(t){return this.nRed+=t.nRed,this.nGreen+=t.nGreen,this.nBlue+=t.nBlue,this},RGBColor.prototype.scale=function(t){return this.nRed*=t,this.nGreen*=t,this.nBlue*=t,this},RGBColor.clamp=function(t){var e=new RGBColor(0,0,0);return e.nRed=clamp(t.nRed,0,1),e.nGreen=clamp(t.nGreen,0,1),e.nBlue=clamp(t.nBlue,0,1),e},RGBColor.prototype.convertToHSL=function(){var t=clamp(this.nRed,0,1),e=clamp(this.nGreen,0,1),i=clamp(this.nBlue,0,1),n=Math.max(t,e,i),a=Math.min(t,e,i),r=n-a,s=(n+a)/2,o=0,l=0;return 0!==r&&(o=s>.5?r/(2-n-a):r/(n+a),t==n?l=(e-i)/r:e==n?l=2+(i-t)/r:i==n&&(l=4+(t-e)/r),l*=60,0>l&&(l+=360)),new HSLColor(l,o,s)},RGBColor.prototype.toString=function(t){var e;e=t?RGBColor.clamp(this):this;var i=Math.round(255*e.nRed),n=Math.round(255*e.nGreen),a=Math.round(255*e.nBlue);return"rgb("+i+","+n+","+a+")"},RGBColor.interpolate=function(t,e,i){var n=t.clone(),a=e.clone();return n.scale(1-i),a.scale(i),n.add(a),n},HSLColor.prototype.clone=function(){return new HSLColor(this.nHue,this.nSaturation,this.nLuminance)},HSLColor.prototype.equal=function(t){return this.nHue==t.nHue&&(this.nSaturation+=t.nSaturation)&&(this.nLuminance+=t.nLuminance)},HSLColor.prototype.add=function(t){return this.nHue+=t.nHue,this.nSaturation+=t.nSaturation,this.nLuminance+=t.nLuminance,this.normalizeHue(),this},HSLColor.prototype.scale=function(t){return this.nHue*=t,this.nSaturation*=t,this.nLuminance*=t,this.normalizeHue(),this},HSLColor.clamp=function(t){var e=new HSLColor(0,0,0);e.nHue=t.nHue%360,e.nHue<0&&(e.nHue+=360),e.nSaturation=clamp(t.nSaturation,0,1),e.nLuminance=clamp(t.nLuminance,0,1)},HSLColor.prototype.normalizeHue=function(){this.nHue=this.nHue%360,this.nHue<0&&(this.nHue+=360)},HSLColor.prototype.toString=function(){return"hsl("+this.nHue.toFixed(3)+","+this.nSaturation.toFixed(3)+","+this.nLuminance.toFixed(3)+")"},HSLColor.prototype.convertToRGB=function(){var t=this.nHue%360;0>t&&(t+=360);var e=clamp(this.nSaturation,0,1),i=clamp(this.nLuminance,0,1);if(0===e)return new RGBColor(i,i,i);var n=.5>=i?i*(1+e):i+e-i*e,a=2*i-n,r=HSLColor.hsl2rgbHelper(a,n,t+120),s=HSLColor.hsl2rgbHelper(a,n,t),o=HSLColor.hsl2rgbHelper(a,n,t-120);return new RGBColor(r,s,o)},HSLColor.hsl2rgbHelper=function(t,e,i){return i%=360,0>i&&(i+=360),60>i?t+(e-t)*i/60:180>i?e:240>i?t+(e-t)*(240-i)/60:t},HSLColor.interpolate=function(t,e,i,n){var a=1-i,r=0;r=t.nHue<=e.nHue&&!n?a*(t.nHue+360)+i*e.nHue:t.nHue>e.nHue&&n?a*t.nHue+i*(e.nHue+360):a*t.nHue+i*e.nHue;var s=a*t.nSaturation+i*e.nSaturation,o=a*t.nLuminance+i*e.nLuminance;return new HSLColor(r,s,o)};var SVGIdentityMatrix=document.documentElement.createSVGMatrix();SVGMatrix.prototype.setToIdentity=function(){this.a=this.d=1,this.b=this.c=this.d=this.e=0},SVGMatrix.prototype.setToRotationAroundPoint=function(t,e,i){i=Math.PI*i/180;var n=Math.sin(i),a=Math.cos(i);this.a=a,this.c=-n,this.e=t*(1-a)+e*n,this.b=n,this.d=a,this.f=e*(1-a)-t*n},SVGPathElement.prototype.prependPath=function(t){var e=t.getAttribute("d");e+=" "+this.getAttribute("d"),this.setAttribute("d",e)},SVGPathElement.prototype.appendPath=function(t){var e=this.getAttribute("d");e+=" "+t.getAttribute("d"),this.setAttribute("d",e)},SVGPathElement.prototype.matrixTransform=function(t){if(SVGPathSegList.prototype.matrixTransform)return void this.pathSegList.matrixTransform(t);var e,i=this.pathSegList,n=i.numberOfItems;for(e=0;n>e;++e)i.getItem(e).matrixTransform(t)},SVGPathElement.prototype.changeOrientation=function(){var t=this.pathSegList,e=t.numberOfItems;if(0!=e){if(SVGPathSegList.prototype.changeOrientation)return void t.changeOrientation();var i=0,n=0,a=t.getItem(0);"M"==a.pathSegTypeAsLetter&&(i=a.x,n=a.y,t.removeItem(0),--e);var r;for(r=0;e>r;++r){a=t.getItem(r);var s=a.changeOrientation(i,n);i=s.x,n=s.y}for(r=e-2;r>=0;--r)a=t.removeItem(r),t.appendItem(a);var o=this.createSVGPathSegMovetoAbs(i,n);t.insertItemBefore(o,0)}};try{SVGPathSegMovetoAbs.prototype.matrixTransform=function(t){SVGPathMatrixTransform(this,t)},SVGPathSegLinetoAbs.prototype.matrixTransform=function(t){SVGPathMatrixTransform(this,t)},SVGPathSegCurvetoQuadraticAbs.prototype.matrixTransform=function(t){SVGPathMatrixTransform(this,t);var e=this.x1;this.x1=t.a*e+t.c*this.y1+t.e,this.y1=t.b*e+t.d*this.y1+t.f},SVGPathSegCurvetoCubicAbs.prototype.matrixTransform=function(t){SVGPathMatrixTransform(this,t);var e=this.x1;this.x1=t.a*e+t.c*this.y1+t.e,this.y1=t.b*e+t.d*this.y1+t.f,e=this.x2,this.x2=t.a*e+t.c*this.y2+t.e,this.y2=t.b*e+t.d*this.y2+t.f},SVGPathSegMovetoAbs.prototype.changeOrientation=function(t,e){var i={x:this.x,y:this.y};return this.x=t,this.y=e,i},SVGPathSegLinetoAbs.prototype.changeOrientation=function(t,e){var i={x:this.x,y:this.y};return this.x=t,this.y=e,i},SVGPathSegCurvetoQuadraticAbs.prototype.changeOrientation=function(t,e){var i={x:this.x,y:this.y};return this.x=t,this.y=e,i},SVGPathSegCurvetoCubicAbs.prototype.changeOrientation=function(t,e){var i={x:this.x,y:this.y};this.x=t,this.y=e;var n=this.x1;this.x1=this.x2,this.x2=n;var a=this.y1;return this.y1=this.y2,this.y2=a,i}}catch(e){if("ReferenceError"!=e.name)throw e;SVGPathSeg.prototype.matrixTransform=function(t){var e;switch(this.pathSegTypeAsLetter){case"C":e=this.x2,this.x2=t.a*e+t.c*this.y2+t.e,this.y2=t.b*e+t.d*this.y2+t.f;case"Q":e=this.x1,this.x1=t.a*e+t.c*this.y1+t.e,this.y1=t.b*e+t.d*this.y1+t.f;case"M":case"L":SVGPathMatrixTransform(this,t);break;default:log("SVGPathSeg.matrixTransform: unexpected path segment type: "+this.pathSegTypeAsLetter)}},SVGPathSeg.prototype.changeOrientation=function(t,e){switch(this.pathSegTypeAsLetter){case"C":var i=this.x1;this.x1=this.x2,this.x2=i;var n=this.y1;this.y1=this.y2,this.y2=n;case"M":case"L":case"Q":var a={x:this.x,y:this.y};return this.x=t,this.y=e,a;default:return log("SVGPathSeg.changeOrientation: unexpected path segment type: "+this.pathSegTypeAsLetter),null}}}PriorityQueue.prototype.clone=function(){var t,e,i=new PriorityQueue(this.aCompareFunc),n=this.aSequence,a=[];for(t=0,e=n.length;e>t;++t)t in n&&a.push(n[t]);return i.aSequence=a,i},PriorityQueue.prototype.top=function(){return this.aSequence[this.aSequence.length-1]},PriorityQueue.prototype.isEmpty=function(){return 0===this.aSequence.length},PriorityQueue.prototype.push=function(t){this.aSequence.unshift(t),this.aSequence.sort(this.aCompareFunc)},PriorityQueue.prototype.clear=function(){this.aSequence=[]},PriorityQueue.prototype.pop=function(){return this.aSequence.pop()};var ANIMATION_NODE_CUSTOM=0,ANIMATION_NODE_PAR=1,ANIMATION_NODE_SEQ=2,ANIMATION_NODE_ITERATE=3,ANIMATION_NODE_ANIMATE=4,ANIMATION_NODE_SET=5,ANIMATION_NODE_ANIMATEMOTION=6,ANIMATION_NODE_ANIMATECOLOR=7,ANIMATION_NODE_ANIMATETRANSFORM=8,ANIMATION_NODE_TRANSITIONFILTER=9,ANIMATION_NODE_AUDIO=10,ANIMATION_NODE_COMMAND=11,aAnimationNodeTypeInMap={par:ANIMATION_NODE_PAR,seq:ANIMATION_NODE_SEQ,iterate:ANIMATION_NODE_ITERATE,animate:ANIMATION_NODE_ANIMATE,set:ANIMATION_NODE_SET,animatemotion:ANIMATION_NODE_ANIMATEMOTION,animatecolor:ANIMATION_NODE_ANIMATECOLOR,animatetransform:ANIMATION_NODE_ANIMATETRANSFORM,transitionfilter:ANIMATION_NODE_TRANSITIONFILTER,audio:ANIMATION_NODE_AUDIO,command:ANIMATION_NODE_COMMAND},INVALID_NODE=0,UNRESOLVED_NODE=1,RESOLVED_NODE=2,ACTIVE_NODE=4,FROZEN_NODE=8,ENDED_NODE=16,IMPRESS_DEFAULT_NODE=0,IMPRESS_ON_CLICK_NODE=1,IMPRESS_WITH_PREVIOUS_NODE=2,IMPRESS_AFTER_PREVIOUS_NODE=3,IMPRESS_MAIN_SEQUENCE_NODE=4,IMPRESS_TIMING_ROOT_NODE=5,IMPRESS_INTERACTIVE_SEQUENCE_NODE=6,aImpressNodeTypeInMap={"on-click":IMPRESS_ON_CLICK_NODE,"with-previous":IMPRESS_WITH_PREVIOUS_NODE,"after-previous":IMPRESS_AFTER_PREVIOUS_NODE,"main-sequence":IMPRESS_MAIN_SEQUENCE_NODE,"timing-root":IMPRESS_TIMING_ROOT_NODE,"interactive-sequence":IMPRESS_INTERACTIVE_SEQUENCE_NODE},aImpressNodeTypeOutMap=["default","on-click","with-previous","after-previous","main-sequence","timing-root","interactive-sequence"],aPresetClassInMap={},aPresetIdInMap={},RESTART_MODE_DEFAULT=0,RESTART_MODE_ALWAYS=1,RESTART_MODE_WHEN_NOT_ACTIVE=2,RESTART_MODE_NEVER=3,aRestartModeInMap={inherit:RESTART_MODE_DEFAULT,always:RESTART_MODE_ALWAYS,whenNotActive:RESTART_MODE_WHEN_NOT_ACTIVE,never:RESTART_MODE_NEVER},aRestartModeOutMap=["inherit","always","whenNotActive","never"],FILL_MODE_DEFAULT=0,FILL_MODE_REMOVE=1,FILL_MODE_FREEZE=2,FILL_MODE_HOLD=3,FILL_MODE_TRANSITION=4,FILL_MODE_AUTO=5,aFillModeInMap={inherit:FILL_MODE_DEFAULT,remove:FILL_MODE_REMOVE,freeze:FILL_MODE_FREEZE,hold:FILL_MODE_HOLD,transition:FILL_MODE_TRANSITION,auto:FILL_MODE_AUTO},aFillModeOutMap=["inherit","remove","freeze","hold","transition","auto"],ADDITIVE_MODE_BASE=1,ADDITIVE_MODE_SUM=2,ADDITIVE_MODE_REPLACE=3,ADDITIVE_MODE_MULTIPLY=4,ADDITIVE_MODE_NONE=5,aAddittiveModeInMap={base:ADDITIVE_MODE_BASE,sum:ADDITIVE_MODE_SUM,replace:ADDITIVE_MODE_REPLACE,multiply:ADDITIVE_MODE_MULTIPLY,none:ADDITIVE_MODE_NONE},aAddittiveModeOutMap=["unknown","base","sum","replace","multiply","none"],ACCUMULATE_MODE_NONE=0,ACCUMULATE_MODE_SUM=1,aAccumulateModeOutMap=["none","sum"],CALC_MODE_DISCRETE=1,CALC_MODE_LINEAR=2,CALC_MODE_PACED=3,CALC_MODE_SPLINE=4,aCalcModeInMap={discrete:CALC_MODE_DISCRETE,linear:CALC_MODE_LINEAR,paced:CALC_MODE_PACED,spline:CALC_MODE_SPLINE},aCalcModeOutMap=["unknown","discrete","linear","paced","spline"],COLOR_SPACE_RGB=0,COLOR_SPACE_HSL=1,aColorSpaceInMap={rgb:COLOR_SPACE_RGB,hsl:COLOR_SPACE_HSL},aColorSpaceOutMap=["rgb","hsl"],CLOCKWISE=0,COUNTERCLOCKWISE=1,aClockDirectionInMap={clockwise:CLOCKWISE,"counter-clockwise":COUNTERCLOCKWISE},aClockDirectionOutMap=["clockwise","counter-clockwise"],UNKNOWN_PROPERTY=0,NUMBER_PROPERTY=1,ENUM_PROPERTY=2,COLOR_PROPERTY=3,STRING_PROPERTY=4,BOOL_PROPERTY=5,aValueTypeOutMap=["unknown","number","enum","color","string","boolean"],aAttributeMap={height:{type:NUMBER_PROPERTY,get:"getHeight",set:"setHeight",getmod:function(){return makeScaler(1/nHeight)},setmod:function(){return makeScaler(nHeight)}},opacity:{type:NUMBER_PROPERTY,get:"getOpacity",set:"setOpacity"},rotate:{type:NUMBER_PROPERTY,get:"getRotationAngle",set:"setRotationAngle"},width:{type:NUMBER_PROPERTY,get:"getWidth",set:"setWidth",
getmod:function(){return makeScaler(1/nWidth)},setmod:function(){return makeScaler(nWidth)}},x:{type:NUMBER_PROPERTY,get:"getX",set:"setX",getmod:function(){return makeScaler(1/nWidth)},setmod:function(){return makeScaler(nWidth)}},y:{type:NUMBER_PROPERTY,get:"getY",set:"setY",getmod:function(){return makeScaler(1/nHeight)},setmod:function(){return makeScaler(nHeight)}},fill:{type:ENUM_PROPERTY,get:"getFillStyle",set:"setFillStyle"},stroke:{type:ENUM_PROPERTY,get:"getStrokeStyle",set:"setStrokeStyle"},visibility:{type:ENUM_PROPERTY,get:"getVisibility",set:"setVisibility"},"fill-color":{type:COLOR_PROPERTY,get:"getFillColor",set:"setFillColor"},"stroke-color":{type:COLOR_PROPERTY,get:"getStrokeColor",set:"setStrokeColor"},color:{type:COLOR_PROPERTY,get:"getFontColor",set:"setFontColor"}},TRANSITION_INVALID=0,TRANSITION_CLIP_POLYPOLYGON=1,TRANSITION_SPECIAL=2,BARWIPE_TRANSITION=1,BOXWIPE_TRANSITION=2,FOURBOXWIPE_TRANSITION=3,ELLIPSEWIPE_TRANSITION=4,CLOCKWIPE_TRANSITION=5,PINWHEELWIPE_TRANSITION=6,PUSHWIPE_TRANSITION=7,SLIDEWIPE_TRANSITION=8,FADE_TRANSITION=9,RANDOMBARWIPE_TRANSITION=10,CHECKERBOARDWIPE_TRANSITION=11,DISSOLVE_TRANSITION=12,SNAKEWIPE_TRANSITION=13,PARALLELSNAKESWIPE_TRANSITION=14,IRISWIPE_TRANSITION=15,BARNDOORWIPE_TRANSITION=16,VEEWIPE_TRANSITION=17,ZIGZAGWIPE_TRANSITION=18,BARNZIGZAGWIPE_TRANSITION=19,FANWIPE_TRANSITION=20,SINGLESWEEPWIPE_TRANSITION=21,WATERFALLWIPE_TRANSITION=22,SPIRALWIPE_TRANSITION=23,MISCDIAGONALWIPE_TRANSITION=24,BOXSNAKESWIPE_TRANSITION=25,aTransitionTypeInMap={barWipe:BARWIPE_TRANSITION,boxWipe:BOXWIPE_TRANSITION,barnDoorWipe:BARNDOORWIPE_TRANSITION,fourBoxWipe:FOURBOXWIPE_TRANSITION,ellipseWipe:ELLIPSEWIPE_TRANSITION,clockWipe:CLOCKWIPE_TRANSITION,pinWheelWipe:PINWHEELWIPE_TRANSITION,miscDiagonalWipe:MISCDIAGONALWIPE_TRANSITION,pushWipe:PUSHWIPE_TRANSITION,slideWipe:SLIDEWIPE_TRANSITION,fade:FADE_TRANSITION,fanWipe:FANWIPE_TRANSITION,randomBarWipe:RANDOMBARWIPE_TRANSITION,checkerBoardWipe:CHECKERBOARDWIPE_TRANSITION,dissolve:DISSOLVE_TRANSITION,singleSweepWipe:SINGLESWEEPWIPE_TRANSITION,snakeWipe:SNAKEWIPE_TRANSITION,parallelSnakesWipe:PARALLELSNAKESWIPE_TRANSITION,spiralWipe:SPIRALWIPE_TRANSITION,boxSnakesWipe:BOXSNAKESWIPE_TRANSITION,irisWipe:IRISWIPE_TRANSITION,veeWipe:VEEWIPE_TRANSITION,zigZagWipe:ZIGZAGWIPE_TRANSITION,barnZigZagWipe:BARNZIGZAGWIPE_TRANSITION,waterfallWipe:WATERFALLWIPE_TRANSITION},DEFAULT_TRANS_SUBTYPE=0,LEFTTORIGHT_TRANS_SUBTYPE=1,TOPTOBOTTOM_TRANS_SUBTYPE=2,CORNERSIN_TRANS_SUBTYPE=3,CORNERSOUT_TRANS_SUBTYPE=4,VERTICAL_TRANS_SUBTYPE=5,HORIZONTAL_TRANS_SUBTYPE=6,DOWN_TRANS_SUBTYPE=7,CIRCLE_TRANS_SUBTYPE=8,CLOCKWISETWELVE_TRANS_SUBTYPE=9,CLOCKWISETHREE_TRANS_SUBTYPE=10,CLOCKWISESIX_TRANS_SUBTYPE=11,CLOCKWISENINE_TRANS_SUBTYPE=12,TWOBLADEVERTICAL_TRANS_SUBTYPE=13,TWOBLADEHORIZONTAL_TRANS_SUBTYPE=14,FOURBLADE_TRANS_SUBTYPE=15,FROMLEFT_TRANS_SUBTYPE=16,FROMTOP_TRANS_SUBTYPE=17,FROMRIGHT_TRANS_SUBTYPE=18,FROMBOTTOM_TRANS_SUBTYPE=19,CROSSFADE_TRANS_SUBTYPE=20,FADETOCOLOR_TRANS_SUBTYPE=21,FADEFROMCOLOR_TRANS_SUBTYPE=22,FADEOVERCOLOR_TRANS_SUBTYPE=23,THREEBLADE_TRANS_SUBTYPE=24,EIGHTBLADE_TRANS_SUBTYPE=25,ONEBLADE_TRANS_SUBTYPE=26,ACROSS_TRANS_SUBTYPE=27,TOPLEFTVERTICAL_TRANS_SUBTYPE=28,TOPLEFTHORIZONTAL_TRANS_SUBTYPE=29,TOPLEFTDIAGONAL_TRANS_SUBTYPE=30,TOPRIGHTDIAGONAL_TRANS_SUBTYPE=31,BOTTOMRIGHTDIAGONAL_TRANS_SUBTYPE=32,BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE=33,RECTANGLE_TRANS_SUBTYPE=34,DIAMOND_TRANS_SUBTYPE=35,TOPLEFT_TRANS_SUBTYPE=36,TOPRIGHT_TRANS_SUBTYPE=37,BOTTOMRIGHT_TRANS_SUBTYPE=38,BOTTOMLEFT_TRANS_SUBTYPE=39,TOPCENTER_TRANS_SUBTYPE=40,RIGHTCENTER_TRANS_SUBTYPE=41,BOTTOMCENTER_TRANS_SUBTYPE=42,LEFTCENTER_TRANS_SUBTYPE=43,LEFT_TRANS_SUBTYPE=44,UP_TRANS_SUBTYPE=45,RIGHT_TRANS_SUBTYPE=46,DIAGONALBOTTOMLEFT_TRANS_SUBTYPE=47,DIAGONALTOPLEFT_TRANS_SUBTYPE=48,CENTERTOP_TRANS_SUBTYPE=49,CENTERRIGHT_TRANS_SUBTYPE=50,TOP_TRANS_SUBTYPE=51,BOTTOM_TRANS_SUBTYPE=52,CLOCKWISETOP_TRANS_SUBTYPE=53,CLOCKWISERIGHT_TRANS_SUBTYPE=54,CLOCKWISEBOTTOM_TRANS_SUBTYPE=55,CLOCKWISELEFT_TRANS_SUBTYPE=56,CLOCKWISETOPLEFT_TRANS_SUBTYPE=57,COUNTERCLOCKWISEBOTTOMLEFT_TRANS_SUBTYPE=58,CLOCKWISEBOTTOMRIGHT_TRANS_SUBTYPE=59,COUNTERCLOCKWISETOPRIGHT_TRANS_SUBTYPE=60,VERTICALLEFT_TRANS_SUBTYPE=61,VERTICALRIGHT_TRANS_SUBTYPE=62,HORIZONTALLEFT_TRANS_SUBTYPE=63,HORIZONTALRIGHT_TRANS_SUBTYPE=64,TOPLEFTCLOCKWISE_TRANS_SUBTYPE=65,TOPRIGHTCLOCKWISE_TRANS_SUBTYPE=66,BOTTOMRIGHTCLOCKWISE_TRANS_SUBTYPE=67,BOTTOMLEFTCLOCKWISE_TRANS_SUBTYPE=68,TOPLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE=69,TOPRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE=70,BOTTOMRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE=71,BOTTOMLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE=72,DOUBLEBARNDOOR_TRANS_SUBTYPE=73,DOUBLEDIAMOND_TRANS_SUBTYPE=74,VERTICALTOPSAME_TRANS_SUBTYPE=75,VERTICALBOTTOMSAME_TRANS_SUBTYPE=76,VERTICALTOPLEFTOPPOSITE_TRANS_SUBTYPE=77,VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE=78,HORIZONTALLEFTSAME_TRANS_SUBTYPE=79,HORIZONTALRIGHTSAME_TRANS_SUBTYPE=80,HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE=81,HORIZONTALTOPRIGHTOPPOSITE_TRANS_SUBTYPE=82,DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE=83,DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE=84,TWOBOXTOP_TRANS_SUBTYPE=85,TWOBOXBOTTOM_TRANS_SUBTYPE=86,TWOBOXLEFT_TRANS_SUBTYPE=87,TWOBOXRIGHT_TRANS_SUBTYPE=88,FOURBOXVERTICAL_TRANS_SUBTYPE=89,FOURBOXHORIZONTAL_TRANS_SUBTYPE=90,aTransitionSubtypeInMap={"default":DEFAULT_TRANS_SUBTYPE,leftToRight:LEFTTORIGHT_TRANS_SUBTYPE,topToBottom:TOPTOBOTTOM_TRANS_SUBTYPE,cornersIn:CORNERSIN_TRANS_SUBTYPE,cornersOut:CORNERSOUT_TRANS_SUBTYPE,vertical:VERTICAL_TRANS_SUBTYPE,centerTop:CENTERTOP_TRANS_SUBTYPE,centerRight:CENTERRIGHT_TRANS_SUBTYPE,top:TOP_TRANS_SUBTYPE,right:RIGHT_TRANS_SUBTYPE,bottom:BOTTOM_TRANS_SUBTYPE,left:LEFT_TRANS_SUBTYPE,horizontal:HORIZONTAL_TRANS_SUBTYPE,down:DOWN_TRANS_SUBTYPE,circle:CIRCLE_TRANS_SUBTYPE,clockwiseTwelve:CLOCKWISETWELVE_TRANS_SUBTYPE,clockwiseThree:CLOCKWISETHREE_TRANS_SUBTYPE,clockwiseSix:CLOCKWISESIX_TRANS_SUBTYPE,clockwiseNine:CLOCKWISENINE_TRANS_SUBTYPE,clockwiseRight:CLOCKWISERIGHT_TRANS_SUBTYPE,clockwiseTop:CLOCKWISETOP_TRANS_SUBTYPE,clockwiseBottom:CLOCKWISEBOTTOM_TRANS_SUBTYPE,clockwiseLeft:CLOCKWISELEFT_TRANS_SUBTYPE,clockwiseTopLeft:CLOCKWISETOPLEFT_TRANS_SUBTYPE,counterClockwiseBottomLeft:COUNTERCLOCKWISEBOTTOMLEFT_TRANS_SUBTYPE,clockwiseBottomRight:CLOCKWISEBOTTOMRIGHT_TRANS_SUBTYPE,counterClockwiseTopRight:COUNTERCLOCKWISETOPRIGHT_TRANS_SUBTYPE,twoBladeVertical:TWOBLADEVERTICAL_TRANS_SUBTYPE,twoBladeHorizontal:TWOBLADEHORIZONTAL_TRANS_SUBTYPE,fourBlade:FOURBLADE_TRANS_SUBTYPE,fromLeft:FROMLEFT_TRANS_SUBTYPE,fromTop:FROMTOP_TRANS_SUBTYPE,fromRight:FROMRIGHT_TRANS_SUBTYPE,fromBottom:FROMBOTTOM_TRANS_SUBTYPE,crossfade:CROSSFADE_TRANS_SUBTYPE,fadeToColor:FADETOCOLOR_TRANS_SUBTYPE,fadeFromColor:FADEFROMCOLOR_TRANS_SUBTYPE,fadeOverColor:FADEOVERCOLOR_TRANS_SUBTYPE,threeBlade:THREEBLADE_TRANS_SUBTYPE,eightBlade:EIGHTBLADE_TRANS_SUBTYPE,oneBlade:ONEBLADE_TRANS_SUBTYPE,across:ACROSS_TRANS_SUBTYPE,topLeftVertical:TOPLEFTVERTICAL_TRANS_SUBTYPE,topLeftHorizontal:TOPLEFTHORIZONTAL_TRANS_SUBTYPE,topLeftDiagonal:TOPLEFTDIAGONAL_TRANS_SUBTYPE,topRightDiagonal:TOPRIGHTDIAGONAL_TRANS_SUBTYPE,bottomRightDiagonal:BOTTOMRIGHTDIAGONAL_TRANS_SUBTYPE,topLeftClockwise:TOPLEFTCLOCKWISE_TRANS_SUBTYPE,topRightClockwise:TOPRIGHTCLOCKWISE_TRANS_SUBTYPE,bottomRightClockwise:BOTTOMRIGHTCLOCKWISE_TRANS_SUBTYPE,bottomLeftClockwise:BOTTOMLEFTCLOCKWISE_TRANS_SUBTYPE,topLeftCounterClockwise:TOPLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE,topRightCounterClockwise:TOPRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE,bottomRightCounterClockwise:BOTTOMRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE,bottomLeftCounterClockwise:BOTTOMLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE,bottomLeftDiagonal:BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE,rectangle:RECTANGLE_TRANS_SUBTYPE,diamond:DIAMOND_TRANS_SUBTYPE,topLeft:TOPLEFT_TRANS_SUBTYPE,topRight:TOPRIGHT_TRANS_SUBTYPE,bottomRight:BOTTOMRIGHT_TRANS_SUBTYPE,bottomLeft:BOTTOMLEFT_TRANS_SUBTYPE,topCenter:TOPCENTER_TRANS_SUBTYPE,rightCenter:RIGHTCENTER_TRANS_SUBTYPE,bottomCenter:BOTTOMCENTER_TRANS_SUBTYPE,leftCenter:LEFTCENTER_TRANS_SUBTYPE,up:UP_TRANS_SUBTYPE,diagonalBottomLeft:DIAGONALBOTTOMLEFT_TRANS_SUBTYPE,diagonalTopLeft:DIAGONALTOPLEFT_TRANS_SUBTYPE,verticalLeft:VERTICALLEFT_TRANS_SUBTYPE,verticalRight:VERTICALRIGHT_TRANS_SUBTYPE,horizontalLeft:HORIZONTALLEFT_TRANS_SUBTYPE,horizontalRight:HORIZONTALRIGHT_TRANS_SUBTYPE,doubleBarnDoor:DOUBLEBARNDOOR_TRANS_SUBTYPE,doubleDiamond:DOUBLEDIAMOND_TRANS_SUBTYPE,verticalTopSame:VERTICALTOPSAME_TRANS_SUBTYPE,verticalBottomSame:VERTICALBOTTOMSAME_TRANS_SUBTYPE,verticalTopLeftOpposite:VERTICALTOPLEFTOPPOSITE_TRANS_SUBTYPE,verticalBottomLeftOpposite:VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE,horizontalLeftSame:HORIZONTALLEFTSAME_TRANS_SUBTYPE,horizontalRightSame:HORIZONTALRIGHTSAME_TRANS_SUBTYPE,horizontalTopLeftOpposite:HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE,horizontalTopRightOpposite:HORIZONTALTOPRIGHTOPPOSITE_TRANS_SUBTYPE,diagonalBottomLeftOpposite:DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE,diagonalTopLeftOpposite:DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE,twoBoxTop:TWOBOXTOP_TRANS_SUBTYPE,twoBoxBottom:TWOBOXBOTTOM_TRANS_SUBTYPE,twoBoxLeft:TWOBOXLEFT_TRANS_SUBTYPE,twoBoxRight:TWOBOXRIGHT_TRANS_SUBTYPE,fourBoxVertical:FOURBOXVERTICAL_TRANS_SUBTYPE,fourBoxHorizontal:FOURBOXHORIZONTAL_TRANS_SUBTYPE},TRANSITION_MODE_IN=1,TRANSITION_MODE_OUT=0,aTransitionModeOutMap=["out","in"],REVERSEMETHOD_IGNORE=0,REVERSEMETHOD_INVERT_SWEEP=1,REVERSEMETHOD_SUBTRACT_POLYGON=2,REVERSEMETHOD_SUBTRACT_AND_INVERT=3,REVERSEMETHOD_ROTATE_180=4,REVERSEMETHOD_FLIP_X=5,REVERSEMETHOD_FLIP_Y=6,aTransitionInfoTable={};aTransitionInfoTable[0]={},aTransitionInfoTable[0][0]={"class":TRANSITION_INVALID,rotationAngle:0,scaleX:0,scaleY:0,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!1,scaleIsotropically:!1},aTransitionInfoTable[SNAKEWIPE_TRANSITION]={},aTransitionInfoTable[SNAKEWIPE_TRANSITION][TOPLEFTVERTICAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SNAKEWIPE_TRANSITION][TOPLEFTHORIZONTAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SNAKEWIPE_TRANSITION][TOPLEFTDIAGONAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SNAKEWIPE_TRANSITION][TOPRIGHTDIAGONAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SNAKEWIPE_TRANSITION][BOTTOMRIGHTDIAGONAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SNAKEWIPE_TRANSITION][BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION]={},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][VERTICALTOPSAME_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][VERTICALBOTTOMSAME_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][VERTICALTOPLEFTOPPOSITE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][HORIZONTALLEFTSAME_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][HORIZONTALRIGHTSAME_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][HORIZONTALTOPRIGHTOPPOSITE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SPIRALWIPE_TRANSITION]={},aTransitionInfoTable[SPIRALWIPE_TRANSITION][TOPLEFTCLOCKWISE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SPIRALWIPE_TRANSITION][TOPRIGHTCLOCKWISE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SPIRALWIPE_TRANSITION][BOTTOMRIGHTCLOCKWISE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SPIRALWIPE_TRANSITION][BOTTOMLEFTCLOCKWISE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:270,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SPIRALWIPE_TRANSITION][TOPLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SPIRALWIPE_TRANSITION][TOPRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SPIRALWIPE_TRANSITION][BOTTOMRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:270,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SPIRALWIPE_TRANSITION][BOTTOMLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION]={},aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][TWOBOXTOP_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][TWOBOXBOTTOM_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][TWOBOXLEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][TWOBOXRIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][FOURBOXVERTICAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][FOURBOXHORIZONTAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BARNDOORWIPE_TRANSITION]={},aTransitionInfoTable[BARNDOORWIPE_TRANSITION][VERTICAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BARNDOORWIPE_TRANSITION][HORIZONTAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BARNDOORWIPE_TRANSITION][DIAGONALBOTTOMLEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:45,scaleX:Math.SQRT2,scaleY:Math.SQRT2,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BARNDOORWIPE_TRANSITION][DIAGONALTOPLEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-45,scaleX:Math.SQRT2,scaleY:Math.SQRT2,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[MISCDIAGONALWIPE_TRANSITION]={},aTransitionInfoTable[MISCDIAGONALWIPE_TRANSITION][DOUBLEBARNDOOR_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:45,scaleX:Math.SQRT2,scaleY:Math.SQRT2,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[MISCDIAGONALWIPE_TRANSITION][DOUBLEDIAMOND_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[IRISWIPE_TRANSITION]={},aTransitionInfoTable[IRISWIPE_TRANSITION][RECTANGLE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[IRISWIPE_TRANSITION][DIAMOND_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:45,scaleX:Math.SQRT2,scaleY:Math.SQRT2,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[ZIGZAGWIPE_TRANSITION]={},aTransitionInfoTable[ZIGZAGWIPE_TRANSITION][LEFTTORIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[ZIGZAGWIPE_TRANSITION][TOPTOBOTTOM_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BARNZIGZAGWIPE_TRANSITION]={},aTransitionInfoTable[BARNZIGZAGWIPE_TRANSITION][VERTICAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BARNZIGZAGWIPE_TRANSITION][HORIZONTAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BARWIPE_TRANSITION]={},aTransitionInfoTable[BARWIPE_TRANSITION][LEFTTORIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!1,scaleIsotropically:!1},aTransitionInfoTable[BARWIPE_TRANSITION][TOPTOBOTTOM_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!1,scaleIsotropically:!1},aTransitionInfoTable[WATERFALLWIPE_TRANSITION]={},aTransitionInfoTable[WATERFALLWIPE_TRANSITION][VERTICALLEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[WATERFALLWIPE_TRANSITION][VERTICALRIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[WATERFALLWIPE_TRANSITION][HORIZONTALLEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[WATERFALLWIPE_TRANSITION][HORIZONTALRIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_ROTATE_180,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXWIPE_TRANSITION]={},aTransitionInfoTable[BOXWIPE_TRANSITION][TOPLEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXWIPE_TRANSITION][TOPRIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXWIPE_TRANSITION][BOTTOMRIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXWIPE_TRANSITION][BOTTOMLEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXWIPE_TRANSITION][TOPCENTER_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXWIPE_TRANSITION][RIGHTCENTER_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXWIPE_TRANSITION][BOTTOMCENTER_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[BOXWIPE_TRANSITION][LEFTCENTER_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[FOURBOXWIPE_TRANSITION]={},aTransitionInfoTable[FOURBOXWIPE_TRANSITION][CORNERSIN_TRANS_SUBTYPE]=aTransitionInfoTable[FOURBOXWIPE_TRANSITION][CORNERSOUT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[ELLIPSEWIPE_TRANSITION]={},aTransitionInfoTable[ELLIPSEWIPE_TRANSITION][CIRCLE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!0},aTransitionInfoTable[ELLIPSEWIPE_TRANSITION][HORIZONTAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[ELLIPSEWIPE_TRANSITION][VERTICAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[CLOCKWIPE_TRANSITION]={},aTransitionInfoTable[CLOCKWIPE_TRANSITION][CLOCKWISETWELVE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[CLOCKWIPE_TRANSITION][CLOCKWISETHREE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[CLOCKWIPE_TRANSITION][CLOCKWISESIX_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[CLOCKWIPE_TRANSITION][CLOCKWISENINE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:270,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[VEEWIPE_TRANSITION]={},aTransitionInfoTable[VEEWIPE_TRANSITION][DOWN_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[VEEWIPE_TRANSITION][LEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[VEEWIPE_TRANSITION][UP_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[VEEWIPE_TRANSITION][RIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[FANWIPE_TRANSITION]={},aTransitionInfoTable[FANWIPE_TRANSITION][CENTERTOP_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[FANWIPE_TRANSITION][CENTERRIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[FANWIPE_TRANSITION][TOP_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[FANWIPE_TRANSITION][RIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[FANWIPE_TRANSITION][BOTTOM_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[FANWIPE_TRANSITION][LEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[PINWHEELWIPE_TRANSITION]={},aTransitionInfoTable[PINWHEELWIPE_TRANSITION][ONEBLADE_TRANS_SUBTYPE]=aTransitionInfoTable[PINWHEELWIPE_TRANSITION][TWOBLADEVERTICAL_TRANS_SUBTYPE]=aTransitionInfoTable[PINWHEELWIPE_TRANSITION][THREEBLADE_TRANS_SUBTYPE]=aTransitionInfoTable[PINWHEELWIPE_TRANSITION][FOURBLADE_TRANS_SUBTYPE]=aTransitionInfoTable[PINWHEELWIPE_TRANSITION][EIGHTBLADE_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!0},aTransitionInfoTable[PINWHEELWIPE_TRANSITION][TWOBLADEHORIZONTAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:-90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!0},aTransitionInfoTable[PUSHWIPE_TRANSITION]={},aTransitionInfoTable[PUSHWIPE_TRANSITION][FROMLEFT_TRANS_SUBTYPE]=aTransitionInfoTable[PUSHWIPE_TRANSITION][FROMTOP_TRANS_SUBTYPE]=aTransitionInfoTable[PUSHWIPE_TRANSITION][FROMRIGHT_TRANS_SUBTYPE]=aTransitionInfoTable[PUSHWIPE_TRANSITION][FROMBOTTOM_TRANS_SUBTYPE]={"class":TRANSITION_SPECIAL,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION]={},aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISETOP_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISERIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISEBOTTOM_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISELEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:270,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISETOPLEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][COUNTERCLOCKWISEBOTTOMLEFT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISEBOTTOMRIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:180,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][COUNTERCLOCKWISETOPRIGHT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_SUBTRACT_AND_INVERT,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[SLIDEWIPE_TRANSITION]={},aTransitionInfoTable[SLIDEWIPE_TRANSITION][FROMLEFT_TRANS_SUBTYPE]=aTransitionInfoTable[SLIDEWIPE_TRANSITION][FROMTOP_TRANS_SUBTYPE]=aTransitionInfoTable[SLIDEWIPE_TRANSITION][FROMRIGHT_TRANS_SUBTYPE]=aTransitionInfoTable[SLIDEWIPE_TRANSITION][FROMBOTTOM_TRANS_SUBTYPE]={"class":TRANSITION_SPECIAL,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[FADE_TRANSITION]={},aTransitionInfoTable[FADE_TRANSITION][CROSSFADE_TRANS_SUBTYPE]=aTransitionInfoTable[FADE_TRANSITION][FADETOCOLOR_TRANS_SUBTYPE]=aTransitionInfoTable[FADE_TRANSITION][FADEFROMCOLOR_TRANS_SUBTYPE]=aTransitionInfoTable[FADE_TRANSITION][FADEOVERCOLOR_TRANS_SUBTYPE]={"class":TRANSITION_SPECIAL,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[RANDOMBARWIPE_TRANSITION]={},aTransitionInfoTable[RANDOMBARWIPE_TRANSITION][VERTICAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[RANDOMBARWIPE_TRANSITION][HORIZONTAL_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,
outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[CHECKERBOARDWIPE_TRANSITION]={},aTransitionInfoTable[CHECKERBOARDWIPE_TRANSITION][DOWN_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:90,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_Y,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[CHECKERBOARDWIPE_TRANSITION][ACROSS_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_FLIP_X,outInvertsSweep:!0,scaleIsotropically:!1},aTransitionInfoTable[DISSOLVE_TRANSITION]={},aTransitionInfoTable[DISSOLVE_TRANSITION][DEFAULT_TRANS_SUBTYPE]={"class":TRANSITION_CLIP_POLYPOLYGON,rotationAngle:0,scaleX:1,scaleY:1,reverseMethod:REVERSEMETHOD_IGNORE,outInvertsSweep:!0,scaleIsotropically:!0};var aStateTransitionTable=createStateTransitionTable(),EVENT_TRIGGER_UNKNOWN=0,EVENT_TRIGGER_ON_SLIDE_BEGIN=1,EVENT_TRIGGER_ON_SLIDE_END=2,EVENT_TRIGGER_BEGIN_EVENT=3,EVENT_TRIGGER_END_EVENT=4,EVENT_TRIGGER_ON_CLICK=5,EVENT_TRIGGER_ON_DBL_CLICK=6,EVENT_TRIGGER_ON_MOUSE_ENTER=7,EVENT_TRIGGER_ON_MOUSE_LEAVE=8,EVENT_TRIGGER_ON_NEXT_EFFECT=9,EVENT_TRIGGER_ON_PREV_EFFECT=10,EVENT_TRIGGER_REPEAT=11,aEventTriggerOutMap=["unknown","slideBegin","slideEnd","begin","end","click","doubleClick","mouseEnter","mouseLeave","next","previous","repeat"],UNKNOWN_TIMING=0,OFFSET_TIMING=1,WALLCLOCK_TIMING=2,INDEFINITE_TIMING=3,EVENT_TIMING=4,SYNCBASE_TIMING=5,MEDIA_TIMING=6,aTimingTypeOutMap=["unknown","offset","wallclock","indefinite","event","syncbase","media"],CHARCODE_PLUS="+".charCodeAt(0),CHARCODE_MINUS="-".charCodeAt(0),CHARCODE_0="0".charCodeAt(0),CHARCODE_9="9".charCodeAt(0);Timing.prototype.getAnimationNode=function(){return this.aAnimationNode},Timing.prototype.getType=function(){return this.eTimingType},Timing.prototype.getOffset=function(){return this.nOffset},Timing.prototype.getEventBaseElementId=function(){return this.sEventBaseElementId},Timing.prototype.getEventType=function(){return this.eEventType},Timing.prototype.parse=function(){if(!this.sTimingDescription)return void(this.eTimingType=OFFSET_TIMING);if("indefinite"==this.sTimingDescription)this.eTimingType=INDEFINITE_TIMING;else{var t=this.sTimingDescription.charCodeAt(0),e=!(t==CHARCODE_MINUS);if(t==CHARCODE_PLUS||t==CHARCODE_MINUS||t>=CHARCODE_0&&CHARCODE_9>=t){var i=t==CHARCODE_PLUS||t==CHARCODE_MINUS?this.sTimingDescription.substr(1):this.sTimingDescription,n=Timing.parseClockValue(i);void 0!=n&&(this.eTimingType=OFFSET_TIMING,this.nOffset=e?n:-n)}else{var a=[];if(e=!0,-1!=this.sTimingDescription.indexOf("+")?a=this.sTimingDescription.split("+"):-1!=this.sTimingDescription.indexOf("-")?(a=this.sTimingDescription.split("-"),e=!1):(a[0]=this.sTimingDescription,a[1]=""),-1!=a[0].indexOf(".")){var r=a[0].split(".");this.sEventBaseElementId=r[0],this.eEventType=getEventTriggerType(r[1])}else this.eEventType=getEventTriggerType(a[0]);if(this.eEventType==EVENT_TRIGGER_UNKNOWN)return;this.eEventType==EVENT_TRIGGER_BEGIN_EVENT||this.eEventType==EVENT_TRIGGER_END_EVENT?this.eTimingType=SYNCBASE_TIMING:this.eTimingType=EVENT_TIMING,a[1]&&(i=a[1],n=Timing.parseClockValue(i),void 0!=n?this.nOffset=e?n:-n:this.eTimingType=UNKNOWN_TIMING)}}},Timing.parseClockValue=function(t){if(!t)return 0;var e=void 0,i=/^([0-9]+):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?$/,n=/^([0-5][0-9]):([0-5][0-9])(.[0-9]+)?$/,a=/^([0-9]+)(.[0-9]+)?(h|min|s|ms)?$/;if(i.test(t)){var r=i.exec(t),s=parseInt(r[1]),o=parseInt(r[2]),l=parseInt(r[3]);r[4]&&(l+=parseFloat(r[4])),e=60*(60*s+o)+l}else if(n.test(t))r=n.exec(t),o=parseInt(r[1]),l=parseInt(r[2]),r[3]&&(l+=parseFloat(r[3])),e=60*o+l;else if(a.test(t)){r=a.exec(t);var E=parseInt(r[1]);r[2]&&(E+=parseFloat(r[2])),r[3]?"h"==r[3]?e=3600*E:"min"==r[3]?e=60*E:"s"==r[3]?e=E:"ms"==r[3]&&(e=E/1e3):e=E}return e&&(e=parseFloat(e.toFixed(3))),e},Timing.prototype.info=function(t){var e="";if(t)e="description: "+this.sTimingDescription+", ",e+=", type: "+aTimingTypeOutMap[this.getType()],e+=", offset: "+this.getOffset(),e+=", event base element id: "+this.getEventBaseElementId(),e+=", timing event type: "+aEventTriggerOutMap[this.getEventType()];else switch(this.getType()){case INDEFINITE_TIMING:e+="indefinite";break;case OFFSET_TIMING:e+=this.getOffset();break;case EVENT_TIMING:case SYNCBASE_TIMING:this.getEventBaseElementId()&&(e+=this.getEventBaseElementId()+"."),e+=aEventTriggerOutMap[this.getEventType()],this.getOffset()&&(this.getOffset()>0&&(e+="+"),e+=this.getOffset())}return e},Duration.prototype.isSet=function(){return this.bDefined},Duration.prototype.isIndefinite=function(){return this.bIndefinite},Duration.prototype.isMedia=function(){return this.bMedia},Duration.prototype.isValue=function(){return void 0!=this.nValue},Duration.prototype.getValue=function(){return this.nValue},Duration.prototype.info=function(){var t;return this.isIndefinite()?t="indefinite":this.isMedia()?t="media":this.getValue()&&(t=this.getValue()),t},AnimationNode.prototype.init=function(){},AnimationNode.prototype.resolve=function(){},AnimationNode.prototype.activate=function(){},AnimationNode.prototype.deactivate=function(){},AnimationNode.prototype.end=function(){},AnimationNode.prototype.getState=function(){},AnimationNode.prototype.registerDeactivatingListener=function(){},AnimationNode.prototype.notifyDeactivating=function(){},NodeContext.prototype.makeSourceEventElement=function(t,e){return e?this.aContext.aEventMultiplexer?(this.aSourceEventElementMap[t]||(this.aSourceEventElementMap[t]=new SourceEventElement(t,e,this.aContext.aEventMultiplexer)),this.aSourceEventElementMap[t]):(log("NodeContext.makeSourceEventElement: event multiplexer not initialized"),null):(log("NodeContext.makeSourceEventElement: event base element is not valid"),null)},StateTransition.prototype.enter=function(t,e){return e||(e=!1),this.eToState!=INVALID_NODE?(log("StateTransition.enter: commit() before enter()ing again!"),!1):e||this.aNode.isTransition(this.aNode.getState(),t)?0!=(this.aNode.nCurrentStateTransition&t)?!1:(this.aNode.nCurrentStateTransition|=t,this.eToState=t,!0):!1},StateTransition.prototype.commit=function(){this.eToState!=INVALID_NODE&&(this.aNode.eCurrentState=this.eToState,this.clear())},StateTransition.prototype.clear=function(){this.eToState!=INVALID_NODE&&(this.aNode.nCurrentStateTransition&=~this.eToState,this.eToState=INVALID_NODE)},extend(BaseNode,AnimationNode),BaseNode.prototype.getId=function(){return this.nId},BaseNode.prototype.parseElement=function(){var t=this.aElement,e=t.getAttributeNS(NSS.xml,"id");e&&(this.aNodeContext.aAnimationNodeMap[e]=this),this.aBegin=null;var i=t.getAttributeNS(NSS.smil,"begin");this.aBegin=new Timing(this,i),this.aBegin.parse(),this.aEnd=null;var n=t.getAttributeNS(NSS.smil,"end");n&&(this.aEnd=new Timing(this,n),this.aEnd.parse()),this.aDuration=null;var a=t.getAttributeNS(NSS.smil,"dur");this.aDuration=new Duration(a),this.aDuration.isSet()||(this.isContainer()?this.aDuration=null:this.aDuration=new Duration("indefinite"));var r=t.getAttributeNS(NSS.smil,"fill");r&&aFillModeInMap[r]?this.eFillMode=aFillModeInMap[r]:this.eFillMode=FILL_MODE_DEFAULT;var s=t.getAttributeNS(NSS.smil,"restart");s&&aRestartModeInMap[s]?this.eRestartMode=aRestartModeInMap[s]:this.eRestartMode=RESTART_MODE_DEFAULT;var o=t.getAttributeNS(NSS.smil,"repeatCount");o?this.nReapeatCount=parseFloat(o):this.nReapeatCount=1,isNaN(this.nReapeatCount)&&"indefinite"!=o&&(this.nReapeatCount=1),this.nAccelerate=0;var l=t.getAttributeNS(NSS.smil,"accelerate");l&&(this.nAccelerate=parseFloat(l)),isNaN(this.nAccelerate)&&(this.nAccelerate=0),this.nDecelerate=0;var E=t.getAttributeNS(NSS.smil,"decelerate");E&&(this.nDecelerate=parseFloat(E)),isNaN(this.nDecelerate)&&(this.nDecelerate=0),this.bAutoreverse=!1;var h=t.getAttributeNS(NSS.smil,"autoReverse");return"true"==h&&(this.bAutoreverse=!0),this.eFillMode==FILL_MODE_DEFAULT&&(this.getParentNode()?this.eFillMode=this.getParentNode().getFillMode():this.eFillMode=FILL_MODE_AUTO),this.eFillMode==FILL_MODE_AUTO&&(this.eFillMode=this.aEnd||1!=this.nReapeatCount||this.aDuration&&!this.aDuration.isIndefinite()?FILL_MODE_REMOVE:FILL_MODE_FREEZE),this.eRestartMode==RESTART_MODE_DEFAULT&&(this.getParentNode()?this.eRestartMode=this.getParentNode().getRestartMode():this.eRestartMode=RESTART_MODE_ALWAYS),this.nAccelerate+this.nDecelerate>1&&(this.nAccelerate=0,this.nDecelerate=0),this.aStateTransTable=getTransitionTable(this.getRestartMode(),this.getFillMode()),!0},BaseNode.prototype.getParentNode=function(){return this.aParentNode},BaseNode.prototype.init=function(){return this.DBG(this.callInfo("init")),this.checkValidNode()?(this.aActivationEvent&&this.aActivationEvent.dispose(),this.aDeactivationEvent&&this.aDeactivationEvent.dispose(),this.eCurrentState=UNRESOLVED_NODE,this.init_st()):!1},BaseNode.prototype.resolve=function(){if(!this.checkValidNode())return!1;this.DBG(this.callInfo("resolve")),this.eCurrentState==RESOLVED_NODE&&log("BaseNode.resolve: already in RESOLVED state");var t=new StateTransition(this);return t.enter(RESOLVED_NODE)&&this.isTransition(RESOLVED_NODE,ACTIVE_NODE)&&this.resolve_st()?(t.commit(),this.aActivationEvent?this.aActivationEvent.charge():this.aActivationEvent=makeDelay(bind(this,this.activate),this.getBegin().getOffset()+this.nStartDelay),registerEvent(this.getId(),this.getBegin(),this.aActivationEvent,this.aNodeContext),!0):!1},BaseNode.prototype.activate=function(){if(!this.checkValidNode())return!1;this.eCurrentState==ACTIVE_NODE&&log("BaseNode.activate: already in ACTIVE state"),this.DBG(this.callInfo("activate"),getCurrentSystemTime());var t=new StateTransition(this);return t.enter(ACTIVE_NODE)?(this.activate_st(),t.commit(),this.aContext.aEventMultiplexer||log("BaseNode.activate: this.aContext.aEventMultiplexer is not valid"),this.aContext.aEventMultiplexer.notifyEvent(EVENT_TRIGGER_BEGIN_EVENT,this.getId()),!0):!1},BaseNode.prototype.deactivate=function(){if(!this.inStateOrTransition(ENDED_NODE|FROZEN_NODE)&&this.checkValidNode())if(this.isTransition(this.eCurrentState,FROZEN_NODE)){this.DBG(this.callInfo("deactivate"),getCurrentSystemTime());var t=new StateTransition(this);t.enter(FROZEN_NODE,!0)&&(this.deactivate_st(FROZEN_NODE),t.commit(),this.notifyEndListeners(),this.aActivationEvent&&this.aActivationEvent.dispose(),this.aDeactivationEvent&&this.aDeactivationEvent.dispose())}else this.end()},BaseNode.prototype.end=function(){var t=this.inStateOrTransition(FROZEN_NODE);if(!this.inStateOrTransition(ENDED_NODE)&&this.checkValidNode()){this.isTransition(this.eCurrentState,ENDED_NODE)||log("BaseNode.end: end state not reachable in transition table"),this.DBG(this.callInfo("end"),getCurrentSystemTime());var e=new StateTransition(this);e.enter(ENDED_NODE,!0)&&(this.deactivate_st(ENDED_NODE),e.commit(),t||this.notifyEndListeners(),this.aActivationEvent&&this.aActivationEvent.dispose(),this.aDeactivationEvent&&this.aDeactivationEvent.dispose())}},BaseNode.prototype.dispose=function(){this.aActivationEvent&&this.aActivationEvent.dispose(),this.aDeactivationEvent&&this.aDeactivationEvent.dispose(),this.aDeactivatingListenerArray=[]},BaseNode.prototype.getState=function(){return this.eCurrentState},BaseNode.prototype.registerDeactivatingListener=function(t){return this.checkValidNode()?t?(this.aDeactivatingListenerArray.push(t),!0):(log("BaseNode.registerDeactivatingListener(): invalid notifee"),!1):!1},BaseNode.prototype.notifyDeactivating=function(t){assert(t.getState()==FROZEN_NODE||t.getState()==ENDED_NODE,"BaseNode.notifyDeactivating: Notifier node is neither in FROZEN nor in ENDED state")},BaseNode.prototype.isMainSequenceRootNode=function(){return this.bMainSequenceRootNode},BaseNode.prototype.isInteractiveSequenceRootNode=function(){return this.bInteractiveSequenceRootNode},BaseNode.prototype.makeDeactivationEvent=function(t){return this.aDeactivationEvent?this.aDeactivationEvent.charge():("undefined"==typeof t?"undefined":_typeof(t))==_typeof(0)?this.aDeactivationEvent=makeDelay(bind(this,this.deactivate),t):this.aDeactivationEvent=null,this.aDeactivationEvent},BaseNode.prototype.scheduleDeactivationEvent=function(t){this.DBG(this.callInfo("scheduleDeactivationEvent")),t||this.getDuration()&&this.getDuration().isValue()&&(t=this.makeDeactivationEvent(this.getDuration().getValue())),t&&this.aContext.aTimerEventQueue.addEvent(t)},BaseNode.prototype.checkValidNode=function(){return this.eCurrentState!=INVALID_NODE},BaseNode.prototype.init_st=function(){return!0},BaseNode.prototype.resolve_st=function(){return!0},BaseNode.prototype.activate_st=function(){this.scheduleDeactivationEvent()},BaseNode.prototype.deactivate_st=function(){},BaseNode.prototype.notifyEndListeners=function(){for(var t=this.aDeactivatingListenerArray.length,e=0;t>e;++e)this.aDeactivatingListenerArray[e].notifyDeactivating(this);this.aContext.aEventMultiplexer.notifyEvent(EVENT_TRIGGER_END_EVENT,this.getId()),this.getParentNode()&&this.getParentNode().isMainSequenceRootNode()&&this.aContext.aEventMultiplexer.notifyNextEffectEndEvent()},BaseNode.prototype.getContext=function(){return this.aContext},BaseNode.prototype.isTransition=function(t,e){return 0!=(this.aStateTransTable[t]&e)},BaseNode.prototype.inStateOrTransition=function(t){return 0!=(this.eCurrentState&t)||0!=(this.nCurrentStateTransition&t)},BaseNode.prototype.isContainer=function(){return this.bIsContainer},BaseNode.prototype.getBegin=function(){return this.aBegin},BaseNode.prototype.getDuration=function(){return this.aDuration},BaseNode.prototype.getEnd=function(){return this.aEnd},BaseNode.prototype.getFillMode=function(){return this.eFillMode},BaseNode.prototype.getRestartMode=function(){return this.eRestartMode},BaseNode.prototype.getRepeatCount=function(){return this.nReapeatCount},BaseNode.prototype.getAccelerateValue=function(){return this.nAccelerate},BaseNode.prototype.getDecelerateValue=function(){return this.nDecelerate},BaseNode.prototype.isAutoReverseEnabled=function(){return this.bAutoreverse},BaseNode.prototype.info=function(t){var e="class name: "+this.sClassName;return e+=";  element name: "+this.aElement.localName,e+=";  id: "+this.getId(),e+=";  state: "+getNodeStateName(this.getState()),t&&(e+=";  is container: "+this.isContainer(),this.getBegin()&&(e+=";  begin: "+this.getBegin().info()),this.getDuration()&&(e+=";  dur: "+this.getDuration().info()),this.getEnd()&&(e+=";  end: "+this.getEnd().info()),this.getFillMode()&&(e+=";  fill: "+aFillModeOutMap[this.getFillMode()]),this.getRestartMode()&&(e+=";  restart: "+aRestartModeOutMap[this.getRestartMode()]),this.getRepeatCount()&&1!=this.getRepeatCount()&&(e+=";  repeatCount: "+this.getRepeatCount()),this.getAccelerateValue()&&(e+=";  accelerate: "+this.getAccelerateValue()),this.getDecelerateValue()&&(e+=";  decelerate: "+this.getDecelerateValue()),this.isAutoReverseEnabled()&&(e+=";  autoReverse: true")),e},BaseNode.prototype.callInfo=function(t){var e=this.sClassName+"( "+this.getId()+", "+getNodeStateName(this.getState())+" )."+t;return e},BaseNode.prototype.DBG=function(t,e){ANIMDBG.print(t,e)},extend(AnimationBaseNode,BaseNode),AnimationBaseNode.prototype.parseElement=function(){var t=AnimationBaseNode.superclass.parseElement.call(this),e=this.aElement;this.aTargetElement=null;var i=e.getAttributeNS(NSS.smil,"targetElement");i&&(this.aTargetElement=document.getElementById(i)),this.aTargetElement||(this.eCurrentState=INVALID_NODE,log("AnimationBaseNode.parseElement: target element not found: "+i));var n=e.getAttributeNS(NSS.anim,"sub-item");this.bIsTargetTextElement=n&&"text"===n;var a=e.getAttributeNS(NSS.smil,"additive");return a&&aAddittiveModeInMap[a]?this.eAdditiveMode=aAddittiveModeInMap[a]:this.eAdditiveMode=ADDITIVE_MODE_REPLACE,this.nMinFrameCount=this.getDuration().isValue()?this.getDuration().getValue()*MINIMUM_FRAMES_PER_SECONDS:MINIMUM_FRAMES_PER_SECONDS,this.nMinFrameCount<1?this.nMinFrameCount=1:this.nMinFrameCount>MINIMUM_FRAMES_PER_SECONDS&&(this.nMinFrameCount=MINIMUM_FRAMES_PER_SECONDS),this.aTargetElement&&("visibility"===e.getAttributeNS(NSS.smil,"attributeName")&&"visible"===e.getAttributeNS(NSS.smil,"to")&&this.aTargetElement.setAttribute("visibility","hidden"),this.aNodeContext.aAnimatedElementMap[i]||(this.bIsTargetTextElement?this.aNodeContext.aAnimatedElementMap[i]=new AnimatedTextElement(this.aTargetElement):this.aNodeContext.aAnimatedElementMap[i]=new AnimatedElement(this.aTargetElement)),this.aAnimatedElement=this.aNodeContext.aAnimatedElementMap[i],this.aAnimatedElement.setAdditiveMode(this.eAdditiveMode)),t},AnimationBaseNode.prototype.init_st=function(){return this.aActivity?this.aActivity.activate(makeEvent(bind(this,this.deactivate))):this.aActivity=this.createActivity(),!0},AnimationBaseNode.prototype.resolve_st=function(){return!0},AnimationBaseNode.prototype.activate_st=function(){this.aActivity?(this.saveStateOfAnimatedElement(),this.aActivity.setTargets(this.getAnimatedElement()),this.getContext().bIsSkipping?this.aActivity.end():this.getContext().aActivityQueue.addActivity(this.aActivity)):AnimationBaseNode.superclass.scheduleDeactivationEvent.call(this)},AnimationBaseNode.prototype.deactivate_st=function(t){t==FROZEN_NODE&&this.aActivity&&this.aActivity.end(),t==ENDED_NODE&&(this.aActivity&&this.aActivity.dispose(),this.getFillMode()==FILL_MODE_REMOVE&&this.getAnimatedElement()&&this.removeEffect())},AnimationBaseNode.prototype.createActivity=function(){log("AnimationBaseNode.createActivity: abstract method called")},AnimationBaseNode.prototype.fillActivityParams=function(){var t=.001;this.getDuration().isValue()?t=this.getDuration().getValue():log("AnimationBaseNode.fillActivityParams: duration is not a number");var e=new ActivityParamSet;return e.aEndEvent=makeEvent(bind(this,this.deactivate)),e.aTimerEventQueue=this.aContext.aTimerEventQueue,e.aActivityQueue=this.aContext.aActivityQueue,e.nMinDuration=t,e.nMinNumberOfFrames=this.getMinFrameCount(),e.bAutoReverse=this.isAutoReverseEnabled(),e.nRepeatCount=this.getRepeatCount(),e.nAccelerationFraction=this.getAccelerateValue(),e.nDecelerationFraction=this.getDecelerateValue(),e.nSlideWidth=this.aNodeContext.aSlideWidth,e.nSlideHeight=this.aNodeContext.aSlideHeight,e},AnimationBaseNode.prototype.hasPendingAnimation=function(){return!0},AnimationBaseNode.prototype.saveStateOfAnimatedElement=function(){this.getAnimatedElement().saveState(this.getId())},AnimationBaseNode.prototype.removeEffect=function(){this.getAnimatedElement().restoreState(this.getId())},AnimationBaseNode.prototype.getTargetElement=function(){return this.aTargetElement},AnimationBaseNode.prototype.getAnimatedElement=function(){return this.aAnimatedElement},AnimationBaseNode.prototype.dispose=function(){this.aActivity&&this.aActivity.dispose(),AnimationBaseNode.superclass.dispose.call(this)},AnimationBaseNode.prototype.getMinFrameCount=function(){return this.nMinFrameCount},AnimationBaseNode.prototype.getAdditiveMode=function(){return this.eAdditiveMode},AnimationBaseNode.prototype.info=function(t){var e=AnimationBaseNode.superclass.info.call(this,t);if(t&&(this.getMinFrameCount()&&(e+=";  min frame count: "+this.getMinFrameCount()),e+=";  additive: "+aAddittiveModeOutMap[this.getAdditiveMode()],this.getTargetElement())){var i=this.getTargetElement().getAttribute("id");e+=";  targetElement: "+i}return e},extend(AnimationBaseNode2,AnimationBaseNode),AnimationBaseNode2.prototype.parseElement=function(){var t=AnimationBaseNode2.superclass.parseElement.call(this),e=this.aElement;return this.sAttributeName=e.getAttributeNS(NSS.smil,"attributeName"),this.sAttributeName||(this.eCurrentState=INVALID_NODE,log("AnimationBaseNode2.parseElement: target attribute name not found: "+this.sAttributeName)),this.aToValue=e.getAttributeNS(NSS.smil,"to"),t},AnimationBaseNode2.prototype.getAttributeName=function(){return this.sAttributeName},AnimationBaseNode2.prototype.getToValue=function(){return this.aToValue},AnimationBaseNode2.prototype.info=function(t){var e=AnimationBaseNode2.superclass.info.call(this,t);return t&&(this.getAttributeName()&&(e+=";  attributeName: "+this.getAttributeName()),this.getToValue()&&(e+=";  to: "+this.getToValue())),e},extend(AnimationBaseNode3,AnimationBaseNode2),AnimationBaseNode3.prototype.parseElement=function(){var t=AnimationBaseNode3.superclass.parseElement.call(this),e=this.aElement;this.eAccumulate=ACCUMULATE_MODE_NONE;var i=e.getAttributeNS(NSS.smil,"accumulate");"sum"==i&&(this.eAccumulate=ACCUMULATE_MODE_SUM),this.eCalcMode=CALC_MODE_LINEAR;var n=e.getAttributeNS(NSS.smil,"calcMode");n&&aCalcModeInMap[n]&&(this.eCalcMode=aCalcModeInMap[n]),this.aFromValue=e.getAttributeNS(NSS.smil,"from"),this.aByValue=e.getAttributeNS(NSS.smil,"by"),this.aKeyTimes=[];var a=e.getAttributeNS(NSS.smil,"keyTimes");if(a=removeWhiteSpaces(a))for(var r=a.split(";"),s=0;s<r.length;++s)this.aKeyTimes.push(parseFloat(r[s]));var o=e.getAttributeNS(NSS.smil,"values");return o?this.aValues=o.split(";"):this.aValues=[],this.aFormula=e.getAttributeNS(NSS.anim,"formula"),t},AnimationBaseNode3.prototype.getAccumulate=function(){return this.eAccumulate},AnimationBaseNode3.prototype.getCalcMode=function(){return this.eCalcMode},AnimationBaseNode3.prototype.getFromValue=function(){return this.aFromValue},AnimationBaseNode3.prototype.getByValue=function(){return this.aByValue},AnimationBaseNode3.prototype.getKeyTimes=function(){return this.aKeyTimes},AnimationBaseNode3.prototype.getValues=function(){return this.aValues},AnimationBaseNode3.prototype.getFormula=function(){return this.aFormula},AnimationBaseNode3.prototype.info=function(t){var e=AnimationBaseNode3.superclass.info.call(this,t);return t&&(this.getAccumulate()&&(e+=";  accumulate: "+aAccumulateModeOutMap[this.getAccumulate()]),e+=";  calcMode: "+aCalcModeOutMap[this.getCalcMode()],this.getFromValue()&&(e+=";  from: "+this.getFromValue()),this.getByValue()&&(e+=";  by: "+this.getByValue()),this.getKeyTimes().length&&(e+=";  keyTimes: "+this.getKeyTimes().join(",")),this.getKeyTimes().length&&(e+=";  values: "+this.getValues().join(",")),this.getFormula()&&(e+=";  formula: "+this.getFormula())),e},extend(BaseContainerNode,BaseNode),BaseContainerNode.prototype.parseElement=function(){var t=BaseContainerNode.superclass.parseElement.call(this),e=this.aElement;this.eImpressNodeType=IMPRESS_DEFAULT_NODE;var i=e.getAttributeNS(NSS.presentation,"node-type");i&&aImpressNodeTypeInMap[i]&&(this.eImpressNodeType=aImpressNodeTypeInMap[i]),this.bMainSequenceRootNode=this.eImpressNodeType==IMPRESS_MAIN_SEQUENCE_NODE,this.bInteractiveSequenceRootNode=this.eImpressNodeType==IMPRESS_INTERACTIVE_SEQUENCE_NODE,this.ePresetClass=void 0;var n=e.getAttributeNS(NSS.presentation,"preset-class");n&&aPresetClassInMap[n]&&(this.ePresetClass=aPresetClassInMap[n]),this.ePresetId=void 0;var a=e.getAttributeNS(NSS.presentation,"preset-id");a&&aPresetIdInMap[a]&&(this.ePresetId=aPresetIdInMap[a]);for(var r=this.aChildrenArray.length,s=0;r>s;++s)this.aChildrenArray[s].parseElement();return this.bDurationIndefinite=(!this.getDuration()||this.getDuration().isIndefinite())&&(!this.getEnd()||this.getEnd().getType()!=OFFSET_TIMING),t},BaseContainerNode.prototype.appendChildNode=function(t){this.checkValidNode()&&t.registerDeactivatingListener(this)&&this.aChildrenArray.push(t)},BaseContainerNode.prototype.removeAllChildrenNodes=function(){this.aChildrenArray=[]},BaseContainerNode.prototype.init_st=function(){return this.nLeftIterations=this.getRepeatCount(),this.init_children()},BaseContainerNode.prototype.init_children=function(){this.nFinishedChildren=0;for(var t=this.aChildrenArray.length,e=0,i=0;t>i;++i)this.aChildrenArray[i].init()&&++e;return t==e},BaseContainerNode.prototype.deactivate_st=function(t){this.nLeftIterations=0,t==FROZEN_NODE?this.forEachChildNode(mem_fn("deactivate"),~(FROZEN_NODE|ENDED_NODE)):(this.forEachChildNode(mem_fn("end"),~ENDED_NODE),this.getFillMode()==FILL_MODE_REMOVE&&this.removeEffect())},BaseContainerNode.prototype.hasPendingAnimation=function(){for(var t=this.aChildrenArray.length,e=0;t>e;++e)if(this.aChildrenArray[e].hasPendingAnimation())return!0;return!1},BaseContainerNode.prototype.activate_st=function(){log("BaseContainerNode.activate_st: abstract method called")},BaseContainerNode.prototype.notifyDeactivating=function(){log("BaseContainerNode.notifyDeactivating: abstract method called")},BaseContainerNode.prototype.isDurationIndefinite=function(){return this.bDurationIndefinite},BaseContainerNode.prototype.isChildNode=function(t){for(var e=this.aChildrenArray.length,i=0;e>i;++i)if(this.aChildrenArray[i].getId()==t.getId())return!0;return!1},BaseContainerNode.prototype.notifyDeactivatedChild=function(t){if(assert(t.getState()==FROZEN_NODE||t.getState()==ENDED_NODE,"BaseContainerNode.notifyDeactivatedChild: passed child node is neither in FROZEN nor in ENDED state"),assert(this.getState()!=INVALID_NODE,"BaseContainerNode.notifyDeactivatedChild: this node is invalid"),!this.isChildNode(t))return log("BaseContainerNode.notifyDeactivatedChild: unknown child notifier!"),!1;var e=this.aChildrenArray.length;assert(this.nFinishedChildren<e,"BaseContainerNode.notifyDeactivatedChild: assert(this.nFinishedChildren < nChildrenCount) failed"),++this.nFinishedChildren;var i=this.nFinishedChildren>=e;if(i&&this.isDurationIndefinite())if(this.nLeftIterations>=1&&(this.nLeftIterations-=1),this.nLeftIterations>=1){i=!1;var n=makeDelay(bind(this,this.repeat),0);this.aContext.aTimerEventQueue.addEvent(n)}else this.deactivate();return i},BaseContainerNode.prototype.repeat=function(){this.forEachChildNode(mem_fn("end"),~ENDED_NODE),this.removeEffect();var t=this.init_children();return t&&this.activate_st(),t},BaseContainerNode.prototype.removeEffect=function(){var t=this.aChildrenArray.length;if(0!=t)for(var e=t-1;e>=0;--e)0!=(this.aChildrenArray[e].getState()&(FROZEN_NODE|ENDED_NODE))?this.aChildrenArray[e].removeEffect():log("BaseContainerNode.removeEffect: child(id:"+this.aChildrenArray[e].getId()+") is neither frozen nor ended; state: "+aTransitionModeOutMap[this.aChildrenArray[e].getState()])},BaseContainerNode.prototype.saveStateOfAnimatedElement=function(){for(var t=this.aChildrenArray.length,e=0;t>e;++e)this.aChildrenArray[e].saveStateOfAnimatedElement()},BaseContainerNode.prototype.forEachChildNode=function(t,e){e||(e=-1);for(var i=this.aChildrenArray.length,n=0;i>n;++n)(-1==e||0!=(this.aChildrenArray[n].getState()&e))&&t(this.aChildrenArray[n])},BaseContainerNode.prototype.dispose=function(){for(var t=this.aChildrenArray.length,e=0;t>e;++e)this.aChildrenArray[e].dispose();BaseContainerNode.superclass.dispose.call(this)},BaseContainerNode.prototype.getImpressNodeType=function(){return this.eImpressNodeType},BaseContainerNode.prototype.info=function(t){var e=BaseContainerNode.superclass.info.call(this,t);t&&this.getImpressNodeType()&&(e+=";  node-type: "+aImpressNodeTypeOutMap[this.getImpressNodeType()]);for(var i=this.aChildrenArray.length,n=0;i>n;++n)e+="\n",e+=this.aChildrenArray[n].info(t);return e},extend(ParallelTimeContainer,BaseContainerNode),ParallelTimeContainer.prototype.activate_st=function(){for(var t=this.aChildrenArray.length,e=0,i=0;t>i;++i)this.aChildrenArray[i].resolve()&&++e;return t!=e?void log("ParallelTimeContainer.activate_st: resolving all children failed"):void(this.isDurationIndefinite()&&0==t?this.scheduleDeactivationEvent(this.makeDeactivationEvent(0)):this.scheduleDeactivationEvent())},ParallelTimeContainer.prototype.notifyDeactivating=function(t){this.notifyDeactivatedChild(t)},extend(SequentialTimeContainer,BaseContainerNode),SequentialTimeContainer.prototype.activate_st=function(){for(var t=this.aChildrenArray.length;this.nFinishedChildren<t&&!this.resolveChild(this.aChildrenArray[this.nFinishedChildren]);++this.nFinishedChildren)log("SequentialTimeContainer.activate_st: resolving child failed!");this.isDurationIndefinite()&&(0==t||this.nFinishedChildren>=t)?this.scheduleDeactivationEvent(this.makeDeactivationEvent(0)):this.scheduleDeactivationEvent()},SequentialTimeContainer.prototype.notifyDeactivating=function(t){if(!this.bIsRewinding&&!this.notifyDeactivatedChild(t)){assert(this.nFinishedChildren<this.aChildrenArray.length,"SequentialTimeContainer.notifyDeactivating: assertion (this.nFinishedChildren < this.aChildrenArray.length) failed");var e=this.aChildrenArray[this.nFinishedChildren];assert(e.getState()==UNRESOLVED_NODE,"SequentialTimeContainer.notifyDeactivating: assertion (aNextChild.getState == UNRESOLVED_NODE) failed"),this.resolveChild(e)||this.deactivate()}},SequentialTimeContainer.prototype.skipEffect=function(t){if(this.isChildNode(t)){this.getContext().aActivityQueue.endAll(),this.getContext().bIsSkipping=!0,this.getContext().aTimerEventQueue.forceEmpty(),this.getContext().bIsSkipping=!1;var e=makeEvent(bind2(t.deactivate,t));this.getContext().aTimerEventQueue.addEvent(e)}else log("SequentialTimeContainer.skipEffect: unknown child: "+t.getId())},SequentialTimeContainer.prototype.rewindCurrentEffect=function(t){this.isChildNode(t)?(assert(!this.bIsRewinding,"SequentialTimeContainer.rewindCurrentEffect: is already rewinding."),this.bIsRewinding=!0,this.getContext().aActivityQueue.endAll(),this.getContext().bIsSkipping=!0,this.getContext().aTimerEventQueue.forceEmpty(),this.getContext().bIsSkipping=!1,this.getContext().aActivityQueue.endAll(),t.end(),t.removeEffect(),t.init(),this.resolveChild(t),this.notifyRewindedEvent(t),this.bIsRewinding=!1):log("SequentialTimeContainer.rewindCurrentEffect: unknown child: "+t.getId())},SequentialTimeContainer.prototype.rewindLastEffect=function(t){if(this.isChildNode(t)){assert(!this.bIsRewinding,"SequentialTimeContainer.rewindLastEffect: is already rewinding."),this.bIsRewinding=!0,this.getContext().aTimerEventQueue.forceEmpty(),this.getContext().aActivityQueue.clear(),t.end(),--this.nFinishedChildren;var e=this.aChildrenArray[this.nFinishedChildren];e.removeEffect(),e.init(),t.init(),this.resolveChild(e),this.notifyRewindedEvent(t),this.bIsRewinding=!1}else log("SequentialTimeContainer.rewindLastEffect: unknown child: "+t.getId())},SequentialTimeContainer.prototype.resolveChild=function(t){var e=t.resolve();return e&&(this.isMainSequenceRootNode()||this.isInteractiveSequenceRootNode())&&(this.aCurrentSkipEvent&&this.aCurrentSkipEvent.dispose(),this.aCurrentSkipEvent=makeEvent(bind2(SequentialTimeContainer.prototype.skipEffect,this,t)),this.aRewindCurrentEffectEvent&&this.aRewindCurrentEffectEvent.dispose(),this.aRewindCurrentEffectEvent=makeEvent(bind2(SequentialTimeContainer.prototype.rewindCurrentEffect,this,t)),this.aRewindLastEffectEvent&&this.aRewindLastEffectEvent.dispose(),this.aRewindLastEffectEvent=makeEvent(bind2(SequentialTimeContainer.prototype.rewindLastEffect,this,t)),this.isMainSequenceRootNode()?(this.aContext.aEventMultiplexer.registerSkipEffectEvent(this.aCurrentSkipEvent),this.aContext.aEventMultiplexer.registerRewindCurrentEffectEvent(this.aRewindCurrentEffectEvent),this.aContext.aEventMultiplexer.registerRewindLastEffectEvent(this.aRewindLastEffectEvent)):this.isInteractiveSequenceRootNode()&&(this.aContext.aEventMultiplexer.registerSkipInteractiveEffectEvent(t.getId(),this.aCurrentSkipEvent),this.aContext.aEventMultiplexer.registerRewindRunningInteractiveEffectEvent(t.getId(),this.aRewindCurrentEffectEvent),this.aContext.aEventMultiplexer.registerRewindEndedInteractiveEffectEvent(t.getId(),this.aRewindLastEffectEvent))),e},SequentialTimeContainer.prototype.notifyRewindedEvent=function(t){if(this.isInteractiveSequenceRootNode()){this.aContext.aEventMultiplexer.notifyRewindedEffectEvent(t.getId());var e=t.getBegin().getEventBaseElementId();e&&this.aContext.aEventMultiplexer.notifyRewindedEffectEvent(e)}},SequentialTimeContainer.prototype.dispose=function(){this.aCurrentSkipEvent&&this.aCurrentSkipEvent.dispose(),SequentialTimeContainer.superclass.dispose.call(this)},extend(PropertyAnimationNode,AnimationBaseNode3),PropertyAnimationNode.prototype.createActivity=function(){var t=this.fillActivityParams(),e=createPropertyAnimation(this.getAttributeName(),this.getAnimatedElement(),this.aNodeContext.aSlideWidth,this.aNodeContext.aSlideHeight),i=null;
return createActivity(t,this,e,i)},extend(AnimationSetNode,AnimationBaseNode2),AnimationSetNode.prototype.createActivity=function(){var t=createPropertyAnimation(this.getAttributeName(),this.getAnimatedElement(),this.aNodeContext.aSlideWidth,this.aNodeContext.aSlideHeight),e=this.fillActivityParams();return new SetActivity(e,t,this.getToValue())},extend(AnimationColorNode,AnimationBaseNode3),AnimationColorNode.prototype.parseElement=function(){var t=AnimationColorNode.superclass.parseElement.call(this),e=this.aElement;this.eColorInterpolation=COLOR_SPACE_RGB;var i=e.getAttributeNS(NSS.anim,"color-interpolation");i&&aColorSpaceInMap[i]&&(this.eColorInterpolation=aColorSpaceInMap[i]),this.eColorInterpolationDirection=CLOCKWISE;var n=e.getAttributeNS(NSS.anim,"color-interpolation-direction");return n&&aClockDirectionInMap[n]&&(this.eColorInterpolationDirection=aClockDirectionInMap[n]),t},AnimationColorNode.prototype.createActivity=function(){var t,e,i=this.fillActivityParams(),n=createPropertyAnimation(this.getAttributeName(),this.getAnimatedElement(),this.aNodeContext.aSlideWidth,this.aNodeContext.aSlideHeight);if(this.getColorInterpolation()===COLOR_SPACE_HSL){ANIMDBG.print("AnimationColorNode.createActivity: color space hsl"),t=new HSLAnimationWrapper(n);var a=aInterpolatorHandler.getInterpolator(this.getCalcMode(),COLOR_PROPERTY,COLOR_SPACE_HSL);e=a(this.getColorInterpolationDirection())}else ANIMDBG.print("AnimationColorNode.createActivity: color space rgb"),t=n,e=aInterpolatorHandler.getInterpolator(this.getCalcMode(),COLOR_PROPERTY,COLOR_SPACE_RGB);return createActivity(i,this,t,e)},AnimationColorNode.prototype.getColorInterpolation=function(){return this.eColorInterpolation},AnimationColorNode.prototype.getColorInterpolationDirection=function(){return this.eColorInterpolationDirection},AnimationColorNode.prototype.info=function(t){var e=AnimationColorNode.superclass.info.call(this,t);return t&&(e+=";  color-interpolation: "+aColorSpaceOutMap[this.getColorInterpolation()],e+=";  color-interpolation-direction: "+aClockDirectionOutMap[this.getColorInterpolationDirection()]),e},extend(AnimationTransitionFilterNode,AnimationBaseNode),AnimationTransitionFilterNode.prototype.createActivity=function(){var t=this.fillActivityParams();return createShapeTransition(t,this.getAnimatedElement(),this.aNodeContext.aSlideWidth,this.aNodeContext.aSlideHeight,this)},AnimationTransitionFilterNode.prototype.parseElement=function(){var t=AnimationTransitionFilterNode.superclass.parseElement.call(this),e=!0,i=this.aElement;this.eTransitionType=void 0;var n=i.getAttributeNS(NSS.smil,"type");n&&aTransitionTypeInMap[n]?this.eTransitionType=aTransitionTypeInMap[n]:(e=!1,log("AnimationTransitionFilterNode.parseElement: transition type not valid: "+n)),this.eTransitionSubType=void 0;var a=i.getAttributeNS(NSS.smil,"subtype");null===a&&(a="default"),a&&void 0!==aTransitionSubtypeInMap[a]?this.eTransitionSubType=aTransitionSubtypeInMap[a]:(e=!1,log("AnimationTransitionFilterNode.parseElement: transition subtype not valid: "+a)),e||(this.eTransitionType=FADE_TRANSITION,this.eTransitionSubType=CROSSFADE_TRANS_SUBTYPE,log("AnimationTransitionFilterNode.parseElement: in place of the invalid transition a crossfade transition is used")),this.bReverseDirection=!1;var r=i.getAttributeNS(NSS.smil,"direction");"reverse"==r&&(this.bReverseDirection=!0),this.eTransitionMode=TRANSITION_MODE_IN;var s=i.getAttributeNS(NSS.smil,"mode");return"out"===s&&(this.eTransitionMode=TRANSITION_MODE_OUT),t},AnimationTransitionFilterNode.prototype.getTransitionType=function(){return this.eTransitionType},AnimationTransitionFilterNode.prototype.getTransitionSubType=function(){return this.eTransitionSubType},AnimationTransitionFilterNode.prototype.getTransitionMode=function(){return this.eTransitionMode},AnimationTransitionFilterNode.prototype.getReverseDirection=function(){return this.bReverseDirection},AnimationTransitionFilterNode.prototype.info=function(t){var e=AnimationTransitionFilterNode.superclass.info.call(this,t);return t&&(e+=";  type: "+getKeyByValue(aTransitionTypeInMap,this.getTransitionType()),e+=";  subtype: "+getKeyByValue(aTransitionSubtypeInMap,this.getTransitionSubType()),this.getReverseDirection()&&(e+=";  direction: reverse")),e},ClippingAnimation.prototype.start=function(t){assert(t,"ClippingAnimation.start: animatable element is not valid"),this.aAnimatableElement=t,this.aAnimatableElement.initClipPath(),this.aAnimatableElement.notifyAnimationStart(),this.bAnimationStarted||(this.bAnimationStarted=!0)},ClippingAnimation.prototype.end=function(){this.bAnimationStarted&&(this.aAnimatableElement.cleanClipPath(),this.bAnimationStarted=!1,this.aAnimatableElement.notifyAnimationEnd())},ClippingAnimation.prototype.perform=function(t){var e=this.aAnimatableElement.aClippingBBox.width,i=this.aAnimatableElement.aClippingBBox.height,n=this.aClippingFunctor.perform(t,e,i);this.aAnimatableElement.setClipPath(n)},ClippingAnimation.prototype.getUnderlyingValue=function(){return 0},GenericAnimation.prototype.start=function(t){assert(t,"GenericAnimation.start: animatable element is not valid"),this.aAnimatableElement=t,this.aAnimatableElement.notifyAnimationStart(),this.bAnimationStarted||(this.bAnimationStarted=!0)},GenericAnimation.prototype.end=function(){this.bAnimationStarted&&(this.bAnimationStarted=!1,this.aAnimatableElement.notifyAnimationEnd())},GenericAnimation.prototype.perform=function(t){this.aSetModifier&&(t=this.aSetModifier(t)),this.aSetValueFunc(t)},GenericAnimation.prototype.getUnderlyingValue=function(){var t=this.aGetValueFunc();return this.aGetModifier&&(t=this.aGetModifier(t)),t},HSLAnimationWrapper.prototype.start=function(t){this.aAnimation.start(t)},HSLAnimationWrapper.prototype.end=function(){this.aAnimation.end()},HSLAnimationWrapper.prototype.perform=function(t){this.aAnimation.perform(t.convertToRGB())},HSLAnimationWrapper.prototype.getUnderlyingValue=function(){return this.aAnimation.getUnderlyingValue().convertToHSL()},SlideChangeBase.prototype.start=function(){},SlideChangeBase.prototype.end=function(){this.bIsFinished||(this.aLeavingSlide.hide(),this.aEnteringSlide.reset(),this.aLeavingSlide.reset(),this.bIsFinished=!0)},SlideChangeBase.prototype.perform=function(t){return this.bIsFinished?!1:(this.aLeavingSlide&&this.performOut(t),this.aEnteringSlide&&this.performIn(t),!0)},SlideChangeBase.prototype.getUnderlyingValue=function(){return 0},SlideChangeBase.prototype.performIn=function(){log("SlideChangeBase.performIn: abstract method called")},SlideChangeBase.prototype.performOut=function(){log("SlideChangeBase.performOut: abstract method called")},extend(FadingSlideChange,SlideChangeBase),FadingSlideChange.prototype.start=function(){FadingSlideChange.superclass.start.call(this),this.aEnteringSlide.notifyUsedAttribute("opacity"),this.aLeavingSlide.notifyUsedAttribute("opacity"),this.aEnteringSlide.setOpacity(0),this.aEnteringSlide.show()},FadingSlideChange.prototype.performIn=function(t){this.aEnteringSlide.setOpacity(t)},FadingSlideChange.prototype.performOut=function(t){this.aLeavingSlide.setOpacity(1-t)},extend(FadingOverColorSlideChange,SlideChangeBase),FadingOverColorSlideChange.prototype.start=function(){FadingOverColorSlideChange.superclass.start.call(this),this.aEnteringSlide.notifyUsedAttribute("opacity"),this.aLeavingSlide.notifyUsedAttribute("opacity"),this.aLeavingSlide.insertBefore(this.aColorPlaneElement),this.aEnteringSlide.setOpacity(0),this.aEnteringSlide.show()},FadingOverColorSlideChange.prototype.end=function(){FadingOverColorSlideChange.superclass.end.call(this),this.aLeavingSlide.removeElement(this.aColorPlaneElement)},FadingOverColorSlideChange.prototype.performIn=function(t){this.aEnteringSlide.setOpacity(t>.55?2*(t-.55):0)},FadingOverColorSlideChange.prototype.performOut=function(t){this.aLeavingSlide.setOpacity(t>.45?0:2*(.45-t))},FadingOverColorSlideChange.prototype.createColorPlaneElement=function(){var t=document.createElementNS(NSS.svg,"rect");return t.setAttribute("width",String(this.aLeavingSlide.getWidth())),t.setAttribute("height",String(this.aLeavingSlide.getHeight())),t.setAttribute("fill",this.sFadeColor),t},extend(MovingSlideChange,SlideChangeBase),MovingSlideChange.prototype.start=function(){MovingSlideChange.superclass.start.call(this),this.aEnteringSlide.notifyUsedAttribute("transform"),this.aLeavingSlide.notifyUsedAttribute("transform"),this.performIn(0),this.aEnteringSlide.show()},MovingSlideChange.prototype.performIn=function(t){var e=t-1,i=e*this.aEnteringDirection.x*this.aEnteringSlide.getWidth(),n=e*this.aEnteringDirection.y*this.aEnteringSlide.getHeight();this.aEnteringSlide.translate(i,n)},MovingSlideChange.prototype.performOut=function(t){var e=t*this.aLeavingDirection.x*this.aLeavingSlide.getWidth(),i=t*this.aLeavingDirection.y*this.aLeavingSlide.getHeight();this.aLeavingSlide.translate(e,i)},extend(ClippedSlideChange,SlideChangeBase),ClippedSlideChange.prototype.start=function(){ClippedSlideChange.superclass.start.call(this),this.aEnteringSlide.notifyUsedAttribute("clip-path"),this.performIn(0),this.aEnteringSlide.show()},ClippedSlideChange.prototype.performIn=function(t){var e=this.aEnteringSlide.getWidth(),i=this.aEnteringSlide.getHeight(),n=this.aClippingFunctor.perform(t,e,i);this.aEnteringSlide.setClipPath(n)},ClippedSlideChange.prototype.performOut=function(){},ClippingFunctor.aBoundingPath=document.createElementNS(NSS.svg,"path"),ClippingFunctor.aBoundingPath.setAttribute("d","M -1 -1 L 2 -1 L 2 2 L -1 2 L -1 -1"),ClippingFunctor.prototype.perform=function(t,e,i){var n=this.aParametricPolyPolygon.perform(this.bForwardParameterSweep?t:1-t);this.bSubtractPolygon&&(n.changeOrientation(),n.prependPath(ClippingFunctor.aBoundingPath));var a;if(this.bScaleIsotropically){var r=Math.max(e,i);a=SVGIdentityMatrix.translate(-(r-e)/2,-(r-i)/2),a=a.scale(r),a=a.multiply(this.aStaticTransformation)}else a=SVGIdentityMatrix.scaleNonUniform(e,i),a=a.multiply(this.aStaticTransformation);return n.matrixTransform(a),n},BarWipePath.prototype.perform=function(t){var e=SVGIdentityMatrix.scaleNonUniform(pruneScaleValue(t/this.nBars),1),i=this.aBasePath.cloneNode(!0);if(i.matrixTransform(e),this.nBars>1){var n,a,r;for(n=this.nBars-1;n>0;--n)a=SVGIdentityMatrix.translate(n/this.nBars,0),a=a.multiply(e),r=this.aBasePath.cloneNode(!0),r.matrixTransform(a),i.appendPath(r)}return i},BoxWipePath.prototype.perform=function(t){var e=pruneScaleValue(t),i=SVGIdentityMatrix;i=this.bIsTopCentered?i.translate(-.5,0).scale(e,e).translate(.5,0):i.scale(e,e);var n=this.aBasePath.cloneNode(!0);return n.matrixTransform(i),n},SweepWipePath.prototype.perform=function(t){t/=2,this.bCenter||(t/=2),this.bSingle||this.bOppositeVertical||(t/=2);var e,i=PinWheelWipePath.calcCenteredClock(t+.25,1);this.bCenter&&(e=SVGIdentityMatrix.translate(.5,0),i.matrixTransform(e));var n=i;return this.bSingle||(this.bOppositeVertical?(e=SVGIdentityMatrix.scale(1,-1),e.translate(0,1),i.matrixTransform(e),i.changeOrientation()):(e=SVGIdentityMatrix.translate(-.5,-.5),e.rotate(Math.PI),e.translate(.5,.5),i.matrixTransform(e)),n.appendPath(i)),this.bFlipOnYAxis?flipOnYAxis(n):n},FourBoxWipePath.prototype.perform=function(t){var e,i=pruneScaleValue(t/2);e=this.bCornersOut?SVGIdentityMatrix.translate(-.25,-.25).scale(i).translate(-.5,-.5):SVGIdentityMatrix.translate(-.5,-.5).scale(i);var n=e,a=this.aBasePath.cloneNode(!0);a.matrixTransform(n);var r=a;return e=SVGIdentityMatrix.flipY(),n=e.multiply(n),a=this.aBasePath.cloneNode(!0),a.matrixTransform(n),a.changeOrientation(),r.appendPath(a),e=SVGIdentityMatrix.flipX(),n=e.multiply(n),a=this.aBasePath.cloneNode(!0),a.matrixTransform(n),r.appendPath(a),e=SVGIdentityMatrix.flipY(),n=e.multiply(n),a=this.aBasePath.cloneNode(!0),a.matrixTransform(n),a.changeOrientation(),r.appendPath(a),e=SVGIdentityMatrix.translate(.5,.5),e=e.scale(1.1),r.matrixTransform(e),r},EllipseWipePath.prototype.perform=function(t){var e=SVGIdentityMatrix.translate(.5,.5).scale(t).translate(-.5,-.5),i=this.aBasePath.cloneNode(!0);return i.matrixTransform(e),i},FanWipePath.prototype.perform=function(t){var e=this.aBasePath.cloneNode(!0),i=PinWheelWipePath.calcCenteredClock(t/(this.bCenter&&this.bSingle?2:4),1);e.appendPath(i);var n=SVGIdentityMatrix.flipY();return n=n.scaleNonUniform(-1,1),i.matrixTransform(n),e.appendPath(i),this.bCenter?(n=SVGIdentityMatrix.scaleNonUniform(.5,.5).translate(.5,.5),e.matrixTransform(n),this.bSingle||e.appendPath(flipOnXAxis(e))):(n=SVGIdentityMatrix.scaleNonUniform(.5,1).translate(.5,1),e.matrixTransform(n)),e},ClockWipePath.prototype.perform=function(t){var e=SVGIdentityMatrix.scaleNonUniform(.5,.5).translate(.5,.5),i=PinWheelWipePath.calcCenteredClock(t,1);return i.matrixTransform(e),i},PinWheelWipePath.calcCenteredClock=function(t,e){var i=2,n=SVGIdentityMatrix.rotate(360*t),a=document.documentElement.createSVGPoint();a.y=-i,a=a.matrixTransform(n);var r="M "+a.x+" "+a.y+" ";t>=.875&&(r+="L -"+e+" -"+e+" "),t>=.625&&(r+="L -"+e+" "+e+" "),t>=.375&&(r+="L "+e+" "+e+" "),t>=.125&&(r+="L "+e+" -"+e+" "),r+="L 0 -"+e+" ",r+="L 0 0 ",r+="L "+a.x+" "+a.y;var s=document.createElementNS(NSS.svg,"path");return s.setAttribute("d",r),s},PinWheelWipePath.prototype.perform=function(t){var e,i,n,a=PinWheelWipePath.calcCenteredClock(t/this.nBlades,2),r=a.cloneNode(!0);for(n=this.nBlades-1;n>0;--n)i=SVGIdentityMatrix.rotate(360*n/this.nBlades),e=a.cloneNode(!0),e.matrixTransform(i),r.appendPath(e);var s=SVGIdentityMatrix.translate(.5,.5).scale(.5);return r.matrixTransform(s),r},BarnDoorWipePath.prototype.perform=function(t){this.doubled&&(t/=2);var e=SVGIdentityMatrix.translate(-.5,-.5);e=e.scaleNonUniform(pruneScaleValue(t),1).translate(.5,.5);var i=this.aBasePath.cloneNode(!0);i.matrixTransform(e);var n=i;return this.doubled&&(e=SVGIdentityMatrix.translate(-.5,-.5),e=e.rotate(Math.PI/2).translate(.5,.5),i.matrixTransform(e),n.appendPath(i)),n},WaterfallWipePath.prototype.perform=function(t){var e=this.aBasePath.cloneNode(!0),i=SVGIdentityMatrix.translate(0,pruneScaleValue(2*t));e.matrixTransform(i);var n="M 0 -1 ",a=document.createElementNS(NSS.svg,"path");a.setAttribute("d",n);var r="M 1 -1 ",s=document.createElementNS(NSS.svg,"path");return s.setAttribute("d",r),e.prependPath(a),e.appendPath(s),this.bFlipOnYAxis?flipOnYAxis(e):e},DoubleDiamondWipePath.prototype.perform=function(t){var e=pruneScaleValue(.25+.75*t),i="M "+(.5+e)+" 0.5 ";i+="L 0.5 "+(.5-e)+" ",i+="L "+(.5-e)+" 0.5 ",i+="L 0.5 "+(.5+e)+" ",i+="L "+(.5+e)+" 0.5 ";var n=document.createElementNS(NSS.svg,"path");n.setAttribute("d",i);var a=n.cloneNode(!0),r=pruneScaleValue(.25*(1-t));return i="M "+(.5+r)+" 0.5 ",i+="L 0.5 "+(.5+r)+" ",i+="L "+(.5-r)+" 0.5 ",i+="L 0.5 "+(.5-r)+" ",i+="L "+(.5+r)+" 0.5 ",n=document.createElementNS(NSS.svg,"path"),n.setAttribute("d",i),a.appendPath(n),a},IrisWipePath.prototype.perform=function(t){var e=pruneScaleValue(t),i=SVGIdentityMatrix.translate(-.5,-.5);i=i.multiply(SVGIdentityMatrix.scaleNonUniform(e,e).translate(.5,.5));var n=this.aBasePath.cloneNode(!0);return n.matrixTransform(i),n},ZigZagWipePath.prototype.perform=function(t){var e=document.createElementNS(NSS.svg,"path");return e.setAttribute("d",this.aBasePath),e.matrixTransform(SVGIdentityMatrix.translate((1+this.zigEdge)*t,0)),e},BarnZigZagWipePath.prototype=Object.create(ZigZagWipePath),BarnZigZagWipePath.prototype.perform=function(t){var e=createEmptyPath(),i=document.createElementNS(NSS.svg,"path"),n=SVGIdentityMatrix.translate((1+this.zigEdge)*(1-t)/2,0);return i.setAttribute("d",this.aBasePath),i.changeOrientation(),i.matrixTransform(n),e.appendPath(i),n=SVGIdentityMatrix.scale(-1,1),n.translate(1,this.zigEdge/2),i=document.createElementNS(NSS.svg,"path"),i.setAttribute("d",this.aBasePath),i.matrixTransform(n),e.appendPath(i),e},CheckerBoardWipePath.prototype.perform=function(t){var e,i,n,a,r=pruneScaleValue(1/this.unitsPerEdge),s=SVGIdentityMatrix.scaleNonUniform(pruneScaleValue(2*r*t),pruneScaleValue(r)),o=null;for(e=this.unitsPerEdge;e--;){for(n=SVGIdentityMatrix,e%2==1&&(n=n.translate(-r,0)),n=n.multiply(s),i=this.unitsPerEdge/2+1;i--;)a=this.aBasePath.cloneNode(!0),a.matrixTransform(n),null==o?o=a:o.appendPath(a),n=SVGIdentityMatrix.translate(2*r,0).multiply(n);s=SVGIdentityMatrix.translate(0,r).multiply(s)}return o},RandomWipePath.prototype.perform=function(t){var e,i,n,a=createEmptyPath(),r=Math.round(t*this.nElements);if(0===r)return a;this.nAlreadyAppendedElements>=r&&(this.nAlreadyAppendedElements=0,this.aClipPath=createEmptyPath());var s;for(s=this.nAlreadyAppendedElements;r>s;++s)e=this.aPositionArray[s],i=this.aBasePath.cloneNode(!0),n=SVGIdentityMatrix.translate(e.x,e.y),i.matrixTransform(n),a.appendPath(i);return this.nAlreadyAppendedElements=r,this.aClipPath.appendPath(a),this.aClipPath.cloneNode(!0)},SnakeWipePath.prototype.calcSnake=function(t){var e=createEmptyPath(),i=t*this.sqrtElements*this.sqrtElements,n=Math.floor(i)/this.sqrtElements,a=pruneScaleValue(n/this.sqrtElements),r=pruneScaleValue((i-n*this.sqrtElements)/this.sqrtElements);if(0!=a){var s="M 0 0 ";s+="L 0 "+a+" ",s+="L 1 "+a+" ",s+="L 1 0 ",s+="L 0 0 ";var o=document.createElementNS(NSS.svg,"path");o.setAttribute("d",s),e.appendPath(o)}if(0!=r){var l=0;1==(1&n)&&(l=1-r);var E="M "+l+" "+a+" ";E+="L "+l+" "+(a+this.elementEdge)+" ",E+="L "+(l+r)+" "+(a+this.elementEdge)+" ",E+="L "+(l+r)+" "+a+" ",E+="L "+l+" "+a+" ";var h=document.createElementNS(NSS.svg,"path");h.setAttribute("d",E),e.appendPath(h)}return e},SnakeWipePath.prototype.calcHalfDiagonalSnake=function(t,e){var i=createEmptyPath();if(e){var n,a=Math.sqrt(t*this.sqrtElements*this.sqrtElements),r=pruneScaleValue(a/this.sqrtElements),s=document.documentElement.createSVGPoint();if(r){n="M "+s.x+" "+s.y+" ",s.y=r,n+="L "+s.x+" "+s.y+" ",s.x=r,s.y=0,n+="L "+s.x+" "+s.y+" ",s.x=0,n+="L "+s.x+" "+s.y+" ";var o=document.createElementNS(NSS.svg,"path");o.setAttribute("d",n),i.appendPath(o)}var l=Math.SQRT1_2/this.sqrtElements,E=a-Math.floor(a),h=t*Math.SQRT1_2*E,u=pruneScaleValue(Math.SQRT1_2/this.sqrtElements);n="M "+s.x+" "+s.y+" ",s.y=u,n+="L "+s.x+" "+s.y+" ",s.x=h+l,n+="L "+s.x+" "+s.y+" ",s.y=0,n+="L "+s.x+" "+s.y+" ",s.x=0,n+="L "+s.x+" "+s.y+" ";var c=document.createElementNS(NSS.svg,"path");c.setAttribute("d",n);var d=void 0;1==(1&Math.floor(a))?(d=SVGIdentityMatrix.rotate(Math.PI/2+Math.PI/4),d.translate(r+this.elementEdge,0)):(d=SVGIdentityMatrix.translate(-l,0),d.rotate(-(Math.PI/4)),d.translate(0,r)),c.matrixTransform(d),i.appendPath(c)}else{var T=Math.sqrt(t*this.sqrtElements*this.sqrtElements),S=pruneScaleValue(Math.floor(T)/this.sqrtElements),p=void 0,A=document.documentElement.createSVGPoint();if(0!=S){A.y=1,p="M "+A.x+" "+A.y+" ",A.x=S,p+="L "+A.x+" "+A.y+" ",A.x=1,A.y=S,p+="L "+A.x+" "+A.y+" ",A.y=0,p+="L "+A.x+" "+A.y+" ",A.x=0,p+="L "+A.x+" "+A.y+" ";var I=document.createElementNS(NSS.svg,"path");I.setAttribute("d",p),i.appendPath(I)}var N=Math.SQRT1_2/this.sqrtElements,m=T-Math.floor(T),f=(1-t)*Math.SQRT2*m,O=pruneScaleValue(Math.SQRT1_2/this.sqrtElements);p="M "+A.x+" "+A.y+" ",A.y=O,p+="L "+A.x+" "+A.y+" ",A.x=f+N,p+="L "+A.x+" "+A.y+" ",A.y=0,p+="L "+A.x+" "+A.y+" ",A.x=0,p+="L "+A.x+" "+A.y+" ";var v=document.createElementNS(NSS.svg,"path");v.setAttribute("d",p);var R=void 0;1==(1&Math.floor(T))?(R=SVGIdentityMatrix.translate(0,-O),R.rotate(Math.PI/2+Math.PI/4),R.translate(1,S)):(R=SVGIdentityMatrix.rotate(-(Math.PI/4)),R=R.translate(S,1)),v.matrixTransform(R),i.appendPath(v)}return i},SnakeWipePath.prototype.perform=function(t){var e=createEmptyPath();return this.diagonal?t>=.5?(e.appendPath(this.calcHalfDiagonalSnake(1,!0)),e.appendPath(this.calcHalfDiagonalSnake(2*(t-.5),!1))):e.appendPath(this.calcHalfDiagonalSnake(2*t,!0)):e=this.calcSnake(t),this.flipOnYAxis?flipOnYAxis(e):e},ParallelSnakesWipePath.prototype=Object.create(SnakeWipePath),ParallelSnakesWipePath.prototype.perform=function(t){var e,i,n=createEmptyPath();return this.diagonal?(assert(this.bOpposite),e=SnakeWipePath.prototype.calcHalfDiagonalSnake.call(this,t,!1),i=SVGIdentityMatrix.scale(1,-1),i.translate(-.5,.5),i.rotate(Math.PI/2),i.translate(.5,.5),e.matrixTransform(i),e.changeOrientation(),n.appendPath(e),i=SVGIdentityMatrix.translate(-.5,-.5),i.rotate(Math.PI),i.translate(.5,.5),e.matrixTransform(i),n.appendPath(e)):(e=SnakeWipePath.prototype.calcSnake.call(this,t/2),i=SVGIdentityMatrix.translate(-.5,-.5),i=i.rotate(Math.PI/2),i=i.translate(.5,.5),e.matrixTransform(i),n.appendPath(flipOnYAxis(e)),n.appendPath(this.bOpposite?flipOnXAxis(e):e)),this.flipOnYAxis?flipOnYAxis(n):n},SpiralWipePath.prototype.calcNegSpiral=function(t){var e=t*this.nElements,i=Math.sqrt(e)/2,n=2*Math.floor(i),a=SVGIdentityMatrix.translate(-.5,-.5),r=pruneScaleValue(n/this.sqrtElements);a=a.scale(r,r),a=a.translate(.5,.5);var s=createUnitSquarePath();s.matrixTransform(a);var o=s.cloneNode(!0);if(1-t!=0)for(var l=n+1,E=Math.floor((i-n/2)*l*4),h=Math.PI/2;E>0;){var u=Math.min(E,l);E-=u,s=createUnitSquarePath(),a=SVGIdentityMatrix.scale(pruneScaleValue(u/this.sqrtElements),pruneScaleValue(1/this.sqrtElements)),a=a.translate(-pruneScaleValue(n/2/this.sqrtElements),pruneScaleValue(n/2/this.sqrtElements)),a=a.rotate(h),h-=Math.PI/2,a=a.translate(.5,.5),s.matrixTransform(a),o.appendPath(s)}return o},SpiralWipePath.prototype.perform=function(t){var e=createUnitSquarePath(),i=this.calcNegSpiral(1-t);return i.changeOrientation(),e.appendPath(i),this.bFlipOnYAxis?flipOnYAxis(e):e},BoxSnakesWipePath.prototype=Object.create(SpiralWipePath),BoxSnakesWipePath.prototype.perform=function(t){var e,i=createUnitSquarePath(),n=SpiralWipePath.prototype.calcNegSpiral.call(this,1-t);return n.changeOrientation(),this.bFourBox?(e=SVGIdentityMatrix.scale(.5,.5),n.matrixTransform(e),i.appendPath(n),i.appendPath(flipOnXAxis(n)),n=flipOnYAxis(n),i.appendPath(n),i.appendPath(flipOnXAxis(n))):(e=SVGIdentityMatrix.scale(1,.5),n.matrixTransform(e),i.appendPath(n),i.appendPath(flipOnXAxis(n))),this.bFlipOnYAxis?flipOnYAxis(i):i},VeeWipePath.prototype.perform=function(t){var e=pruneScaleValue(2*t),i="M 0 -1 ";i+="L 0 "+(e-1)+" ",i+="L 0.5 "+e+" ",i+="L 1 "+(e-1)+" ",i+="L 1 -1 ",i+="L 0 -1 ";var n=document.createElementNS(NSS.svg,"path");return n.setAttribute("d",i),n},AnimatedSlide.prototype.show=function(){this.aMetaSlide.show()},AnimatedSlide.prototype.hide=function(){this.aMetaSlide.hide()},AnimatedSlide.prototype.notifyUsedAttribute=function(t){"clip-path"==t?(this.initClipPath(),this.bIsClipped=!0):this.aUsedAttributeSet.push(t)},AnimatedSlide.prototype.reset=function(){this.bIsClipped&&(this.cleanClipPath(),this.bIsClipped=!1);var t;for(t=0;t<this.aUsedAttributeSet.length;++t){var e=this.aUsedAttributeSet[t];this.aSlideElement.removeAttribute(e)}this.aUsedAttributeSet=[]},AnimatedSlide.prototype.initClipPath=function(){this.aClipPathElement=document.createElementNS(NSS.svg,"clipPath");var t="clip-path-"+this.sSlideId;this.aClipPathElement.setAttribute("id",t),this.aClipPathElement.setAttribute("clipPathUnits","userSpaceOnUse"),this.aClipPathContent=document.createElementNS(NSS.svg,"path");var e="M 0 0 h "+WIDTH+" v "+HEIGHT+" h -"+WIDTH+" z";this.aClipPathContent.setAttribute("d",e),this.aClipPathElement.appendChild(this.aClipPathContent);var i=theMetaDoc.aClipPathGroup;i.appendChild(this.aClipPathElement);var n="url(#"+t+")";this.aSlideElement.parentNode.setAttribute("clip-path",n)},AnimatedSlide.prototype.cleanClipPath=function(){if(this.aSlideElement.parentNode.removeAttribute("clip-path"),this.aClipPathElement){var t=theMetaDoc.aClipPathGroup;t.removeChild(this.aClipPathElement),this.aClipPathElement=null,this.aClipPathContent=null}},AnimatedSlide.prototype.insertBefore=function(t){t&&this.aSlideElement.parentNode.insertBefore(t,this.aSlideElement)},AnimatedSlide.prototype.appendElement=function(t){t&&this.aSlideElement.parentNode.appendChild(t)},AnimatedSlide.prototype.removeElement=function(t){t&&this.aSlideElement.parentNode.removeChild(t)},AnimatedSlide.prototype.getWidth=function(){return WIDTH},AnimatedSlide.prototype.getHeight=function(){return HEIGHT},AnimatedSlide.prototype.setOpacity=function(t){this.aSlideElement.setAttribute("opacity",t)},AnimatedSlide.prototype.translate=function(t,e){var i="translate("+t+","+e+")";this.aSlideElement.setAttribute("transform",i)},AnimatedSlide.prototype.setClipPath=function(t){if(this.aClipPathContent){var e=t.getAttribute("d");this.aClipPathContent.setAttribute("d",e)}},AnimatedElement.prototype.initElement=function(){this.nCenterX=this.nBaseCenterX,this.nCenterY=this.nBaseCenterY,this.nScaleFactorX=1,this.nScaleFactorY=1,this.nRotationAngle=0,this.aActiveElement.setAttribute("transform",makeMatrixString(1,0,0,1,0,0))},AnimatedElement.prototype.initClipPath=function(){this.aClipPathElement=document.createElementNS(NSS.svg,"clipPath");var t="clip-path-"+this.sElementId;this.aClipPathElement.setAttribute("id",t),this.aClipPathElement.setAttribute("clipPathUnits","userSpaceOnUse"),this.aClipPathContent=document.createElementNS(NSS.svg,"path"),this.aClippingBBox=this.getBBoxWithStroke();var e=this.aClippingBBox.width,i=this.aClippingBBox.height,n="M "+this.aClippingBBox.x+" "+this.aClippingBBox.y+" h "+e+" v "+i+" h -"+e+" z";this.aClipPathContent.setAttribute("d",n),this.aClipPathElement.appendChild(this.aClipPathContent);var a=theMetaDoc.aClipPathGroup;a.appendChild(this.aClipPathElement);var r="url(#"+t+")";this.aActiveElement.setAttribute("clip-path",r)},AnimatedElement.prototype.cleanClipPath=function(){if(this.aActiveElement.removeAttribute("clip-path"),this.aClipPathElement){var t=theMetaDoc.aClipPathGroup;t.removeChild(this.aClipPathElement),this.aClipPathElement=null,this.aClipPathContent=null}},AnimatedElement.prototype.getId=function(){return this.aActiveElement.getAttribute("id")},AnimatedElement.prototype.getAdditiveMode=function(){return this.eAdditiveMode},AnimatedElement.prototype.setAdditiveMode=function(t){this.eAdditiveMode=t},AnimatedElement.prototype.setToElement=function(t){if(!t)return log("AnimatedElement("+this.getId()+").setToElement: element is not valid"),!1;var e=t.cloneNode(!0);return this.aPreviousElement=this.aActiveElement.parentNode.replaceChild(e,this.aActiveElement),this.aActiveElement=e,!0},AnimatedElement.prototype.notifySlideStart=function(t){t||log("AnimatedElement.notifySlideStart: slideshow context is not valid"),this.aSlideShowContext=t;var e=this.aBaseElement.cloneNode(!0);this.aActiveElement.parentNode.replaceChild(e,this.aActiveElement),this.aActiveElement=e,this.initElement(),this.DBG(".notifySlideStart invoked")},AnimatedElement.prototype.notifySlideEnd=function(){},AnimatedElement.prototype.notifyAnimationStart=function(){},AnimatedElement.prototype.notifyAnimationEnd=function(){},AnimatedElement.prototype.notifyNextEffectStart=function(){},AnimatedElement.prototype.saveState=function(t){ANIMDBG.print("AnimatedElement("+this.getId()+").saveState("+t+")"),this.aStateSet[t]||(this.aStateSet[t]={});var e=this.aStateSet[t];e.aElement=this.aActiveElement.cloneNode(!0),e.nCenterX=this.nCenterX,e.nCenterY=this.nCenterY,e.nScaleFactorX=this.nScaleFactorX,e.nScaleFactorY=this.nScaleFactorY,e.nRotationAngle=this.nRotationAngle},AnimatedElement.prototype.restoreState=function(t){if(!this.aStateSet[t])return log("AnimatedElement("+this.getId()+").restoreState: state "+t+" is not valid"),!1;ANIMDBG.print("AnimatedElement("+this.getId()+").restoreState("+t+")");var e=this.aStateSet[t],i=this.setToElement(e.aElement);return i&&(this.nCenterX=e.nCenterX,this.nCenterY=e.nCenterY,this.nScaleFactorX=e.nScaleFactorX,this.nScaleFactorY=e.nScaleFactorY,this.nRotationAngle=e.nRotationAngle),i},AnimatedElement.prototype.getBaseBBox=function(){return this.aBaseBBox},AnimatedElement.prototype.getBaseCenterX=function(){return this.nBaseCenterX},AnimatedElement.prototype.getBaseCenterY=function(){return this.nBaseCenterY},AnimatedElement.prototype.getBBox=function(){return this.aActiveElement.parentNode.getBBox()},AnimatedElement.prototype.getBBoxWithStroke=function(){var t,e,i,n=this.aActiveElement.parentNode.getBBox(),a=this.aActiveElement.childNodes,r=0;for(i=0;i<a.length;++i)if(a[i].getAttribute&&(t=a[i].getAttribute("stroke"),t&&"none"!=t)){e=a[i].getAttribute("stroke-width");var s=parseFloat(e);s>r&&(r=s)}if(0==r&&(e=ROOT_NODE.getAttribute("stroke-width"),r=parseFloat(e)),0!=r){r*=1.1;var o=r/2,l=2*r,E=document.documentElement.createSVGRect();E.x=n.x-o,E.y=n.y-o,E.width=n.width+l,E.height=n.height+l,n=E}return n},AnimatedElement.prototype.setClipPath=function(t){if(this.aClipPathContent){var e=SVGIdentityMatrix.translate(this.aClippingBBox.x,this.aClippingBBox.y);t.matrixTransform(e);var i=t.getAttribute("d");this.aClipPathContent.setAttribute("d",i)}},AnimatedElement.prototype.getX=function(){return this.nCenterX},AnimatedElement.prototype.getY=function(){return this.nCenterY},AnimatedElement.prototype.getWidth=function(){return this.nScaleFactorX*this.getBaseBBox().width},AnimatedElement.prototype.getHeight=function(){return this.nScaleFactorY*this.getBaseBBox().height},AnimatedElement.prototype.updateTransformAttribute=function(){this.aTransformAttrList=this.aActiveElement.transform.baseVal,this.aTransformAttr=this.aTransformAttrList.getItem(0),this.aTransformAttr.setMatrix(this.aTMatrix)},AnimatedElement.prototype.setX=function(t){t!==this.nCenterX&&(this.aTransformAttrList=this.aActiveElement.transform.baseVal,this.aTransformAttr=this.aTransformAttrList.getItem(0),this.aTMatrix=this.aTransformAttr.matrix.translate(t-this.nCenterX,0),this.aTransformAttr.setMatrix(this.aTMatrix),this.nCenterX=t)},AnimatedElement.prototype.setY=function(t){t!==this.nCenterY&&(this.aTransformAttrList=this.aActiveElement.transform.baseVal,this.aTransformAttr=this.aTransformAttrList.getItem(0),this.aTMatrix=this.aTransformAttr.matrix.translate(0,t-this.nCenterY),this.aTransformAttr.setMatrix(this.aTMatrix),this.nCenterY=t)},AnimatedElement.prototype.setWidth=function(t){ANIMDBG.print("AnimatedElement.setWidth: nNewWidth = "+t),0>t&&(log("AnimatedElement("+this.getId()+").setWidth: negative height!"),t=0);var e=this.getBaseBBox().width,i=t/e;1e-5>i&&(i=1e-5),i!=this.nScaleFactorX&&(this.aTMatrix=document.documentElement.createSVGMatrix().translate(this.nCenterX,this.nCenterY).rotate(this.nRotationAngle).scaleNonUniform(i,this.nScaleFactorY).translate(-this.nBaseCenterX,-this.nBaseCenterY),this.updateTransformAttribute(),this.nScaleFactorX=i)},AnimatedElement.prototype.setHeight=function(t){ANIMDBG.print("AnimatedElement.setWidth: nNewHeight = "+t),0>t&&(log("AnimatedElement("+this.getId()+").setWidth: negative height!"),t=0);var e=this.getBaseBBox().height,i=t/e;1e-5>i&&(i=1e-5),i!=this.nScaleFactorY&&(this.aTMatrix=document.documentElement.createSVGMatrix().translate(this.nCenterX,this.nCenterY).rotate(this.nRotationAngle).scaleNonUniform(this.nScaleFactorX,i).translate(-this.nBaseCenterX,-this.nBaseCenterY),this.updateTransformAttribute(),this.nScaleFactorY=i)},AnimatedElement.prototype.getOpacity=function(){return this.aActiveElement.getAttribute("opacity")},AnimatedElement.prototype.setOpacity=function(t){this.aActiveElement.setAttribute("opacity",t)},AnimatedElement.prototype.getRotationAngle=function(){return this.nRotationAngle},AnimatedElement.prototype.setRotationAngle=function(t){this.aTMatrix=document.documentElement.createSVGMatrix().translate(this.nCenterX,this.nCenterY).rotate(t).scaleNonUniform(this.nScaleFactorX,this.nScaleFactorY).translate(-this.nBaseCenterX,-this.nBaseCenterY),this.updateTransformAttribute(),this.nRotationAngle=t},AnimatedElement.prototype.getVisibility=function(){var t=this.aActiveElement.getAttribute("visibility");return t&&"inherit"!==t?t:"visible"},AnimatedElement.prototype.setVisibility=function(t){"visible"==t&&(t="inherit"),this.aActiveElement.setAttribute("visibility",t)},AnimatedElement.prototype.getStrokeStyle=function(){return"solid"},AnimatedElement.prototype.setStrokeStyle=function(t){ANIMDBG.print("AnimatedElement.setStrokeStyle("+t+")");
},AnimatedElement.prototype.getFillStyle=function(){return"solid"},AnimatedElement.prototype.setFillStyle=function(t){ANIMDBG.print("AnimatedElement.setFillStyle("+t+")")},AnimatedElement.prototype.getFillColor=function(){for(var t=getElementChildren(this.aActiveElement),e="",i=0;i<t.length&&(e=t[i].getAttribute("fill"),!e||"none"===e);++i);return colorParser(e)},AnimatedElement.prototype.setFillColor=function(t){assert(t instanceof RGBColor,"AnimatedElement.setFillColor: value argument is not an instance of RGBColor");for(var e=t.toString(!0),i=getElementChildren(this.aActiveElement),n="",a=0;a<i.length;++a)n=i[a].getAttribute("fill"),n&&"none"!==n&&i[a].setAttribute("fill",e)},AnimatedElement.prototype.getStrokeColor=function(){for(var t=getElementChildren(this.aActiveElement),e="",i=0;i<t.length&&(e=t[i].getAttribute("stroke"),!e||"none"===e);++i);return colorParser(e)},AnimatedElement.prototype.setStrokeColor=function(t){assert(t instanceof RGBColor,"AnimatedElement.setFillColor: value argument is not an instance of RGBColor");for(var e=t.toString(!0),i=getElementChildren(this.aActiveElement),n="",a=0;a<i.length;++a)n=i[a].getAttribute("stroke"),n&&"none"!==n&&i[a].setAttribute("stroke",e)},AnimatedElement.prototype.getFontColor=function(){return new RGBColor(0,0,0)},AnimatedElement.prototype.setFontColor=function(t){ANIMDBG.print("AnimatedElement.setFontColor("+t+")")},AnimatedElement.prototype.DBG=function(t,e){aAnimatedElementDebugPrinter.print("AnimatedElement("+this.getId()+")"+t,e)},extend(AnimatedTextElement,AnimatedElement),AnimatedTextElement.prototype.setToElement=function(t){var e=AnimatedTextElement.superclass.setToElement.call(this,t);return e&&(this.aGraphicGroupElement=getElementByClassName(this.aActiveElement,"GraphicGroup")),e&&this.aGraphicGroupElement},AnimatedTextElement.prototype.notifySlideStart=function(t){DBGLOG("AnimatedTextElement.notifySlideStart"),AnimatedTextElement.superclass.notifySlideStart.call(this,t),this.aGraphicGroupElement=getElementByClassName(this.aActiveElement,"GraphicGroup"),this.restoreBaseTextParagraph()},AnimatedTextElement.prototype.notifySlideEnd=function(){DBGLOG("AnimatedTextElement.notifySlideEnd"),this.aGraphicGroupElement.setAttribute("visibility","inherit")},AnimatedTextElement.prototype.restoreBaseTextParagraph=function(){var t=this.aActiveElement.firstElementChild.firstElementChild;if(t){var e=this.aActiveElement.getAttribute("visibility");e&&"visible"!==e||(e="inherit"),"inherit"===e?this.aGraphicGroupElement.setAttribute("visibility","visible"):this.aGraphicGroupElement.setAttribute("visibility","hidden");var i=t.cloneNode(!0);i.setAttribute("id",this.sParagraphId),i.setAttribute("visibility",e),this.aParentTextElement.replaceChild(i,this.aParagraphElement),this.aParagraphElement=i;for(var n=this.aSlideShowContext.aEventMultiplexer,a=this.aHyperlinkIdSet,r=getElementsByClassName(this.aParagraphElement,"UrlField"),s=0;s<a.length;++s)n.notifyElementChangedEvent(a[s],r[s])}this.aActiveElement.setAttribute("visibility","hidden")},AnimatedTextElement.prototype.notifyAnimationStart=function(){if(DBGLOG("AnimatedTextElement.notifyAnimationStart"),0===this.nRunningAnimations){var t=this.aParagraphElement.getAttribute("visibility");t||(t="inherit"),this.aActiveElement.setAttribute("visibility",t),this.aGraphicGroupElement.setAttribute("visibility","inherit"),this.aParagraphElement.setAttribute("visibility","hidden")}++this.nRunningAnimations},AnimatedTextElement.prototype.notifyAnimationEnd=function(){DBGLOG("AnimatedTextElement.notifyAnimationEnd"),--this.nRunningAnimations,0===this.nRunningAnimations&&this.restoreBaseTextParagraph()},AnimatedTextElement.prototype.saveState=function(t){if(0===this.nRunningAnimations){var e=this.aParagraphElement.getAttribute("visibility");this.aActiveElement.setAttribute("visibility",e),this.aGraphicGroupElement.setAttribute("visibility","inherit")}AnimatedTextElement.superclass.saveState.call(this,t)},AnimatedTextElement.prototype.restoreState=function(t){var e=AnimatedTextElement.superclass.restoreState.call(this,t);return e&&this.restoreBaseTextParagraph(),e},SlideTransition.prototype.createSlideTransition=function(t,e){if(!this.isValid())return null;if(0==this.eTransitionType)return null;if(!e)return log("SlideTransition.createSlideTransition: invalid entering slide."),null;var i=aTransitionInfoTable[this.eTransitionType][this.eTransitionSubType],n=i["class"];switch(n){default:case TRANSITION_INVALID:return log("SlideTransition.createSlideTransition: transition class: TRANSITION_INVALID"),null;case TRANSITION_CLIP_POLYPOLYGON:var a=createClipPolyPolygon(this.eTransitionType,this.eTransitionSubType);return new ClippedSlideChange(t,e,a,i,this.isDirectionForward());case TRANSITION_SPECIAL:switch(this.eTransitionType){default:return log("SlideTransition.createSlideTransition: transition class: TRANSITION_SPECIAL, unknown transition type: "+this.eTransitionType),null;case PUSHWIPE_TRANSITION:var r=!1,s=null;switch(this.eTransitionSubType){default:return log("SlideTransition.createSlideTransition: transition type: PUSHWIPE_TRANSITION, unknown transition subtype: "+this.eTransitionSubType),null;case FROMTOP_TRANS_SUBTYPE:s={x:0,y:1};break;case FROMBOTTOM_TRANS_SUBTYPE:s={x:0,y:-1};break;case FROMLEFT_TRANS_SUBTYPE:s={x:1,y:0};break;case FROMRIGHT_TRANS_SUBTYPE:s={x:-1,y:0}}return r?null:new MovingSlideChange(t,e,s,s);case SLIDEWIPE_TRANSITION:var o=null;switch(this.eTransitionSubType){default:return log("SlideTransition.createSlideTransition: transition type: SLIDEWIPE_TRANSITION, unknown transition subtype: "+this.eTransitionSubType),null;case FROMTOP_TRANS_SUBTYPE:o={x:0,y:1};break;case FROMBOTTOM_TRANS_SUBTYPE:o={x:0,y:-1};break;case FROMLEFT_TRANS_SUBTYPE:o={x:1,y:0};break;case FROMRIGHT_TRANS_SUBTYPE:o={x:-1,y:0}}var l={x:0,y:0};return this.bReverseDirection?new MovingSlideChange(t,e,o,l):new MovingSlideChange(t,e,l,o);case FADE_TRANSITION:switch(this.eTransitionSubType){default:return log("SlideTransition.createSlideTransition: transition type: FADE_TRANSITION, unknown transition subtype: "+this.eTransitionSubType),null;case CROSSFADE_TRANS_SUBTYPE:return new FadingSlideChange(t,e);case FADEOVERCOLOR_TRANS_SUBTYPE:return new FadingOverColorSlideChange(t,e,this.getFadeColor())}}}},SlideTransition.prototype.parseElement=function(){this.bIsValid=!0;var t=this.aElement;this.eTransitionType=void 0;var e=t.getAttributeNS(NSS.smil,"type");e&&aTransitionTypeInMap[e]?this.eTransitionType=aTransitionTypeInMap[e]:(this.bIsValid=!1,log("SlideTransition.parseElement: transition type not valid: "+e)),this.eTransitionSubType=void 0;var i=t.getAttributeNS(NSS.smil,"subtype");null===i&&(i="default"),i&&void 0!==aTransitionSubtypeInMap[i]?this.eTransitionSubType=aTransitionSubtypeInMap[i]:(this.bIsValid=!1,log("SlideTransition.parseElement: transition subtype not valid: "+i)),this.bIsValid&&void 0===aTransitionInfoTable[this.eTransitionType][this.eTransitionSubType]&&(this.bIsValid=!1,log("SlideTransition.parseElement: transition not valid: type: "+e+" subtype: "+i)),this.bReverseDirection=!1;var n=t.getAttributeNS(NSS.smil,"direction");if("reverse"==n&&(this.bReverseDirection=!0),this.sFadeColor=null,this.eTransitionType==FADE_TRANSITION&&(this.eTransitionSubType==FADEFROMCOLOR_TRANS_SUBTYPE||this.eTransitionSubType==FADEOVERCOLOR_TRANS_SUBTYPE||this.eTransitionSubType==FADETOCOLOR_TRANS_SUBTYPE)){var a=t.getAttributeNS(NSS.smil,"fadeColor");a?this.sFadeColor=a:this.sFadeColor="#000000"}this.aDuration=null;var r=t.getAttributeNS(NSS.smil,"dur");this.aDuration=new Duration(r),this.aDuration.isSet()||(this.aDuration=new Duration(null)),this.nMinFrameCount=this.getDuration().isValue()?this.getDuration().getValue()*MINIMUM_FRAMES_PER_SECONDS:MINIMUM_FRAMES_PER_SECONDS,this.nMinFrameCount<1?this.nMinFrameCount=1:this.nMinFrameCount>MINIMUM_FRAMES_PER_SECONDS&&(this.nMinFrameCount=MINIMUM_FRAMES_PER_SECONDS)},SlideTransition.prototype.isValid=function(){return this.bIsValid},SlideTransition.prototype.getTransitionType=function(){return this.eTransitionType},SlideTransition.prototype.getTransitionSubType=function(){return this.eTransitionSubType},SlideTransition.prototype.getTransitionMode=function(){return this.eTransitionMode},SlideTransition.prototype.getFadeColor=function(){return this.sFadeColor},SlideTransition.prototype.isDirectionForward=function(){return!this.bReverseDirection},SlideTransition.prototype.getDuration=function(){return this.aDuration},SlideTransition.prototype.getMinFrameCount=function(){return this.nMinFrameCount},SlideTransition.prototype.info=function(){var t="slide transition <"+this.sSlideId+">: ";return t+=";  type: "+getKeyByValue(aTransitionTypeInMap,this.getTransitionType()),t+=";  subtype: "+getKeyByValue(aTransitionSubtypeInMap,this.getTransitionSubType()),this.isDirectionForward()||(t+=";  direction: reverse"),t+="; mode: "+aTransitionModeOutMap[this.getTransitionMode()],this.getDuration()&&(t+="; duration: "+this.getDuration().info()),t},SlideAnimations.prototype.importAnimations=function(t){return t?(this.aRootNode=createAnimationTree(t,this.aContext),this.aRootNode?!0:!1):!1},SlideAnimations.prototype.parseElements=function(){return this.aRootNode&&this.aRootNode.parseElement()?void(this.bElementsParsed=!0):!1},SlideAnimations.prototype.elementsParsed=function(){return this.bElementsParsed},SlideAnimations.prototype.isFirstRun=function(){return this.aContext.bFirstRun},SlideAnimations.prototype.isAnimated=function(){return this.bElementsParsed?this.aRootNode.hasPendingAnimation():!1},SlideAnimations.prototype.start=function(){return this.bElementsParsed?(this.chargeSourceEvents(),this.chargeInterAnimEvents(),aSlideShow.setSlideEvents(this.aNextEffectEventArray,this.aInteractiveAnimationSequenceMap,this.aEventMultiplexer),void 0==this.aContext.bFirstRun?this.aContext.bFirstRun=!0:this.aContext.bFirstRun&&(this.aContext.bFirstRun=!1),this.aRootNode.init()?this.aRootNode.resolve():!1):!1},SlideAnimations.prototype.end=function(t){this.bElementsParsed&&(this.aRootNode.deactivate(),this.aRootNode.end(),t&&this.isFirstRun()?this.aContext.bFirstRun=void 0:this.isFirstRun()&&(this.aContext.bFirstRun=!1))},SlideAnimations.prototype.dispose=function(){this.aRootNode&&this.aRootNode.dispose()},SlideAnimations.prototype.clearNextEffectEvents=function(){ANIMDBG.print("SlideAnimations.clearNextEffectEvents: current slide: "+nCurSlide),this.aNextEffectEventArray.clear(),this.aContext.bFirstRun=void 0},SlideAnimations.prototype.chargeSourceEvents=function(){for(var t in this.aSourceEventElementMap)this.aSourceEventElementMap[t].charge()},SlideAnimations.prototype.chargeInterAnimEvents=function(){for(var t in this.aInteractiveAnimationSequenceMap)this.aInteractiveAnimationSequenceMap[t].chargeEvents()},Event.CURR_UNIQUE_ID=0,Event.getUniqueId=function(){return++Event.CURR_UNIQUE_ID,Event.CURR_UNIQUE_ID},Event.prototype.getId=function(){return this.nId},extend(DelayEvent,Event),DelayEvent.prototype.fire=function(){return assert(this.isCharged(),"DelayEvent.fire: assertion isCharged failed"),this.bWasFired=!0,this.aFunctor(),!0},DelayEvent.prototype.isCharged=function(){return!this.bWasFired},DelayEvent.prototype.getActivationTime=function(t){return this.nTimeout+t},DelayEvent.prototype.dispose=function(){this.isCharged()&&(this.bWasFired=!0)},DelayEvent.prototype.charge=function(){this.isCharged()||(this.bWasFired=!1)},extend(WakeupEvent,Event),WakeupEvent.prototype.clone=function(){var t=new WakeupEvent(this.aTimer.getTimeBase(),this.aActivityQueue);return t.nNextTime=this.nNextTime,t.aActivity=this.aActivity,t},WakeupEvent.prototype.dispose=function(){this.aActivity=null},WakeupEvent.prototype.fire=function(){return this.aActivity?this.aActivityQueue.addActivity(this.aActivity):!1},WakeupEvent.prototype.isCharged=function(){return!0},WakeupEvent.prototype.getActivationTime=function(t){var e=this.aTimer.getElapsedTime();return Math.max(t,t-e+this.nNextTime)},WakeupEvent.prototype.start=function(){this.aTimer.reset()},WakeupEvent.prototype.setNextTimeout=function(t){this.nNextTime=t},WakeupEvent.prototype.setActivity=function(t){this.aActivity=t},registerEvent.DEBUG=aRegisterEventDebugPrinter.isEnabled(),registerEvent.DBG=function(t,e){registerEvent.DEBUG&&aRegisterEventDebugPrinter.print("registerEvent( timing: "+t.info()+" )",e)},SourceEventElement.prototype.getId=function(){return this.sId},SourceEventElement.prototype.onMouseEnter=function(){this.bIsPointerOver=!0,this.setPointerCursor()},SourceEventElement.prototype.onMouseLeave=function(){this.bIsPointerOver=!1,this.setDefaultCursor()},SourceEventElement.prototype.charge=function(){this.bClickHandled=!1,this.setPointerCursor()},SourceEventElement.prototype.handleClick=function(){return this.bIsPointerOver?this.bClickHandled?!1:(this.aEventMultiplexer.notifyEvent(EVENT_TRIGGER_ON_CLICK,this.getId()),aSlideShow.update(),this.bClickHandled=!0,this.setDefaultCursor(),!0):!1},SourceEventElement.prototype.setPointerCursor=function(){this.bClickHandled||this.aElement.setAttribute("style","cursor: pointer")},SourceEventElement.prototype.setDefaultCursor=function(){this.aElement.setAttribute("style","cursor: default")},HyperlinkElement.prototype.onElementChanged=function(t){return t?void(this.sURL&&(this.aElement.removeEventListener("mouseover",this.mouseEnterHandler,!1),this.aElement.removeEventListener("mouseout",this.mouseLeaveHandler,!1),this.aElement=t,this.aElement.addEventListener("mouseover",this.mouseEnterHandler,!1),this.aElement.addEventListener("mouseout",this.mouseLeaveHandler,!1))):void log("error: HyperlinkElement: passed element is not valid")},HyperlinkElement.prototype.onMouseEnter=function(){this.bIsPointerOver=!0,this.setPointerCursor()},HyperlinkElement.prototype.onMouseLeave=function(){this.bIsPointerOver=!1,this.setDefaultCursor()},HyperlinkElement.prototype.handleClick=function(){if(!this.bIsPointerOver)return!1;if(void 0!==this.nTargetSlideIndex)aSlideShow.displaySlide(this.nTargetSlideIndex,!0);else{var t=document.defaultView;t?t.open(this.sURL,this.sId):log("error: HyperlinkElement.handleClick: invalid window object.")}return!0},HyperlinkElement.prototype.setPointerCursor=function(){this.bClickHandled||this.aElement.setAttribute("style","cursor: pointer")},HyperlinkElement.prototype.setDefaultCursor=function(){this.aElement.setAttribute("style","cursor: default")},InteractiveAnimationSequence.prototype.getId=function(){return this.nId},InteractiveAnimationSequence.prototype.getStartEvent=function(){return this.aStartEvent||(this.aStartEvent=makeEvent(bind2(InteractiveAnimationSequence.prototype.start,this))),this.aStartEvent},InteractiveAnimationSequence.prototype.getEndEvent=function(){return this.aEndEvent||(this.aEndEvent=makeEvent(bind2(InteractiveAnimationSequence.prototype.end,this))),this.aEndEvent},InteractiveAnimationSequence.prototype.chargeEvents=function(){this.aStartEvent&&this.aStartEvent.charge(),this.aEndEvent&&this.aEndEvent.charge()},InteractiveAnimationSequence.prototype.isRunning=function(){return this.bIsRunning},InteractiveAnimationSequence.prototype.start=function(){aSlideShow.notifyInteractiveAnimationSequenceStart(this.getId()),this.bIsRunning=!0},InteractiveAnimationSequence.prototype.end=function(){aSlideShow.notifyInteractiveAnimationSequenceEnd(this.getId()),this.bIsRunning=!1},PriorityEntry.compare=function(t,e){return t.nPriority<e.nPriority?-1:t.nPriority>e.nPriority?1:0},EventMultiplexer.CURR_UNIQUE_ID=0,EventMultiplexer.getUniqueId=function(){return++EventMultiplexer.CURR_UNIQUE_ID,EventMultiplexer.CURR_UNIQUE_ID},EventMultiplexer.prototype.getId=function(){return this.nId},EventMultiplexer.prototype.hasRegisteredMouseClickHandlers=function(){return!this.aMouseClickHandlerSet.isEmpty()},EventMultiplexer.prototype.registerMouseClickHandler=function(t,e){var i=new PriorityEntry(t,e);this.aMouseClickHandlerSet.push(i)},EventMultiplexer.prototype.notifyMouseClick=function(t){for(var e=this.aMouseClickHandlerSet.clone();!e.isEmpty();){var i=e.top();if(e.pop(),i.aValue.handleClick(t))break}},EventMultiplexer.prototype.registerEvent=function(t,e,i){this.DBG("registerEvent",t,e),this.aEventMap[t]||(this.aEventMap[t]={}),this.aEventMap[t][e]||(this.aEventMap[t][e]=[]),this.aEventMap[t][e].push(i)},EventMultiplexer.prototype.notifyEvent=function(t,e){if(this.DBG("notifyEvent",t,e),this.aEventMap[t]&&this.aEventMap[t][e])for(var i=this.aEventMap[t][e],n=i.length,a=0;n>a;++a)this.aTimerEventQueue.addEvent(i[a])},EventMultiplexer.prototype.registerNextEffectEndHandler=function(t){this.aSkipEffectEndHandlerSet.push(t)},EventMultiplexer.prototype.notifyNextEffectEndEvent=function(){for(var t=this.aSkipEffectEndHandlerSet.length,e=0;t>e;++e)this.aSkipEffectEndHandlerSet[e]();this.aSkipEffectEndHandlerSet=[]},EventMultiplexer.prototype.registerSkipEffectEvent=function(t){this.aSkipEffectEvent=t},EventMultiplexer.prototype.notifySkipEffectEvent=function(){this.aSkipEffectEvent&&(this.aTimerEventQueue.addEvent(this.aSkipEffectEvent),this.aSkipEffectEvent=null)},EventMultiplexer.prototype.registerRewindCurrentEffectEvent=function(t){this.aRewindCurrentEffectEvent=t},EventMultiplexer.prototype.notifyRewindCurrentEffectEvent=function(){this.aRewindCurrentEffectEvent&&(this.aTimerEventQueue.addEvent(this.aRewindCurrentEffectEvent),this.aRewindCurrentEffectEvent=null)},EventMultiplexer.prototype.registerRewindLastEffectEvent=function(t){this.aRewindLastEffectEvent=t},EventMultiplexer.prototype.notifyRewindLastEffectEvent=function(){this.aRewindLastEffectEvent&&(this.aTimerEventQueue.addEvent(this.aRewindLastEffectEvent),this.aRewindLastEffectEvent=null)},EventMultiplexer.prototype.registerSkipInteractiveEffectEvent=function(t,e){this.aSkipInteractiveEffectEventSet[t]=e},EventMultiplexer.prototype.notifySkipInteractiveEffectEvent=function(t){this.aSkipInteractiveEffectEventSet[t]&&this.aTimerEventQueue.addEvent(this.aSkipInteractiveEffectEventSet[t])},EventMultiplexer.prototype.registerRewindRunningInteractiveEffectEvent=function(t,e){this.aRewindRunningInteractiveEffectEventSet[t]=e},EventMultiplexer.prototype.notifyRewindRunningInteractiveEffectEvent=function(t){this.aRewindRunningInteractiveEffectEventSet[t]&&this.aTimerEventQueue.addEvent(this.aRewindRunningInteractiveEffectEventSet[t])},EventMultiplexer.prototype.registerRewindEndedInteractiveEffectEvent=function(t,e){this.aRewindEndedInteractiveEffectEventSet[t]=e},EventMultiplexer.prototype.notifyRewindEndedInteractiveEffectEvent=function(t){this.aRewindEndedInteractiveEffectEventSet[t]&&this.aTimerEventQueue.addEvent(this.aRewindEndedInteractiveEffectEventSet[t])},EventMultiplexer.prototype.registerRewindedEffectHandler=function(t,e){this.aRewindedEffectHandlerSet[t]=e},EventMultiplexer.prototype.notifyRewindedEffectEvent=function(t){this.aRewindedEffectHandlerSet[t]&&this.aRewindedEffectHandlerSet[t]()},EventMultiplexer.prototype.registerElementChangedHandler=function(t,e){this.aElementChangedHandlerSet[t]=e},EventMultiplexer.prototype.notifyElementChangedEvent=function(t,e){this.aElementChangedHandlerSet[t]&&this.aElementChangedHandlerSet[t](e)},EventMultiplexer.DEBUG=aEventMultiplexerDebugPrinter.isEnabled(),EventMultiplexer.prototype.DBG=function(t,e,i,n){if(EventMultiplexer.DEBUG){var a="EventMultiplexer."+t;a+="( type: "+aEventTriggerOutMap[e],a+=", notifier: "+i+" )",aEventMultiplexerDebugPrinter.print(a,n)}};var aInterpolatorHandler={};aInterpolatorHandler.getInterpolator=function(t,e,i){var n=("undefined"==typeof i?"undefined":_typeof(i))===_typeof(0);return!n&&aInterpolatorHandler.aLerpFunctorMap[t][e]?aInterpolatorHandler.aLerpFunctorMap[t][e]:n&&aInterpolatorHandler.aLerpFunctorMap[t][e][i]?aInterpolatorHandler.aLerpFunctorMap[t][e][i]:(log("aInterpolatorHandler.getInterpolator: not found any valid interpolator for calc mode "+aCalcModeOutMap[t]+" and value type "+aValueTypeOutMap[e]),null)},aInterpolatorHandler.aLerpFunctorMap=[],aInterpolatorHandler.aLerpFunctorMap[CALC_MODE_DISCRETE]=[],aInterpolatorHandler.aLerpFunctorMap[CALC_MODE_LINEAR]=[],aInterpolatorHandler.aLerpFunctorMap[CALC_MODE_LINEAR][NUMBER_PROPERTY]=function(t,e,i){return(1-i)*t+i*e},aInterpolatorHandler.aLerpFunctorMap[CALC_MODE_LINEAR][COLOR_PROPERTY]=[],aInterpolatorHandler.aLerpFunctorMap[CALC_MODE_LINEAR][COLOR_PROPERTY][COLOR_SPACE_RGB]=function(t,e,i){return RGBColor.interpolate(t,e,i)},aInterpolatorHandler.aLerpFunctorMap[CALC_MODE_LINEAR][COLOR_PROPERTY][COLOR_SPACE_HSL]=function(t){return function(e,i,n){return HSLColor.interpolate(e,i,n,t)}},KeyStopLerp.validateInput=function(t){var e=t.length;assert(e>1,"KeyStopLerp.validateInput: key stop vector must have two entries or more");for(var i=1;e>i;++i)t[i-1]>t[i]&&log("KeyStopLerp.validateInput: time vector is not sorted in ascending order!")},KeyStopLerp.prototype.reset=function(){KeyStopLerp.validateInput(this.aKeyStopList),this.nLastIndex=0,this.nKeyStopDistance=this.aKeyStopList[1]-this.aKeyStopList[0],this.nKeyStopDistance<=0&&(this.nKeyStopDistance=.001)},KeyStopLerp.prototype.lerp=function(t){if(t>this.aKeyStopList[this.nLastIndex+1])do{var e=this.nLastIndex+1;this.nLastIndex=clamp(e,0,this.nUpperBoundIndex),this.nKeyStopDistance=this.aKeyStopList[this.nLastIndex+1]-this.aKeyStopList[this.nLastIndex]}while(this.nKeyStopDistance<=0&&this.nLastIndex<this.nUpperBoundIndex);var i=(t-this.aKeyStopList[this.nLastIndex])/this.nKeyStopDistance;i=clamp(i,0,1);var n={};return n.nIndex=this.nLastIndex,n.nLerp=i,n},KeyStopLerp.prototype.lerp_ported=function(t){if(this.aKeyStopList[this.nLastIndex]<t||this.aKeyStopList[this.nLastIndex+1]>=t){for(var e=0;e<this.aKeyStopList.length&&!(this.aKeyStopList[e]>=t);++e);this.aKeyStopList[e]>t&&--e;var i=e-1;this.nLastIndex=clamp(i,0,this.aKeyStopList.length-2)}var n=(t-this.aKeyStopList[this.nLastIndex])/(this.aKeyStopList[this.nLastIndex+1]-this.aKeyStopList[this.nLastIndex]);n=clamp(n,0,1);var a={};return a.nIndex=this.nLastIndex,a.nLerp=n,a};var aOperatorSetMap=[];aOperatorSetMap[NUMBER_PROPERTY]={},aOperatorSetMap[NUMBER_PROPERTY].equal=function(t,e){return t===e},aOperatorSetMap[NUMBER_PROPERTY].add=function(t,e){return t+e},aOperatorSetMap[NUMBER_PROPERTY].scale=function(t,e){return t*e},aOperatorSetMap[COLOR_PROPERTY]={},aOperatorSetMap[COLOR_PROPERTY].equal=function(t,e){return t.equal(e)},aOperatorSetMap[COLOR_PROPERTY].add=function(t,e){var i=t.clone();return i.add(e),i},aOperatorSetMap[COLOR_PROPERTY].scale=function(t,e){var i=e.clone();return i.scale(t),i},aOperatorSetMap[ENUM_PROPERTY]={},aOperatorSetMap[ENUM_PROPERTY].equal=function(t,e){return t===e},aOperatorSetMap[ENUM_PROPERTY].add=function(t){return t},aOperatorSetMap[ENUM_PROPERTY].scale=function(t,e){return e},aOperatorSetMap[STRING_PROPERTY]=aOperatorSetMap[ENUM_PROPERTY],aOperatorSetMap[BOOL_PROPERTY]=aOperatorSetMap[ENUM_PROPERTY],AnimationActivity.CURR_UNIQUE_ID=0,AnimationActivity.getUniqueId=function(){return++AnimationActivity.CURR_UNIQUE_ID,AnimationActivity.CURR_UNIQUE_ID},AnimationActivity.prototype.getId=function(){return this.nId},extend(SetActivity,AnimationActivity),SetActivity.prototype.activate=function(t){this.aEndEvent=t,this.bIsActive=!0},SetActivity.prototype.dispose=function(){this.bIsActive=!1,this.aEndEvent&&this.aEndEvent.isCharged()&&this.aEndEvent.dispose()},SetActivity.prototype.calcTimeLag=function(){return 0},SetActivity.prototype.perform=function(){return this.isActive()?(this.bIsActive=!1,this.aAnimation&&this.aTargetElement&&(this.aAnimation.start(this.aTargetElement),this.aAnimation.perform(this.aToAttr),this.aAnimation.end()),void(this.aEndEvent&&this.aTimerEventQueue.addEvent(this.aEndEvent))):!1},SetActivity.prototype.isActive=function(){return this.bIsActive},SetActivity.prototype.dequeued=function(){},SetActivity.prototype.end=function(){this.perform()},SetActivity.prototype.setTargets=function(t){assert(t,"SetActivity.setTargets: target element is not valid"),this.aTargetElement=t},extend(ActivityBase,AnimationActivity),ActivityBase.prototype.activate=function(t){this.aEndEvent=t,this.bFirstPerformCall=!0,this.bIsActive=!0},ActivityBase.prototype.dispose=function(){this.bIsActive=!1,this.aEndEvent&&this.aEndEvent.dispose(),this.aEndEvent=null},ActivityBase.prototype.perform=function(){return this.isActive()?(assert(!this.bFirstPerformCall,"ActivityBase.perform: assertion (!this.FirstPerformCall) failed"),!0):!1},ActivityBase.prototype.calcTimeLag=function(){return this.isActive()&&this.bFirstPerformCall&&(this.bFirstPerformCall=!1,this.startAnimation()),0},ActivityBase.prototype.isActive=function(){return this.bIsActive},ActivityBase.prototype.isDisposed=function(){return!this.bIsActive&&!this.aEndEvent},ActivityBase.prototype.dequeued=function(){this.isActive()||this.endAnimation()},ActivityBase.prototype.setTargets=function(t){assert(t,"ActivityBase.setTargets: target element is not valid"),this.aTargetElement=t},ActivityBase.prototype.startAnimation=function(){throw"ActivityBase.startAnimation: abstract method invoked"},ActivityBase.prototype.endAnimation=function(){throw"ActivityBase.endAnimation: abstract method invoked"},ActivityBase.prototype.endActivity=function(){this.bIsActive=!1,this.aEndEvent&&this.aTimerEventQueue.addEvent(this.aEndEvent),this.aEndEvent=null},ActivityBase.prototype.calcAcceleratedTime=function(t){if(t=clamp(t,0,1),(this.nAccelerationFraction>0||this.nDecelerationFraction>0)&&this.nAccelerationFraction+this.nDecelerationFraction<=1){var e=1-.5*this.nAccelerationFraction-.5*this.nDecelerationFraction,i=0;if(t<this.nAccelerationFraction)i+=.5*t*t/this.nAccelerationFraction;else if(i+=.5*this.nAccelerationFraction,t<=1-this.nDecelerationFraction)i+=t-this.nAccelerationFraction;else{i+=1-this.nAccelerationFraction-this.nDecelerationFraction;var n=t-1+this.nDecelerationFraction;i+=n-.5*n*n/this.nDecelerationFraction}t=i/e}return t},ActivityBase.prototype.getEventQueue=function(){return this.aTimerEventQueue},ActivityBase.prototype.getTargetElement=function(){return this.aTargetElement},ActivityBase.prototype.isRepeatCountValid=function(){return!!this.nRepeats},ActivityBase.prototype.getRepeatCount=function(){return this.nRepeats},ActivityBase.prototype.isAutoReverse=function(){return this.bAutoReverse},ActivityBase.prototype.end=function(){this.isActive()&&!this.isDisposed()&&(this.bFirstPerformCall&&(this.bFirstPerformCall=!1,this.startAnimation()),this.performEnd(),this.endAnimation(),this.endActivity())},ActivityBase.prototype.performEnd=function(){throw"ActivityBase.performEnd: abstract method invoked"},extend(DiscreteActivityBase,ActivityBase),DiscreteActivityBase.prototype.activate=function(t){DiscreteActivityBase.superclass.activate.call(this,t),this.aWakeupEvent=this.aOriginalWakeupEvent,this.aWakeupEvent.setNextTimeout(0),this.nCurrPerformCalls=0},DiscreteActivityBase.prototype.startAnimation=function(){this.aWakeupEvent.start()},DiscreteActivityBase.prototype.calcFrameIndex=function(t,e){if(this.isAutoReverse()){var i=t%(2*e);return i>=e&&(i=2*e-i),i}return t%e},DiscreteActivityBase.prototype.calcRepeatCount=function(t,e){return this.isAutoReverse()?Math.floor(t/(2*e)):Math.floor(t/e)},DiscreteActivityBase.prototype.performDiscreteHook=function(){throw"DiscreteActivityBase.performDiscreteHook: abstract method invoked"},DiscreteActivityBase.prototype.perform=function(){if(!SimpleContinuousActivityBase.superclass.perform.call(this))return!1;var t=this.aDiscreteTimes.length,e=this.calcFrameIndex(this.nCurrPerformCalls,t),i=this.calcRepeatCount(this.nCurrPerformCalls,t);this.performDiscreteHook(e,i),++this.nCurrPerformCalls;var n=this.nCurrPerformCalls/t;if(this.isAutoReverse()&&(n/=2),!this.isRepeatCountValid()||n<this.getRepeatCount()){e=this.calcFrameIndex(this.nCurrPerformCalls,t);var a=this.aDiscreteTimes[e];i=this.calcRepeatCount(this.nCurrPerformCalls,t);var r=this.nMinSimpleDuration*(i+this.calcAcceleratedTime(a));this.aWakeupEvent.setNextTimeout(r),this.getEventQueue().addEvent(this.aWakeupEvent)}else this.aWakeupEvent=null,this.endActivity();return!1},DiscreteActivityBase.prototype.dispose=function(){this.aWakeupEvent&&this.aWakeupEvent.dispose(),this.aWakeupEvent=null,DiscreteActivityBase.superclass.dispose.call(this)},extend(SimpleContinuousActivityBase,ActivityBase),SimpleContinuousActivityBase.prototype.startAnimation=function(){this.aTimer.reset()},SimpleContinuousActivityBase.prototype.calcTimeLag=function(){if(SimpleContinuousActivityBase.superclass.calcTimeLag.call(this),!this.isActive())return 0;var t=this.aTimer.getElapsedTime(),e=t/this.nMinSimpleDuration,i=this.nCurrPerformCalls/this.nMinNumberOfFrames;return i>e?0:(e-i)*this.nMinSimpleDuration},SimpleContinuousActivityBase.prototype.perform=function(){if(!SimpleContinuousActivityBase.superclass.perform.call(this))return!1;var t=this.aTimer.getElapsedTime(),e=t/this.nMinSimpleDuration,i=!1;if(this.isRepeatCountValid()){var n=this.getRepeatCount(),a=this.isAutoReverse()?2*n:n;e>=a&&(i=!0,e=a)}var r,s;if(this.isAutoReverse()){r=Math.floor(e);var o=e-r;s=r%2?1-o:o,r/=2}else r=Math.floor(e),s=e-r,this.isRepeatCountValid()&&r>=this.getRepeatCount()&&(s=1,r-=1);return this.simplePerform(s,r),i&&this.endActivity(),++this.nCurrPerformCalls,this.isActive()},SimpleContinuousActivityBase.prototype.simplePerform=function(){throw"SimpleContinuousActivityBase.simplePerform: abstract method invoked"},extend(ContinuousKeyTimeActivityBase,SimpleContinuousActivityBase),ContinuousKeyTimeActivityBase.prototype.activate=function(t){ContinuousKeyTimeActivityBase.superclass.activate.call(this,t),this.aLerper.reset()},ContinuousKeyTimeActivityBase.prototype.performContinuousHook=function(){throw"ContinuousKeyTimeActivityBase.performContinuousHook: abstract method invoked"},ContinuousKeyTimeActivityBase.prototype.simplePerform=function(t,e){var i=this.calcAcceleratedTime(t),n=this.aLerper.lerp(i);this.performContinuousHook(n.nIndex,n.nLerp,e)},extend(ContinuousActivityBase,SimpleContinuousActivityBase),ContinuousActivityBase.prototype.performContinuousHook=function(){throw"ContinuousActivityBase.performContinuousHook: abstract method invoked"},ContinuousActivityBase.prototype.simplePerform=function(t,e){this.performContinuousHook(this.calcAcceleratedTime(t),e)},extend(SimpleActivity,ContinuousActivityBase),SimpleActivity.prototype.startAnimation=function(){!this.isDisposed()&&this.aAnimation&&(ANIMDBG.print("SimpleActivity.startAnimation invoked"),SimpleActivity.superclass.startAnimation.call(this),this.aAnimation.start(this.getTargetElement()))},SimpleActivity.prototype.endAnimation=function(){this.aAnimation&&this.aAnimation.end()},SimpleActivity.prototype.performContinuousHook=function(t){if(!this.isDisposed()&&this.aAnimation){var e=1-this.nDirection+t*(2*this.nDirection-1);this.aAnimation.perform(e)}},SimpleActivity.prototype.performEnd=function(){this.aAnimation&&this.aAnimation.perform(this.nDirection)};var LinearFromToByActivity=instantiate(FromToByActivityTemplate,ContinuousActivityBase),DiscreteFromToByActivity=instantiate(FromToByActivityTemplate,DiscreteActivityBase),LinearValueListActivity=instantiate(ValueListActivityTemplate,ContinuousKeyTimeActivityBase),DiscreteValueListActivity=instantiate(ValueListActivityTemplate,DiscreteActivityBase),BACKWARD=0,FORWARD=1,MAXIMUM_FRAME_COUNT=60,MINIMUM_TIMEOUT=1/MAXIMUM_FRAME_COUNT,MAXIMUM_TIMEOUT=4,MINIMUM_FRAMES_PER_SECONDS=10,PREFERRED_FRAMES_PER_SECONDS=50,PREFERRED_FRAME_RATE=1/PREFERRED_FRAMES_PER_SECONDS;Effect.NOT_STARTED=0,Effect.PLAYING=1,Effect.ENDED=2,Effect.prototype.getId=function(){return this.nId},Effect.prototype.isMainEffect=function(){return-1===this.nId},Effect.prototype.isPlaying=function(){return this.eState===Effect.PLAYING},Effect.prototype.isEnded=function(){return this.eState===Effect.ENDED},Effect.prototype.start=function(){assert(this.eState===Effect.NOT_STARTED,"Effect.start: wrong state."),this.eState=Effect.PLAYING},Effect.prototype.end=function(){assert(this.eState===Effect.PLAYING,"Effect.end: wrong state."),
this.eState=Effect.ENDED},SlideShow.prototype.setSlideEvents=function(t,e,i){t||log("SlideShow.setSlideEvents: aNextEffectEventArray is not valid"),e||log("SlideShow.setSlideEvents:aInteractiveAnimationSequenceMap  is not valid"),i||log("SlideShow.setSlideEvents: aEventMultiplexer is not valid"),this.aContext.aNextEffectEventArray=t,this.aNextEffectEventArray=t,this.aContext.aInteractiveAnimationSequenceMap=e,this.aInteractiveAnimationSequenceMap=e,this.aContext.aEventMultiplexer=i,this.aEventMultiplexer=i,this.nCurrentEffect=0},SlideShow.prototype.createSlideTransition=function(t,e,i,n){if(!i)return log("SlideShow.createSlideTransition: entering slide element is not valid."),null;if(this.bNoSlideTransition)return null;var a=null;e&&(a=new AnimatedSlide(e));var r=new AnimatedSlide(i),s=t.createSlideTransition(a,r);if(!s)return null;var o=.001;t.getDuration().isValue()?o=t.getDuration().getValue():log("SlideShow.createSlideTransition: duration is not a number");var l=new ActivityParamSet;return l.aEndEvent=n,l.aTimerEventQueue=this.aTimerEventQueue,l.aActivityQueue=this.aActivityQueue,l.nMinDuration=o,l.nMinNumberOfFrames=t.getMinFrameCount(),l.nSlideWidth=WIDTH,l.nSlideHeight=HEIGHT,new SimpleActivity(l,s,FORWARD)},SlideShow.prototype.isEnabled=function(){return this.bIsEnabled},SlideShow.prototype.isRunning=function(){return!this.bIsIdle},SlideShow.prototype.isTransitionPlaying=function(){return this.bIsTransitionRunning},SlideShow.prototype.isMainEffectPlaying=function(){return this.bIsNextEffectRunning},SlideShow.prototype.isInteractiveEffectPlaying=function(){return this.nTotalInteractivePlayingEffects>0},SlideShow.prototype.isAnyEffectPlaying=function(){return this.isMainEffectPlaying()||this.isInteractiveEffectPlaying()},SlideShow.prototype.hasAnyEffectStarted=function(){return this.aStartedEffectList.length>0},SlideShow.prototype.notifyNextEffectStart=function(){assert(!this.bIsNextEffectRunning,"SlideShow.notifyNextEffectStart: an effect is already started."),this.bIsNextEffectRunning=!0,this.aEventMultiplexer.registerNextEffectEndHandler(bind2(SlideShow.prototype.notifyNextEffectEnd,this));var t=new Effect;t.start(),this.aStartedEffectIndexMap[-1]=this.aStartedEffectList.length,this.aStartedEffectList.push(t);var e=theMetaDoc.aMetaSlideSet[nCurSlide].aSlideAnimationsHandler.aAnimatedElementMap;for(var i in e)e[i].notifyNextEffectStart(this.nCurrentEffect)},SlideShow.prototype.notifyNextEffectEnd=function(){assert(this.bIsNextEffectRunning,"SlideShow.notifyNextEffectEnd: effect already ended."),this.bIsNextEffectRunning=!1,this.aStartedEffectList[this.aStartedEffectIndexMap[-1]].end()},SlideShow.prototype.notifySlideStart=function(t,e){this.nCurrentEffect=0,this.bIsRewinding=!1,this.bIsSkipping=!1,this.bIsSkippingAll=!1,this.nTotalInteractivePlayingEffects=0,this.aStartedEffectList=[],this.aStartedEffectIndexMap={},this.aStartedEffectIndexMap[-1]=void 0;var i,n;if(void 0!==e){i=theMetaDoc.aMetaSlideSet[e].aSlideAnimationsHandler.aAnimatedElementMap;for(n in i)i[n].notifySlideEnd()}i=theMetaDoc.aMetaSlideSet[t].aSlideAnimationsHandler.aAnimatedElementMap;for(n in i)i[n].notifySlideStart(this.aContext)},SlideShow.prototype.notifyTransitionEnd=function(t){if(theMetaDoc.getCurrentSlide()){var e="url(#"+aPresentationClipPathId+")";theMetaDoc.getCurrentSlide().slideElement.setAttribute("clip-path",e)}if(this.bIsTransitionRunning=!1,this.bIsRewinding){theMetaDoc.aMetaSlideSet[t].hide();var i=void 0!==nCurSlide?nCurSlide:-1;return this.displaySlide(i,!0),this.skipAllEffects(),void(this.bIsRewinding=!1)}theMetaDoc.setCurrentSlide(t),this.aSlideViewElement&&(theMetaDoc.getCurrentSlide().aVisibilityStatusElement.parentNode.removeChild(this.aSlideViewElement),this.aSlideViewElement=null),this.isEnabled()&&(this.dispose(),theMetaDoc.getCurrentSlide().aSlideAnimationsHandler.start(),this.update())},SlideShow.prototype.notifyInteractiveAnimationSequenceStart=function(t){++this.nTotalInteractivePlayingEffects;var e=new Effect(t);e.start(),this.aStartedEffectIndexMap[t]=this.aStartedEffectList.length,this.aStartedEffectList.push(e)},SlideShow.prototype.notifyInteractiveAnimationSequenceEnd=function(t){assert(this.isInteractiveEffectPlaying(),"SlideShow.notifyInteractiveAnimationSequenceEnd: no interactive effect playing."),this.aStartedEffectList[this.aStartedEffectIndexMap[t]].end(),--this.nTotalInteractivePlayingEffects},SlideShow.prototype.nextEffect=function(){return this.isEnabled()?this.isTransitionPlaying()?(this.skipTransition(),!0):this.isAnyEffectPlaying()?(this.skipAllPlayingEffects(),!0):this.aNextEffectEventArray?this.nCurrentEffect>=this.aNextEffectEventArray.size()?!1:(this.notifyNextEffectStart(),this.aNextEffectEventArray.at(this.nCurrentEffect).fire(),++this.nCurrentEffect,this.update(),!0):!1:!1},SlideShow.prototype.skipTransition=function(){this.bIsSkipping||this.bIsRewinding||(this.bIsSkipping=!0,this.aActivityQueue.endAll(),this.aTimerEventQueue.forceEmpty(),this.aActivityQueue.endAll(),this.update(),this.bIsSkipping=!1)},SlideShow.prototype.skipAllPlayingEffects=function(){if(this.bIsSkipping||this.bIsRewinding)return!0;this.bIsSkipping=!0;for(var t=0;t<this.aStartedEffectList.length;++t){var e=this.aStartedEffectList[t];e.isPlaying()&&(e.isMainEffect()?this.aEventMultiplexer.notifySkipEffectEvent():this.aEventMultiplexer.notifySkipInteractiveEffectEvent(e.getId()))}return this.update(),this.bIsSkipping=!1,!0},SlideShow.prototype.skipNextEffect=function(){return this.bIsSkipping||this.bIsRewinding?!0:(assert(!this.isAnyEffectPlaying(),"SlideShow.skipNextEffect"),this.aNextEffectEventArray?this.nCurrentEffect>=this.aNextEffectEventArray.size()?!1:(this.notifyNextEffectStart(),this.bIsSkipping=!0,this.aNextEffectEventArray.at(this.nCurrentEffect).fire(),this.aEventMultiplexer.notifySkipEffectEvent(),++this.nCurrentEffect,this.update(),this.bIsSkipping=!1,!0):!1)},SlideShow.prototype.skipPlayingOrNextEffect=function(){return this.isTransitionPlaying()?(this.skipTransition(),!0):this.isAnyEffectPlaying()?this.skipAllPlayingEffects():this.skipNextEffect()},SlideShow.prototype.skipAllEffects=function(){if(this.bIsSkippingAll)return!0;if(this.bIsSkippingAll=!0,this.isTransitionPlaying()&&this.skipTransition(),this.isAnyEffectPlaying())this.skipAllPlayingEffects();else if(!this.aNextEffectEventArray||this.nCurrentEffect>=this.aNextEffectEventArray.size())return this.bIsSkippingAll=!1,!1;for(;this.nCurrentEffect<this.aNextEffectEventArray.size();)this.skipNextEffect();return this.bIsSkippingAll=!1,!0},SlideShow.prototype.rewindTransition=function(){this.bIsSkipping||this.bIsRewinding||(this.bIsRewinding=!0,this.aActivityQueue.endAll(),this.update(),this.bIsRewinding=!1)},SlideShow.prototype.rewindEffect=function(){if(!this.bIsSkipping&&!this.bIsRewinding){if(!this.hasAnyEffectStarted())return void this.rewindToPreviousSlide();this.bIsRewinding=!0;for(var t=void 0,e=0;e<this.aStartedEffectList.length;++e){var i=this.aStartedEffectList[e];if(i.isPlaying()){t=e;break}}if(void 0!==t){for(e=this.aStartedEffectList.length-1;e>=t;--e)i=this.aStartedEffectList[e],i.isPlaying()?i.isMainEffect()?(this.aEventMultiplexer.notifyRewindCurrentEffectEvent(),this.nCurrentEffect>0&&--this.nCurrentEffect):this.aEventMultiplexer.notifyRewindRunningInteractiveEffectEvent(i.getId()):i.isEnded()&&(i.isMainEffect()?(this.aEventMultiplexer.notifyRewindLastEffectEvent(),this.nCurrentEffect>0&&--this.nCurrentEffect):this.aEventMultiplexer.notifyRewindEndedInteractiveEffectEvent(i.getId()));for(this.update(),e=this.aStartedEffectList.length-1;e>=t;--e)i=this.aStartedEffectList.pop(),i.isMainEffect()||delete this.aStartedEffectIndexMap[i.getId()]}else i=this.aStartedEffectList.pop(),i.isMainEffect()||delete this.aStartedEffectIndexMap[i.getId()],i.isEnded()&&(i.isMainEffect()?(this.aEventMultiplexer.notifyRewindLastEffectEvent(),this.nCurrentEffect>0&&--this.nCurrentEffect):this.aEventMultiplexer.notifyRewindEndedInteractiveEffectEvent(i.getId())),this.update();this.bIsRewinding=!1}},SlideShow.prototype.rewindToPreviousSlide=function(){if(this.isTransitionPlaying())return void this.rewindTransition();if(!this.isAnyEffectPlaying()){var t=nCurSlide-1;this.displaySlide(t,!0),this.skipAllEffects()}},SlideShow.prototype.rewindAllEffects=function(){if(!this.hasAnyEffectStarted())return void this.rewindToPreviousSlide();for(;this.hasAnyEffectStarted();)this.rewindEffect()},SlideShow.prototype.displaySlide=function(t,e){var i=theMetaDoc,n=i.nNumberOfSlides;if(0>t&&n>0?t=n-1:t>=n&&(t=0),currentMode===INDEX_MODE&&t===nCurSlide)return void i.getCurrentSlide().show();this.isTransitionPlaying()&&this.skipTransition();var a=nCurSlide;if(void 0!==a){var r=i.aMetaSlideSet[a];this.isEnabled()&&r.aSlideAnimationsHandler.isAnimated()&&(r.aSlideAnimationsHandler.end(e),this.dispose())}if(this.notifySlideStart(t,a),this.isEnabled()&&!e)if(void 0!==a&&(t>a||0==t&&a==i.nNumberOfSlides-1)||void 0===a&&0==t){var s=null;s=void 0===a?i.theMetaDummySlide:i.aMetaSlideSet[a];var o=i.aMetaSlideSet[t],l=o.aTransitionHandler;if(l&&l.isValid()){var E="url(#"+aPresentationClipPathShrinkId+")";s.slideElement.setAttribute("clip-path",E),a>t&&(this.aSlideViewElement=document.createElementNS(NSS.svg,"use"),setNSAttribute("xlink",this.aSlideViewElement,"href","#"+s.slideContainerId),o.aVisibilityStatusElement.parentNode.insertBefore(this.aSlideViewElement,o.aVisibilityStatusElement),s.hide());var h=s,u=o,c=makeEvent(bind2(this.notifyTransitionEnd,this,t)),d=this.createSlideTransition(l,h,u,c);d?(this.bIsTransitionRunning=!0,this.aActivityQueue.addActivity(d),this.update()):this.notifyTransitionEnd(t)}else this.notifyTransitionEnd(t)}else this.notifyTransitionEnd(t);else this.notifyTransitionEnd(t)},SlideShow.prototype.update=function(){this.aTimer.holdTimer(),this.aTimerEventQueue.process(),this.aActivityQueue.process(),this.aFrameSynchronization.synchronize(),this.aActivityQueue.processDequeued(),this.aTimer.releaseTimer();var t=!this.aActivityQueue.isEmpty(),e=!this.aTimerEventQueue.isEmpty(),i=t||e;if(i){var n;t?(n=MINIMUM_TIMEOUT,this.aFrameSynchronization.activate()):(n=this.aTimerEventQueue.nextTimeout(),MINIMUM_TIMEOUT>n?n=MINIMUM_TIMEOUT:n>MAXIMUM_TIMEOUT&&(n=MAXIMUM_TIMEOUT),this.aFrameSynchronization.deactivate()),this.bIsIdle=!1,window.setTimeout(aSlideShow.update.bind(this),1e3*n)}else this.bIsIdle=!0},SlideShow.prototype.dispose=function(){this.aTimerEventQueue.clear(),this.aActivityQueue.clear(),this.aNextEffectEventArray=null,this.aEventMultiplexer=null},SlideShow.prototype.getContext=function(){return this.aContext};var aSlideShow=null;FrameSynchronization.prototype.markCurrentFrame=function(){this.nNextFrameTargetTime=this.aTimer.getElapsedTime()+this.nFrameDuration},FrameSynchronization.prototype.synchronize=function(){if(this.bIsActive)for(;this.aTimer.getElapsedTime()<this.nNextFrameTargetTime;);this.markCurrentFrame()},FrameSynchronization.prototype.activate=function(){this.bIsActive=!0},FrameSynchronization.prototype.deactivate=function(){this.bIsActive=!1},NextEffectEventArray.prototype.size=function(){return this.aEventArray.length},NextEffectEventArray.prototype.at=function(t){return this.aEventArray[t]},NextEffectEventArray.prototype.appendEvent=function(t){for(var e=this.size(),i=0;e>i;++i)if(this.aEventArray[i].getId()==t.getId())return aNextEffectEventArrayDebugPrinter.print("NextEffectEventArray.appendEvent: event("+t.getId()+") already present"),!1;return this.aEventArray.push(t),aNextEffectEventArrayDebugPrinter.print("NextEffectEventArray.appendEvent: event("+t.getId()+") appended"),!0},NextEffectEventArray.prototype.clear=function(){this.aEventArray=[]},TimerEventQueue.prototype.addEvent=function(t){if(this.DBG("TimerEventQueue.addEvent event("+t.getId()+") appended."),!t)return log("TimerEventQueue.addEvent: null event"),!1;var e=t.getActivationTime(this.aTimer.getElapsedTime()),i=new EventEntry(t,e);return this.aEventSet.push(i),!0},TimerEventQueue.prototype.forceEmpty=function(){this.process_(!0)},TimerEventQueue.prototype.process=function(){this.process_(!1)},TimerEventQueue.prototype.process_=function(t){for(var e=this.aTimer.getElapsedTime();!this.isEmpty()&&(t||this.aEventSet.top().nActivationTime<=e);){var i=this.aEventSet.top();this.aEventSet.pop();var n=i.aEvent;n.isCharged()&&n.fire()}},TimerEventQueue.prototype.isEmpty=function(){return this.aEventSet.isEmpty()},TimerEventQueue.prototype.nextTimeout=function(){var t=Number.MAX_VALUE,e=this.aTimer.getElapsedTime();return this.isEmpty()||(t=this.aEventSet.top().nActivationTime-e),t},TimerEventQueue.prototype.clear=function(){this.DBG("TimerEventQueue.clear invoked"),this.aEventSet.clear()},TimerEventQueue.prototype.getTimer=function(){return this.aTimer},TimerEventQueue.prototype.DBG=function(t,e){aTimerEventQueueDebugPrinter.print(t,e)},TimerEventQueue.prototype.insert=function(t){for(var e=this.aEventSet.length,i=Math.floor((e-1)/2);e>0&&this.aEventSet[i].compare(t);)this.aEventSet[e]=this.aEventSet[i],e=i,i=Math.floor((e-1)/2);this.aEventSet[e]=t},EventEntry.compare=function(t,e){return t.nActivationTime>e.nActivationTime?-1:t.nActivationTime<e.nActivationTime?1:0},ActivityQueue.prototype.dispose=function(){var t,e=this.aCurrentActivityWaitingSet.length;for(t=0;e>t;++t)this.aCurrentActivityWaitingSet[t].dispose();for(e=this.aCurrentActivityReinsertSet.length,t=0;e>t;++t)this.aCurrentActivityReinsertSet[t].dispose()},ActivityQueue.prototype.addActivity=function(t){return t?(this.aCurrentActivityWaitingSet.push(t),aActivityQueueDebugPrinter.print("ActivityQueue.addActivity: activity appended"),!0):(log("ActivityQueue.addActivity: activity is not valid"),!1)},ActivityQueue.prototype.process=function(){for(var t=this.aCurrentActivityWaitingSet.length,e=0,i=0;t>i;++i)e=Math.max(e,this.aCurrentActivityWaitingSet[i].calcTimeLag());for(e>0&&this.aTimer.adjustTimer(-e,!0);0!=this.aCurrentActivityWaitingSet.length;){var n=this.aCurrentActivityWaitingSet.shift(),a=!1;a=n.perform(),a?this.aCurrentActivityReinsertSet.push(n):this.aDequeuedActivitySet.push(n)}0!=this.aCurrentActivityReinsertSet.length&&(this.aCurrentActivityWaitingSet=this.aCurrentActivityReinsertSet,this.aCurrentActivityReinsertSet=[])},ActivityQueue.prototype.processDequeued=function(){for(var t=this.aDequeuedActivitySet.length,e=0;t>e;++e)this.aDequeuedActivitySet[e].dequeued();this.aDequeuedActivitySet=[]},ActivityQueue.prototype.isEmpty=function(){return 0==this.aCurrentActivityWaitingSet.length&&0==this.aCurrentActivityReinsertSet.length},ActivityQueue.prototype.clear=function(){aActivityQueueDebugPrinter.print("ActivityQueue.clear invoked");var t,e=this.aCurrentActivityWaitingSet.length;for(t=0;e>t;++t)this.aCurrentActivityWaitingSet[t].dequeued();for(this.aCurrentActivityWaitingSet=[],e=this.aCurrentActivityReinsertSet.length,t=0;e>t;++t)this.aCurrentActivityReinsertSet[t].dequeued();this.aCurrentActivityReinsertSet=[]},ActivityQueue.prototype.endAll=function(){aActivityQueueDebugPrinter.print("ActivityQueue.endAll invoked");var t,e=this.aCurrentActivityWaitingSet.length;for(t=0;e>t;++t)this.aCurrentActivityWaitingSet[t].end();for(this.aCurrentActivityWaitingSet=[],e=this.aCurrentActivityReinsertSet.length,t=0;e>t;++t)this.aCurrentActivityReinsertSet[t].end();this.aCurrentActivityReinsertSet=[]},ActivityQueue.prototype.getTimer=function(){return this.aTimer},ActivityQueue.prototype.size=function(){return this.aCurrentActivityWaitingSet.length+this.aCurrentActivityReinsertSet.length+this.aDequeuedActivitySet.length},ElapsedTime.prototype.getTimeBase=function(){return this.aTimeBase},ElapsedTime.prototype.reset=function(){this.nLastQueriedTime=0,this.nStartTime=this.getCurrentTime(),this.nFrozenTime=0,this.bInPauseMode=!1,this.bInHoldMode=!1},ElapsedTime.prototype.getElapsedTime=function(){return this.nLastQueriedTime=this.getElapsedTimeImpl(),this.nLastQueriedTime},ElapsedTime.prototype.pauseTimer=function(){this.nFrozenTime=this.getElapsedTimeImpl(),this.bInPauseMode=!0},ElapsedTime.prototype.continueTimer=function(){this.bInPauseMode=!1;var t=this.getElapsedTimeImpl()-this.nFrozenTime;this.nStartTime+=t},ElapsedTime.prototype.adjustTimer=function(t,e){void 0==e&&(e=!0),this.nStartTime-=t,(this.bInHoldMode||this.bInPauseMode)&&(this.nFrozenTime+=t)},ElapsedTime.prototype.holdTimer=function(){this.nFrozenTime=this.getElapsedTimeImpl(),this.bInHoldMode=!0},ElapsedTime.prototype.releaseTimer=function(){this.bInHoldMode=!1},ElapsedTime.prototype.getSystemTime=function(){return getCurrentSystemTime()/1e3},ElapsedTime.prototype.getCurrentTime=function(){var t;return t=this.aTimeBase?this.aTimeBase.getElapsedTimeImpl():this.getSystemTime(),assert(("undefined"==typeof t?"undefined":_typeof(t))===_typeof(0)&&isFinite(t),"ElapsedTime.getCurrentTime: assertion failed: nCurrentTime == "+t),t},ElapsedTime.prototype.getElapsedTimeImpl=function(){if(this.bInHoldMode||this.bInPauseMode)return this.nFrozenTime;var t=this.getCurrentTime();return t-this.nStartTime};

},{"./dojo_sniffer.js":1,"./svgPath.js":3}],3:[function(require,module,exports){
"use strict";!function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,r){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=r},SVGPathSeg.prototype.classname="SVGPathSeg",SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=r},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=r},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=r},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=r},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,r,n,i,h,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=r,this._x1=n,this._y1=i,this._x2=h,this._y2=o},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,r,n,i,h,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=r,this._x1=n,this._y1=i,this._x2=h,this._y2=o},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,r,n,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=r,this._x1=n,this._y1=i},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,r,n,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=r,this._x1=n,this._y1=i},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,r,n,i,h,o,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=r,this._r1=n,this._r2=i,this._angle=h,this._largeArcFlag=o,this._sweepFlag=s},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,r,n,i,h,o,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=r,this._r1=n,this._r2=i,this._angle=h,this._largeArcFlag=o,this._sweepFlag=s},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,r,n,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=r,this._x2=n,this._y2=i},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,r,n,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=r,this._x2=n,this._y2=i},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=r},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=r},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new SVGPathSegMovetoAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new SVGPathSegMovetoRel(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new SVGPathSegLinetoAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new SVGPathSegLinetoRel(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,r,n,i,h){return new SVGPathSegCurvetoCubicAbs(void 0,t,e,r,n,i,h)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,r,n,i,h){return new SVGPathSegCurvetoCubicRel(void 0,t,e,r,n,i,h)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,r,n){return new SVGPathSegCurvetoQuadraticAbs(void 0,t,e,r,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,r,n){return new SVGPathSegCurvetoQuadraticRel(void 0,t,e,r,n)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,r,n,i,h,o){return new SVGPathSegArcAbs(void 0,t,e,r,n,i,h,o)},SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,r,n,i,h,o){return new SVGPathSegArcRel(void 0,t,e,r,n,i,h,o)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new SVGPathSegLinetoHorizontalAbs(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new SVGPathSegLinetoHorizontalRel(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new SVGPathSegLinetoVerticalAbs(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new SVGPathSegLinetoVerticalRel(void 0,t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,r,n){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,r,n)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,r,n){return new SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,r,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)}),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||0>t||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.matrixTransform=function(t){this._checkPathSynchronizedToList();for(var e=this._list.length,r=0;e>r;++r){var n,i=this._list[r];switch(i.pathSegTypeAsLetter){case"C":n=i._x2,i._x2=t.a*n+t.c*i._y2+t.e,i._y2=t.b*n+t.d*i._y2+t.f;case"Q":n=i._x1,i._x1=t.a*n+t.c*i._y1+t.e,i._y1=t.b*n+t.d*i._y1+t.f;case"M":case"L":n=i._x,i._x=t.a*n+t.c*i._y+t.e,i._y=t.b*n+t.d*i._y+t.f;break;default:log("SVGPathSeg.matrixTransform: unexpected path segment type: "+i.pathSegTypeAsLetter)}}this._writeListToPath()},SVGPathSegList.prototype.changeOrientation=function(){this._checkPathSynchronizedToList();var t=this._list,e=t.length;if(0!=e){var r=0,n=0,i=t[0];"M"==i.pathSegTypeAsLetter&&(r=i.x,n=i.y,t.shift(),--e);var h;for(h=0;e>h;++h)switch(i=t[h],i.pathSegTypeAsLetter){case"C":var o=i._x1;i._x1=i._x2,i._x2=o;var s=i._y1;i._y1=i._y2,i._y2=s;case"M":case"L":case"Q":var a={x:i._x,y:i._y};i._x=r,i._y=n,r=a.x,n=a.y;break;default:log("SVGPathSegList.changeOrientation: unexpected path segment type: "+i.pathSegTypeAsLetter)}t.reverse();var S=new SVGPathSegMovetoAbs(this,r,n);t.unshift(S),this._writeListToPath()}},SVGPathSegList._pathSegArrayAsString=function(t){var e="",r=!0;return t.forEach(function(t){r?(r=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,r=function(){this.pathSegList=[]};r.prototype.appendSegment=function(t){this.pathSegList.push(t)};var n=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return" ">=t&&(" "==t||"\n"==t||"	"==t||"\r"==t||"\f"==t)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex)?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},n.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&"9">=t)&&e!=SVGPathSeg.PATHSEG_CLOSEPATH?e==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:e==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:e:SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==SVGPathSeg.PATHSEG_MOVETO_ABS||t==SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var t=0,e=0,r=1,n=0,i=1,h=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))return void 0;
for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var a=this._currentIndex-1,S=1;a>=s;)e+=S*(this._string.charAt(a--)-"0"),S*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return void 0;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)r*=10,n+=(this._string.charAt(this._currentIndex)-"0")/r,this._currentIndex+=1}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,h=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return void 0;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+n;return u*=i,t&&(u*=Math.pow(10,h*t)),o==this._currentIndex?void 0:(this._skipOptionalSpacesOrDelimiter(),u)},n.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return void 0;var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return void 0;t=!0}return this._skipOptionalSpacesOrDelimiter(),t},n.prototype.parseSegment=function(){var t=this._string[this._currentIndex],r=this._pathSegTypeFromChar(t);if(r==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(r=this._nextCommandHelper(t,this._previousCommand),r==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=r,r){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(e,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var h={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(e,h.x,h.y,h.x2,h.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var o={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(e,o.x,o.y,o.x2,o.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var s={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(e,s.x,s.y,s.x1,s.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var a={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(e,a.x,a.y,a.x1,a.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var S={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(e,S.x,S.y,S.x1,S.y1,S.arcAngle,S.arcLarge,S.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var u={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(e,u.x,u.y,u.x1,u.y1,u.arcAngle,u.arcLarge,u.arcSweep);default:throw"Unknown path seg type."}};var i=new r,h=new n(t);if(!h.initialCommandIsMoveTo())return[];for(;h.hasMoreData();){var o=h.parseSegment();if(!o)return[];i.appendSegment(o)}return i.pathSegList})}();

},{}]},{},[2]);
